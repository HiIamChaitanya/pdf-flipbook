(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("pdfjs-dist/build/pdf",[],r);else if(typeof exports==="object")exports["pdfjs-dist/build/pdf"]=r();else t["pdfjs-dist/build/pdf"]=t.pdfjsLib=r()})(this,function(){return function(e){var t={};function r(n){if(t[n]){return t[n].exports}var a=t[n]={i:n,l:false,exports:{}};e[n].call(a.exports,a,a.exports,r);a.l=true;return a.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,t){if(t&1)e=r(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=0)}([function(e,t,r){"use strict";var n="2.3.200";var a="4ae3f9fc";var i=r(1);var o=r(179);var s=r(194);var u=r(195);var l=r(183);var c=r(196);var f=r(188);var h=r(185);{var d=r(4);if(d()){var v=r(197).PDFNodeStream;o.setPDFNetworkStreamFactory(function(e){return new v(e)})}else{var p=r(200).PDFNetworkStream;var g;if(l.isFetchSupported()){g=r(201).PDFFetchStream}o.setPDFNetworkStreamFactory(function(e){if(g&&l.isValidFetchUrl(e.url)){return new g(e)}return new p(e)})}}t.build=o.build;t.version=o.version;t.getDocument=o.getDocument;t.LoopbackPort=o.LoopbackPort;t.PDFDataRangeTransport=o.PDFDataRangeTransport;t.PDFWorker=o.PDFWorker;t.renderTextLayer=s.renderTextLayer;t.AnnotationLayer=u.AnnotationLayer;t.createPromiseCapability=i.createPromiseCapability;t.PasswordResponses=i.PasswordResponses;t.InvalidPDFException=i.InvalidPDFException;t.MissingPDFException=i.MissingPDFException;t.SVGGraphics=c.SVGGraphics;t.NativeImageDecoding=i.NativeImageDecoding;t.CMapCompressionType=i.CMapCompressionType;t.PermissionFlag=i.PermissionFlag;t.UnexpectedResponseException=i.UnexpectedResponseException;t.OPS=i.OPS;t.VerbosityLevel=i.VerbosityLevel;t.UNSUPPORTED_FEATURES=i.UNSUPPORTED_FEATURES;t.createValidAbsoluteUrl=i.createValidAbsoluteUrl;t.createObjectURL=i.createObjectURL;t.removeNullCharacters=i.removeNullCharacters;t.shadow=i.shadow;t.Util=i.Util;t.ReadableStream=i.ReadableStream;t.RenderingCancelledException=l.RenderingCancelledException;t.getFilenameFromUrl=l.getFilenameFromUrl;t.LinkTarget=l.LinkTarget;t.addLinkAttributes=l.addLinkAttributes;t.loadScript=l.loadScript;t.PDFDateString=l.PDFDateString;t.GlobalWorkerOptions=f.GlobalWorkerOptions;t.apiCompatibilityParams=h.apiCompatibilityParams},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.arrayByteLength=ne;t.arraysToBytes=ae;t.assert=U;t.bytesToString=te;t.createPromiseCapability=xe;t.getVerbosityLevel=M;t.info=N;t.isArrayBuffer=Se;t.isArrayEqual=we;t.isBool=be;t.isEmptyObj=ye;t.isNum=_e;t.isString=Ae;t.isSpace=ke;t.isSameOrigin=W;t.createValidAbsoluteUrl=z;t.isLittleEndian=ce;t.isEvalSupported=fe;t.log2=oe;t.readInt8=se;t.readUint16=ue;t.readUint32=le;t.removeNullCharacters=ee;t.setVerbosityLevel=j;t.shadow=G;t.string32=ie;t.stringToBytes=re;t.stringToPDFString=pe;t.stringToUTF8String=ge;t.utf8StringToString=me;t.warn=D;t.unreachable=q;Object.defineProperty(t,"ReadableStream",{enumerable:true,get:function(){return n.ReadableStream}});t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0;r(2);var n=r(177);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}var d=[1,0,0,1,0,0];t.IDENTITY_MATRIX=d;var v=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=v;var p={NONE:"none",DECODE:"decode",DISPLAY:"display"};t.NativeImageDecoding=p;var g={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=g;var m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=m;var y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=y;var b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=b;var _={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=_;var A={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=A;var S={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=S;var w={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=w;var k={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=k;var x={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=x;var C={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=C;var P={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=P;var R={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=R;var E={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=E;var T={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=T;var O={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=O;var L={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};t.UNSUPPORTED_FEATURES=L;var F={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=F;var I=E.WARNINGS;function j(e){if(Number.isInteger(e)){I=e}}function M(){return I}function N(e){if(I>=E.INFOS){console.log("Info: ".concat(e))}}function D(e){if(I>=E.WARNINGS){console.log("Warning: ".concat(e))}}function q(e){throw new Error(e)}function U(e,t){if(!e){q(t)}}function W(e,t){var r;try{r=new URL(e);if(!r.origin||r.origin==="null"){return false}}catch(e){return false}var n=new URL(t,r);return r.origin===n.origin}function B(e){if(!e){return false}switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return true;default:return false}}function z(e,t){if(!e){return null}try{var r=t?new URL(e,t):new URL(e);if(B(r)){return r}}catch(e){}return null}function G(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:false});return r}var H=function e(){function t(e){if(this.constructor===t){q("Cannot initialize BaseException.")}this.message=e;this.name=this.constructor.name}t.prototype=new Error;t.constructor=t;return t}();t.BaseException=H;var X=function(e){f(t,e);function t(e,r){var n;s(this,t);n=u(this,c(t).call(this,e));n.code=r;return n}return t}(H);t.PasswordException=X;var Y=function(e){f(t,e);function t(e,r){var n;s(this,t);n=u(this,c(t).call(this,e));n.details=r;return n}return t}(H);t.UnknownErrorException=Y;var V=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.InvalidPDFException=V;var Q=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.MissingPDFException=Q;var K=function(e){f(t,e);function t(e,r){var n;s(this,t);n=u(this,c(t).call(this,e));n.status=r;return n}return t}(H);t.UnexpectedResponseException=K;var J=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.FormatError=J;var Z=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.AbortException=Z;var $=/\x00/g;function ee(e){if(typeof e!=="string"){D("The argument for removeNullCharacters must be a string.");return e}return e.replace($,"")}function te(e){U(e!==null&&o(e)==="object"&&e.length!==undefined,"Invalid argument for bytesToString");var t=e.length;var r=8192;if(t<r){return String.fromCharCode.apply(null,e)}var n=[];for(var a=0;a<t;a+=r){var i=Math.min(a+r,t);var s=e.subarray(a,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function re(e){U(typeof e==="string","Invalid argument for stringToBytes");var t=e.length;var r=new Uint8Array(t);for(var n=0;n<t;++n){r[n]=e.charCodeAt(n)&255}return r}function ne(e){if(e.length!==undefined){return e.length}U(e.byteLength!==undefined);return e.byteLength}function ae(e){var t=e.length;if(t===1&&e[0]instanceof Uint8Array){return e[0]}var r=0;for(var n=0;n<t;n++){r+=ne(e[n])}var a=0;var i=new Uint8Array(r);for(var o=0;o<t;o++){var s=e[o];if(!(s instanceof Uint8Array)){if(typeof s==="string"){s=re(s)}else{s=new Uint8Array(s)}}var u=s.byteLength;i.set(s,a);a+=u}return i}function ie(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function oe(e){if(e<=0){return 0}return Math.ceil(Math.log2(e))}function se(e,t){return e[t]<<24>>24}function ue(e,t){return e[t]<<8|e[t+1]}function le(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function ce(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return t[0]===1}function fe(){try{new Function("");return true}catch(e){return false}}var he=["rgb(",0,",",0,",",0,")"];var de=function(){function e(){s(this,e)}i(e,null,[{key:"makeCssRgb",value:function e(t,r,n){he[1]=t;he[3]=r;he[5]=n;return he.join("")}},{key:"transform",value:function e(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function e(t,r){var n=t[0]*r[0]+t[1]*r[2]+r[4];var a=t[0]*r[1]+t[1]*r[3]+r[5];return[n,a]}},{key:"applyInverseTransform",value:function e(t,r){var n=r[0]*r[3]-r[1]*r[2];var a=(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n;var i=(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[a,i]}},{key:"getAxialAlignedBoundingBox",value:function t(r,n){var a=e.applyTransform(r,n);var i=e.applyTransform(r.slice(2,4),n);var o=e.applyTransform([r[0],r[3]],n);var s=e.applyTransform([r[2],r[1]],n);return[Math.min(a[0],i[0],o[0],s[0]),Math.min(a[1],i[1],o[1],s[1]),Math.max(a[0],i[0],o[0],s[0]),Math.max(a[1],i[1],o[1],s[1])]}},{key:"inverseTransform",value:function e(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"apply3dTransform",value:function e(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]}},{key:"singularValueDecompose2dScale",value:function e(t){var r=[t[0],t[2],t[1],t[3]];var n=t[0]*r[0]+t[1]*r[2];var a=t[0]*r[1]+t[1]*r[3];var i=t[2]*r[0]+t[3]*r[2];var o=t[2]*r[1]+t[3]*r[3];var s=(n+o)/2;var u=Math.sqrt((n+o)*(n+o)-4*(n*o-i*a))/2;var l=s+u||1;var c=s-u||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function e(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function t(r,n){function a(e,t){return e-t}var i=[r[0],r[2],n[0],n[2]].sort(a);var o=[r[1],r[3],n[1],n[3]].sort(a);var s=[];r=e.normalizeRect(r);n=e.normalizeRect(n);if(i[0]===r[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===r[0]){s[0]=i[1];s[2]=i[2]}else{return null}if(o[0]===r[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===r[1]){s[1]=o[1];s[3]=o[2]}else{return null}return s}}]);return e}();t.Util=de;var ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pe(e){var t=e.length,r=[];if(e[0]==="þ"&&e[1]==="ÿ"){for(var n=2;n<t;n+=2){r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)))}}else{for(var a=0;a<t;++a){var i=ve[e.charCodeAt(a)];r.push(i?String.fromCharCode(i):e.charAt(a))}}return r.join("")}function ge(e){return decodeURIComponent(escape(e))}function me(e){return unescape(encodeURIComponent(e))}function ye(e){for(var t in e){return false}return true}function be(e){return typeof e==="boolean"}function _e(e){return typeof e==="number"}function Ae(e){return typeof e==="string"}function Se(e){return o(e)==="object"&&e!==null&&e.byteLength!==undefined}function we(e,t){if(e.length!==t.length){return false}return e.every(function(e,r){return e===t[r]})}function ke(e){return e===32||e===9||e===13||e===10}function xe(){var e=Object.create(null);var t=false;Object.defineProperty(e,"settled",{get:function e(){return t}});e.promise=new Promise(function(r,n){e.resolve=function(e){t=true;r(e)};e.reject=function(e){t=true;n(e)}});return e}var Ce=function e(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function e(r,n){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!a&&URL.createObjectURL){var i=new Blob([r],{type:n});return URL.createObjectURL(i)}var o="data:".concat(n,";base64,");for(var s=0,u=r.length;s<u;s+=3){var l=r[s]&255;var c=r[s+1]&255;var f=r[s+2]&255;var h=l>>2,d=(l&3)<<4|c>>4;var v=s+1<u?(c&15)<<2|f>>6:64;var p=s+2<u?f&63:64;o+=t[h]+t[d]+t[v]+t[p]}return o}}();t.createObjectURL=Ce},function(e,t,r){"use strict";function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}var a=r(3);if(!a._pdfjsCompatibilityChecked){a._pdfjsCompatibilityChecked=true;var i=r(4);var o=(typeof window==="undefined"?"undefined":n(window))==="object"&&(typeof document==="undefined"?"undefined":n(document))==="object";(function e(){if(a.btoa||!i()){return}a.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}})();(function e(){if(a.atob||!i()){return}a.atob=function(e){return Buffer.from(e,"base64").toString("binary")}})();(function e(){if(!o){return}if(typeof Element.prototype.remove!=="undefined"){return}Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}})();(function e(){if(!o||i()){return}var t=document.createElement("div");t.classList.add("testOne","testTwo");if(t.classList.contains("testOne")===true&&t.classList.contains("testTwo")===true){return}var r=DOMTokenList.prototype.add;var n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}for(var a=0,i=t;a<i.length;a++){var o=i[a];r.call(this,o)}};DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}for(var a=0,i=t;a<i.length;a++){var o=i[a];n.call(this,o)}}})();(function e(){if(!o||i()){return}var t=document.createElement("div");if(t.classList.toggle("test",0)===false){return}DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t}})();(function e(){if(String.prototype.startsWith){return}r(5)})();(function e(){if(String.prototype.endsWith){return}r(57)})();(function e(){if(String.prototype.includes){return}r(59)})();(function e(){if(Array.prototype.includes){return}r(61)})();(function e(){if(Array.from){return}r(68)})();(function e(){if(Object.assign){return}r(89)})();(function e(){if(Math.log2){return}Math.log2=r(92)})();(function e(){if(Number.isNaN){return}Number.isNaN=r(94)})();(function e(){if(Number.isInteger){return}Number.isInteger=r(96)})();(function e(){if(a.Promise&&a.Promise.prototype&&a.Promise.prototype["finally"]){return}a.Promise=r(99)})();(function e(){a.URL=r(121)})();(function e(){if(a.WeakMap){return}a.WeakMap=r(128)})();(function e(){if(a.WeakSet){return}a.WeakSet=r(138)})();(function e(){if(String.prototype.codePointAt){return}r(140)})();(function e(){if(String.fromCodePoint){return}String.fromCodePoint=r(142)})();(function e(){if(a.Symbol){return}r(144)})();(function e(){if(String.prototype.padStart){return}r(167)})();(function e(){if(String.prototype.padEnd){return}r(172)})();(function e(){if(Object.values){return}Object.values=r(174)})()}},function(e,t,r){"use strict";e.exports=typeof window!=="undefined"&&window.Math===Math?window:typeof global!=="undefined"&&global.Math===Math?global:typeof self!=="undefined"&&self.Math===Math?self:{}},function(e,t,r){"use strict";function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}e.exports=function e(){return(typeof process==="undefined"?"undefined":n(process))==="object"&&process+""==="[object process]"&&!process.versions["nw"]&&!process.versions["electron"]}},function(e,t,r){r(6);var n=r(54);e.exports=n("String","startsWith")},function(e,t,r){"use strict";var n=r(7);var a=r(43);var i=r(49);var o=r(17);var s=r(53);var u="".startsWith;var l=Math.min;n({target:"String",proto:true,forced:!s("startsWith")},{startsWith:function e(t){var r=String(o(this));i(t);var n=a(l(arguments.length>1?arguments[1]:undefined,r.length));var s=String(t);return u?u.call(r,s,n):r.slice(n,n+s.length)===s}})},function(e,t,r){var n=r(8);var a=r(9).f;var i=r(23);var o=r(26);var s=r(28);var u=r(36);var l=r(48);e.exports=function(e,t){var r=e.target;var c=e.global;var f=e.stat;var h,d,v,p,g,m;if(c){d=n}else if(f){d=n[r]||s(r,{})}else{d=(n[r]||{}).prototype}if(d)for(v in t){g=t[v];if(e.noTargetGet){m=a(d,v);p=m&&m.value}else p=d[v];h=l(c?v:r+(f?".":"#")+v,e.forced);if(!h&&p!==undefined){if(typeof g===typeof p)continue;u(g,p)}if(e.sham||p&&p.sham){i(g,"sham",true)}o(d,v,g,e)}}},function(e,t){var r="object";var n=function(e){return e&&e.Math==Math&&e};e.exports=n(typeof globalThis==r&&globalThis)||n(typeof window==r&&window)||n(typeof self==r&&self)||n(typeof global==r&&global)||Function("return this")()},function(e,t,r){var n=r(10);var a=r(12);var i=r(13);var o=r(14);var s=r(18);var u=r(20);var l=r(21);var c=Object.getOwnPropertyDescriptor;t.f=n?c:function e(t,r){t=o(t);r=s(r,true);if(l)try{return c(t,r)}catch(e){}if(u(t,r))return i(!a.f.call(t,r),t[r])}},function(e,t,r){var n=r(11);e.exports=!n(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable;var a=Object.getOwnPropertyDescriptor;var i=a&&!n.call({1:2},1);t.f=i?function e(t){var r=a(this,t);return!!r&&r.enumerable}:n},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,r){var n=r(15);var a=r(17);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(11);var a=r(16);var i="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return a(e)=="String"?i.call(e,""):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(19);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&typeof(r=e.toString)=="function"&&!n(a=r.call(e)))return a;if(typeof(r=e.valueOf)=="function"&&!n(a=r.call(e)))return a;if(!t&&typeof(r=e.toString)=="function"&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(10);var a=r(11);var i=r(22);e.exports=!n&&!a(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(8);var a=r(19);var i=n.document;var o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(10);var a=r(24);var i=r(13);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t,r){var n=r(10);var a=r(21);var i=r(25);var o=r(18);var s=Object.defineProperty;t.f=n?s:function e(t,r,n){i(t);r=o(r,true);i(n);if(a)try{return s(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)t[r]=n.value;return t}},function(e,t,r){var n=r(19);e.exports=function(e){if(!n(e)){throw TypeError(String(e)+" is not an object")}return e}},function(e,t,r){var n=r(8);var a=r(27);var i=r(23);var o=r(20);var s=r(28);var u=r(30);var l=r(31);var c=l.get;var f=l.enforce;var h=String(u).split("toString");a("inspectSource",function(e){return u.call(e)});(e.exports=function(e,t,r,a){var u=a?!!a.unsafe:false;var l=a?!!a.enumerable:false;var c=a?!!a.noTargetGet:false;if(typeof r=="function"){if(typeof t=="string"&&!o(r,"name"))i(r,"name",t);f(r).source=h.join(typeof t=="string"?t:"")}if(e===n){if(l)e[t]=r;else s(t,r);return}else if(!u){delete e[t]}else if(!c&&e[t]){l=true}if(l)e[t]=r;else i(e,t,r)})(Function.prototype,"toString",function e(){return typeof this=="function"&&c(this).source||u.call(this)})},function(e,t,r){var n=r(8);var a=r(28);var i=r(29);var o="__core-js_shared__";var s=n[o]||a(o,{});(e.exports=function(e,t){return s[e]||(s[e]=t!==undefined?t:{})})("versions",[]).push({version:"3.2.1",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(8);var a=r(23);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},function(e,t){e.exports=false},function(e,t,r){var n=r(27);e.exports=n("native-function-to-string",Function.toString)},function(e,t,r){var n=r(32);var a=r(8);var i=r(19);var o=r(23);var s=r(20);var u=r(33);var l=r(35);var c=a.WeakMap;var f,h,d;var v=function(e){return d(e)?h(e):f(e,{})};var p=function(e){return function(t){var r;if(!i(t)||(r=h(t)).type!==e){throw TypeError("Incompatible receiver, "+e+" required")}return r}};if(n){var g=new c;var m=g.get;var y=g.has;var b=g.set;f=function(e,t){b.call(g,e,t);return t};h=function(e){return m.call(g,e)||{}};d=function(e){return y.call(g,e)}}else{var _=u("state");l[_]=true;f=function(e,t){o(e,_,t);return t};h=function(e){return s(e,_)?e[_]:{}};d=function(e){return s(e,_)}}e.exports={set:f,get:h,has:d,enforce:v,getterFor:p}},function(e,t,r){var n=r(8);var a=r(30);var i=n.WeakMap;e.exports=typeof i==="function"&&/native code/.test(a.call(i))},function(e,t,r){var n=r(27);var a=r(34);var i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t){var r=0;var n=Math.random();e.exports=function(e){return"Symbol("+String(e===undefined?"":e)+")_"+(++r+n).toString(36)}},function(e,t){e.exports={}},function(e,t,r){var n=r(20);var a=r(37);var i=r(9);var o=r(24);e.exports=function(e,t){var r=a(t);var s=o.f;var u=i.f;for(var l=0;l<r.length;l++){var c=r[l];if(!n(e,c))s(e,c,u(t,c))}}},function(e,t,r){var n=r(38);var a=r(40);var i=r(47);var o=r(25);e.exports=n("Reflect","ownKeys")||function e(t){var r=a.f(o(t));var n=i.f;return n?r.concat(n(t)):r}},function(e,t,r){var n=r(39);var a=r(8);var i=function(e){return typeof e=="function"?e:undefined};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t,r){e.exports=r(8)},function(e,t,r){var n=r(41);var a=r(46);var i=a.concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,i)}},function(e,t,r){var n=r(20);var a=r(14);var i=r(42).indexOf;var o=r(35);e.exports=function(e,t){var r=a(e);var s=0;var u=[];var l;for(l in r)!n(o,l)&&n(r,l)&&u.push(l);while(t.length>s)if(n(r,l=t[s++])){~i(u,l)||u.push(l)}return u}},function(e,t,r){var n=r(14);var a=r(43);var i=r(45);var o=function(e){return function(t,r,o){var s=n(t);var u=a(s.length);var l=i(o,u);var c;if(e&&r!=r)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++){if((e||l in s)&&s[l]===r)return e||l||0}return!e&&-1}};e.exports={includes:o(true),indexOf:o(false)}},function(e,t,r){var n=r(44);var a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t){var r=Math.ceil;var n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(44);var a=Math.max;var i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(11);var a=/#|\.prototype\./;var i=function(e,t){var r=s[o(e)];return r==l?true:r==u?false:typeof t=="function"?n(t):!!t};var o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()};var s=i.data={};var u=i.NATIVE="N";var l=i.POLYFILL="P";e.exports=i},function(e,t,r){var n=r(50);e.exports=function(e){if(n(e)){throw TypeError("The method doesn't accept regular expressions")}return e}},function(e,t,r){var n=r(19);var a=r(16);var i=r(51);var o=i("match");e.exports=function(e){var t;return n(e)&&((t=e[o])!==undefined?!!t:a(e)=="RegExp")}},function(e,t,r){var n=r(8);var a=r(27);var i=r(34);var o=r(52);var s=n.Symbol;var u=a("wks");e.exports=function(e){return u[e]||(u[e]=o&&s[e]||(o?s:i)("Symbol."+e))}},function(e,t,r){var n=r(11);e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(e,t,r){var n=r(51);var a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[a]=false;return"/./"[e](t)}catch(e){}}return false}},function(e,t,r){var n=r(8);var a=r(55);var i=Function.call;e.exports=function(e,t,r){return a(i,n[e].prototype[t],r)}},function(e,t,r){var n=r(56);e.exports=function(e,t,r){n(e);if(t===undefined)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function"){throw TypeError(String(e)+" is not a function")}return e}},function(e,t,r){r(58);var n=r(54);e.exports=n("String","endsWith")},function(e,t,r){"use strict";var n=r(7);var a=r(43);var i=r(49);var o=r(17);var s=r(53);var u="".endsWith;var l=Math.min;n({target:"String",proto:true,forced:!s("endsWith")},{endsWith:function e(t){var r=String(o(this));i(t);var n=arguments.length>1?arguments[1]:undefined;var s=a(r.length);var c=n===undefined?s:l(a(n),s);var f=String(t);return u?u.call(r,f,c):r.slice(c-f.length,c)===f}})},function(e,t,r){r(60);var n=r(54);e.exports=n("String","includes")},function(e,t,r){"use strict";var n=r(7);var a=r(49);var i=r(17);var o=r(53);n({target:"String",proto:true,forced:!o("includes")},{includes:function e(t){return!!~String(i(this)).indexOf(a(t),arguments.length>1?arguments[1]:undefined)}})},function(e,t,r){r(62);var n=r(54);e.exports=n("Array","includes")},function(e,t,r){"use strict";var n=r(7);var a=r(42).includes;var i=r(63);n({target:"Array",proto:true},{includes:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}});i("includes")},function(e,t,r){var n=r(51);var a=r(64);var i=r(23);var o=n("unscopables");var s=Array.prototype;if(s[o]==undefined){i(s,o,a(null))}e.exports=function(e){s[o][e]=true}},function(e,t,r){var n=r(25);var a=r(65);var i=r(46);var o=r(35);var s=r(67);var u=r(22);var l=r(33);var c=l("IE_PROTO");var f="prototype";var h=function(){};var d=function(){var e=u("iframe");var t=i.length;var r="<";var n="script";var a=">";var o="java"+n+":";var l;e.style.display="none";s.appendChild(e);e.src=String(o);l=e.contentWindow.document;l.open();l.write(r+n+a+"document.F=Object"+r+"/"+n+a);l.close();d=l.F;while(t--)delete d[f][i[t]];return d()};e.exports=Object.create||function e(t,r){var i;if(t!==null){h[f]=n(t);i=new h;h[f]=null;i[c]=t}else i=d();return r===undefined?i:a(i,r)};o[c]=true},function(e,t,r){var n=r(10);var a=r(24);var i=r(25);var o=r(66);e.exports=n?Object.defineProperties:function e(t,r){i(t);var n=o(r);var s=n.length;var u=0;var l;while(s>u)a.f(t,l=n[u++],r[l]);return t}},function(e,t,r){var n=r(41);var a=r(46);e.exports=Object.keys||function e(t){return n(t,a)}},function(e,t,r){var n=r(38);e.exports=n("document","documentElement")},function(e,t,r){r(69);r(81);var n=r(39);e.exports=n.Array.from},function(e,t,r){"use strict";var n=r(70).charAt;var a=r(31);var i=r(71);var o="String Iterator";var s=a.set;var u=a.getterFor(o);i(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function e(){var t=u(this);var r=t.string;var a=t.index;var i;if(a>=r.length)return{value:undefined,done:true};i=n(r,a);t.index+=i.length;return{value:i,done:false}})},function(e,t,r){var n=r(44);var a=r(17);var i=function(e){return function(t,r){var i=String(a(t));var o=n(r);var s=i.length;var u,l;if(o<0||o>=s)return e?"":undefined;u=i.charCodeAt(o);return u<55296||u>56319||o+1===s||(l=i.charCodeAt(o+1))<56320||l>57343?e?i.charAt(o):u:e?i.slice(o,o+2):(u-55296<<10)+(l-56320)+65536}};e.exports={codeAt:i(false),charAt:i(true)}},function(e,t,r){"use strict";var n=r(7);var a=r(72);var i=r(74);var o=r(79);var s=r(77);var u=r(23);var l=r(26);var c=r(51);var f=r(29);var h=r(78);var d=r(73);var v=d.IteratorPrototype;var p=d.BUGGY_SAFARI_ITERATORS;var g=c("iterator");var m="keys";var y="values";var b="entries";var _=function(){return this};e.exports=function(e,t,r,c,d,A,S){a(r,t,c);var w=function(e){if(e===d&&R)return R;if(!p&&e in C)return C[e];switch(e){case m:return function t(){return new r(this,e)};case y:return function t(){return new r(this,e)};case b:return function t(){return new r(this,e)}}return function(){return new r(this)}};var k=t+" Iterator";var x=false;var C=e.prototype;var P=C[g]||C["@@iterator"]||d&&C[d];var R=!p&&P||w(d);var E=t=="Array"?C.entries||P:P;var T,O,L;if(E){T=i(E.call(new e));if(v!==Object.prototype&&T.next){if(!f&&i(T)!==v){if(o){o(T,v)}else if(typeof T[g]!="function"){u(T,g,_)}}s(T,k,true,true);if(f)h[k]=_}}if(d==y&&P&&P.name!==y){x=true;R=function e(){return P.call(this)}}if((!f||S)&&C[g]!==R){u(C,g,R)}h[t]=R;if(d){O={values:w(y),keys:A?R:w(m),entries:w(b)};if(S)for(L in O){if(p||x||!(L in C)){l(C,L,O[L])}}else n({target:t,proto:true,forced:p||x},O)}return O}},function(e,t,r){"use strict";var n=r(73).IteratorPrototype;var a=r(64);var i=r(13);var o=r(77);var s=r(78);var u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";e.prototype=a(n,{next:i(1,r)});o(e,l,false,true);s[l]=u;return e}},function(e,t,r){"use strict";var n=r(74);var a=r(23);var i=r(20);var o=r(51);var s=r(29);var u=o("iterator");var l=false;var c=function(){return this};var f,h,d;if([].keys){d=[].keys();if(!("next"in d))l=true;else{h=n(n(d));if(h!==Object.prototype)f=h}}if(f==undefined)f={};if(!s&&!i(f,u))a(f,u,c);e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:l}},function(e,t,r){var n=r(20);var a=r(75);var i=r(33);var o=r(76);var s=i("IE_PROTO");var u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){e=a(e);if(n(e,s))return e[s];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?u:null}},function(e,t,r){var n=r(17);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(11);e.exports=!n(function(){function e(){}e.prototype.constructor=null;return Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var n=r(24).f;var a=r(20);var i=r(51);var o=i("toStringTag");e.exports=function(e,t,r){if(e&&!a(e=r?e:e.prototype,o)){n(e,o,{configurable:true,value:t})}}},function(e,t){e.exports={}},function(e,t,r){var n=r(25);var a=r(80);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=false;var t={};var r;try{r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;r.call(t,[]);e=t instanceof Array}catch(e){}return function t(i,o){n(i);a(o);if(e)r.call(i,o);else i.__proto__=o;return i}}():undefined)},function(e,t,r){var n=r(19);e.exports=function(e){if(!n(e)&&e!==null){throw TypeError("Can't set "+String(e)+" as a prototype")}return e}},function(e,t,r){var n=r(7);var a=r(82);var i=r(88);var o=!i(function(e){Array.from(e)});n({target:"Array",stat:true,forced:o},{from:a})},function(e,t,r){"use strict";var n=r(55);var a=r(75);var i=r(83);var o=r(84);var s=r(43);var u=r(85);var l=r(86);e.exports=function e(t){var r=a(t);var c=typeof this=="function"?this:Array;var f=arguments.length;var h=f>1?arguments[1]:undefined;var d=h!==undefined;var v=0;var p=l(r);var g,m,y,b;if(d)h=n(h,f>2?arguments[2]:undefined,2);if(p!=undefined&&!(c==Array&&o(p))){b=p.call(r);m=new c;for(;!(y=b.next()).done;v++){u(m,v,d?i(b,h,[y.value,v],true):y.value)}}else{g=s(r.length);m=new c(g);for(;g>v;v++){u(m,v,d?h(r[v],v):r[v])}}m.length=v;return m}},function(e,t,r){var n=r(25);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e["return"];if(i!==undefined)n(i.call(e));throw t}}},function(e,t,r){var n=r(51);var a=r(78);var i=n("iterator");var o=Array.prototype;e.exports=function(e){return e!==undefined&&(a.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(18);var a=r(24);var i=r(13);e.exports=function(e,t,r){var o=n(t);if(o in e)a.f(e,o,i(0,r));else e[o]=r}},function(e,t,r){var n=r(87);var a=r(78);var i=r(51);var o=i("iterator");e.exports=function(e){if(e!=undefined)return e[o]||e["@@iterator"]||a[n(e)]}},function(e,t,r){var n=r(16);var a=r(51);var i=a("toStringTag");var o=n(function(){return arguments}())=="Arguments";var s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,a;return e===undefined?"Undefined":e===null?"Null":typeof(r=s(t=Object(e),i))=="string"?r:o?n(t):(a=n(t))=="Object"&&typeof t.callee=="function"?"Arguments":a}},function(e,t,r){var n=r(51);var a=n("iterator");var i=false;try{var o=0;var s={next:function(){return{done:!!o++}},return:function(){i=true}};s[a]=function(){return this};Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var n={};n[a]=function(){return{next:function(){return{done:r=true}}}};e(n)}catch(e){}return r}},function(e,t,r){r(90);var n=r(39);e.exports=n.Object.assign},function(e,t,r){var n=r(7);var a=r(91);n({target:"Object",stat:true,forced:Object.assign!==a},{assign:a})},function(e,t,r){"use strict";var n=r(10);var a=r(11);var i=r(66);var o=r(47);var s=r(12);var u=r(75);var l=r(15);var c=Object.assign;e.exports=!c||a(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return c({},e)[r]!=7||i(c({},t)).join("")!=n})?function e(t,r){var a=u(t);var c=arguments.length;var f=1;var h=o.f;var d=s.f;while(c>f){var v=l(arguments[f++]);var p=h?i(v).concat(h(v)):i(v);var g=p.length;var m=0;var y;while(g>m){y=p[m++];if(!n||d.call(v,y))a[y]=v[y]}}return a}:c},function(e,t,r){r(93);var n=r(39);e.exports=n.Math.log2},function(e,t,r){var n=r(7);var a=Math.log;var i=Math.LN2;n({target:"Math",stat:true},{log2:function e(t){return a(t)/i}})},function(e,t,r){r(95);var n=r(39);e.exports=n.Number.isNaN},function(e,t,r){var n=r(7);n({target:"Number",stat:true},{isNaN:function e(t){return t!=t}})},function(e,t,r){r(97);var n=r(39);e.exports=n.Number.isInteger},function(e,t,r){var n=r(7);var a=r(98);n({target:"Number",stat:true},{isInteger:a})},function(e,t,r){var n=r(19);var a=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&a(t)===t}},function(e,t,r){r(100);r(69);r(102);r(105);r(119);r(120);var n=r(39);e.exports=n.Promise},function(e,t,r){var n=r(26);var a=r(101);var i=Object.prototype;if(a!==i.toString){n(i,"toString",a,{unsafe:true})}},function(e,t,r){"use strict";var n=r(87);var a=r(51);var i=a("toStringTag");var o={};o[i]="z";e.exports=String(o)!=="[object z]"?function e(){return"[object "+n(this)+"]"}:o.toString},function(e,t,r){var n=r(8);var a=r(103);var i=r(104);var o=r(23);var s=r(51);var u=s("iterator");var l=s("toStringTag");var c=i.values;for(var f in a){var h=n[f];var d=h&&h.prototype;if(d){if(d[u]!==c)try{o(d,u,c)}catch(e){d[u]=c}if(!d[l])o(d,l,f);if(a[f])for(var v in i){if(d[v]!==i[v])try{o(d,v,i[v])}catch(e){d[v]=i[v]}}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){"use strict";var n=r(14);var a=r(63);var i=r(78);var o=r(31);var s=r(71);var u="Array Iterator";var l=o.set;var c=o.getterFor(u);e.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})},function(){var e=c(this);var t=e.target;var r=e.kind;var n=e.index++;if(!t||n>=t.length){e.target=undefined;return{value:undefined,done:true}}if(r=="keys")return{value:n,done:false};if(r=="values")return{value:t[n],done:false};return{value:[n,t[n]],done:false}},"values");i.Arguments=i.Array;a("keys");a("values");a("entries")},function(e,t,r){"use strict";var n=r(7);var a=r(29);var i=r(8);var o=r(39);var s=r(106);var u=r(26);var l=r(107);var c=r(77);var f=r(108);var h=r(19);var d=r(56);var v=r(109);var p=r(16);var g=r(110);var m=r(88);var y=r(111);var b=r(112).set;var _=r(113);var A=r(115);var S=r(117);var w=r(116);var k=r(118);var x=r(114);var C=r(31);var P=r(48);var R=r(51);var E=R("species");var T="Promise";var O=C.get;var L=C.set;var F=C.getterFor(T);var I=s;var j=i.TypeError;var M=i.document;var N=i.process;var D=i.fetch;var q=N&&N.versions;var U=q&&q.v8||"";var W=w.f;var B=W;var z=p(N)=="process";var G=!!(M&&M.createEvent&&i.dispatchEvent);var H="unhandledrejection";var X="rejectionhandled";var Y=0;var V=1;var Q=2;var K=1;var J=2;var Z,$,ee,te;var re=P(T,function(){var e=I.resolve(1);var t=function(){};var r=(e.constructor={})[E]=function(e){e(t,t)};return!((z||typeof PromiseRejectionEvent=="function")&&(!a||e["finally"])&&e.then(t)instanceof r&&U.indexOf("6.6")!==0&&x.indexOf("Chrome/66")===-1)});var ne=re||!m(function(e){I.all(e)["catch"](function(){})});var ae=function(e){var t;return h(e)&&typeof(t=e.then)=="function"?t:false};var ie=function(e,t,r){if(t.notified)return;t.notified=true;var n=t.reactions;_(function(){var a=t.value;var i=t.state==V;var o=0;while(n.length>o){var s=n[o++];var u=i?s.ok:s.fail;var l=s.resolve;var c=s.reject;var f=s.domain;var h,d,v;try{if(u){if(!i){if(t.rejection===J)le(e,t);t.rejection=K}if(u===true)h=a;else{if(f)f.enter();h=u(a);if(f){f.exit();v=true}}if(h===s.promise){c(j("Promise-chain cycle"))}else if(d=ae(h)){d.call(h,l,c)}else l(h)}else c(a)}catch(e){if(f&&!v)f.exit();c(e)}}t.reactions=[];t.notified=false;if(r&&!t.rejection)se(e,t)})};var oe=function(e,t,r){var n,a;if(G){n=M.createEvent("Event");n.promise=t;n.reason=r;n.initEvent(e,false,true);i.dispatchEvent(n)}else n={promise:t,reason:r};if(a=i["on"+e])a(n);else if(e===H)S("Unhandled promise rejection",r)};var se=function(e,t){b.call(i,function(){var r=t.value;var n=ue(t);var a;if(n){a=k(function(){if(z){N.emit("unhandledRejection",r,e)}else oe(H,e,r)});t.rejection=z||ue(t)?J:K;if(a.error)throw a.value}})};var ue=function(e){return e.rejection!==K&&!e.parent};var le=function(e,t){b.call(i,function(){if(z){N.emit("rejectionHandled",e)}else oe(X,e,t.value)})};var ce=function(e,t,r,n){return function(a){e(t,r,a,n)}};var fe=function(e,t,r,n){if(t.done)return;t.done=true;if(n)t=n;t.value=r;t.state=Q;ie(e,t,true)};var he=function(e,t,r,n){if(t.done)return;t.done=true;if(n)t=n;try{if(e===r)throw j("Promise can't be resolved itself");var a=ae(r);if(a){_(function(){var n={done:false};try{a.call(r,ce(he,e,n,t),ce(fe,e,n,t))}catch(r){fe(e,n,r,t)}})}else{t.value=r;t.state=V;ie(e,t,false)}}catch(r){fe(e,{done:false},r,t)}};if(re){I=function e(t){v(this,I,T);d(t);Z.call(this);var r=O(this);try{t(ce(he,this,r),ce(fe,this,r))}catch(e){fe(this,r,e)}};Z=function e(t){L(this,{type:T,done:false,notified:false,parent:false,reactions:[],rejection:false,state:Y,value:undefined})};Z.prototype=l(I.prototype,{then:function e(t,r){var n=F(this);var a=W(y(this,I));a.ok=typeof t=="function"?t:true;a.fail=typeof r=="function"&&r;a.domain=z?N.domain:undefined;n.parent=true;n.reactions.push(a);if(n.state!=Y)ie(this,n,false);return a.promise},catch:function(e){return this.then(undefined,e)}});$=function(){var e=new Z;var t=O(e);this.promise=e;this.resolve=ce(he,e,t);this.reject=ce(fe,e,t)};w.f=W=function(e){return e===I||e===ee?new $(e):B(e)};if(!a&&typeof s=="function"){te=s.prototype.then;u(s.prototype,"then",function e(t,r){var n=this;return new I(function(e,t){te.call(n,e,t)}).then(t,r)});if(typeof D=="function")n({global:true,enumerable:true,forced:true},{fetch:function e(t){return A(I,D.apply(i,arguments))}})}}n({global:true,wrap:true,forced:re},{Promise:I});c(I,T,false,true);f(T);ee=o[T];n({target:T,stat:true,forced:re},{reject:function e(t){var r=W(this);r.reject.call(undefined,t);return r.promise}});n({target:T,stat:true,forced:a||re},{resolve:function e(t){return A(a&&this===ee?I:this,t)}});n({target:T,stat:true,forced:ne},{all:function e(t){var r=this;var n=W(r);var a=n.resolve;var i=n.reject;var o=k(function(){var e=d(r.resolve);var n=[];var o=0;var s=1;g(t,function(t){var u=o++;var l=false;n.push(undefined);s++;e.call(r,t).then(function(e){if(l)return;l=true;n[u]=e;--s||a(n)},i)});--s||a(n)});if(o.error)i(o.value);return n.promise},race:function e(t){var r=this;var n=W(r);var a=n.reject;var i=k(function(){var e=d(r.resolve);g(t,function(t){e.call(r,t).then(n.resolve,a)})});if(i.error)a(i.value);return n.promise}})},function(e,t,r){var n=r(8);e.exports=n.Promise},function(e,t,r){var n=r(26);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t,r){"use strict";var n=r(38);var a=r(24);var i=r(51);var o=r(10);var s=i("species");e.exports=function(e){var t=n(e);var r=a.f;if(o&&t&&!t[s]){r(t,s,{configurable:true,get:function(){return this}})}}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t)){throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}return e}},function(e,t,r){var n=r(25);var a=r(84);var i=r(43);var o=r(55);var s=r(86);var u=r(83);var l=function(e,t){this.stopped=e;this.result=t};var c=e.exports=function(e,t,r,c,f){var h=o(t,r,c?2:1);var d,v,p,g,m,y;if(f){d=e}else{v=s(e);if(typeof v!="function")throw TypeError("Target is not iterable");if(a(v)){for(p=0,g=i(e.length);g>p;p++){m=c?h(n(y=e[p])[0],y[1]):h(e[p]);if(m&&m instanceof l)return m}return new l(false)}d=v.call(e)}while(!(y=d.next()).done){m=u(d,h,y.value,c);if(m&&m instanceof l)return m}return new l(false)};c.stop=function(e){return new l(true,e)}},function(e,t,r){var n=r(25);var a=r(56);var i=r(51);var o=i("species");e.exports=function(e,t){var r=n(e).constructor;var i;return r===undefined||(i=n(r)[o])==undefined?t:a(i)}},function(e,t,r){var n=r(8);var a=r(11);var i=r(16);var o=r(55);var s=r(67);var u=r(22);var l=n.location;var c=n.setImmediate;var f=n.clearImmediate;var h=n.process;var d=n.MessageChannel;var v=n.Dispatch;var p=0;var g={};var m="onreadystatechange";var y,b,_;var A=function(e){if(g.hasOwnProperty(e)){var t=g[e];delete g[e];t()}};var S=function(e){return function(){A(e)}};var w=function(e){A(e.data)};var k=function(e){n.postMessage(e+"",l.protocol+"//"+l.host)};if(!c||!f){c=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);g[++p]=function(){(typeof t=="function"?t:Function(t)).apply(undefined,r)};y(p);return p};f=function e(t){delete g[t]};if(i(h)=="process"){y=function(e){h.nextTick(S(e))}}else if(v&&v.now){y=function(e){v.now(S(e))}}else if(d){b=new d;_=b.port2;b.port1.onmessage=w;y=o(_.postMessage,_,1)}else if(n.addEventListener&&typeof postMessage=="function"&&!n.importScripts&&!a(k)){y=k;n.addEventListener("message",w,false)}else if(m in u("script")){y=function(e){s.appendChild(u("script"))[m]=function(){s.removeChild(this);A(e)}}}else{y=function(e){setTimeout(S(e),0)}}}e.exports={set:c,clear:f}},function(e,t,r){var n=r(8);var a=r(9).f;var i=r(16);var o=r(112).set;var s=r(114);var u=n.MutationObserver||n.WebKitMutationObserver;var l=n.process;var c=n.Promise;var f=i(l)=="process";var h=a(n,"queueMicrotask");var d=h&&h.value;var v,p,g,m,y,b,_,A;if(!d){v=function(){var e,t;if(f&&(e=l.domain))e.exit();while(p){t=p.fn;p=p.next;try{t()}catch(e){if(p)m();else g=undefined;throw e}}g=undefined;if(e)e.enter()};if(f){m=function(){l.nextTick(v)}}else if(u&&!/(iphone|ipod|ipad).*applewebkit/i.test(s)){y=true;b=document.createTextNode("");new u(v).observe(b,{characterData:true});m=function(){b.data=y=!y}}else if(c&&c.resolve){_=c.resolve(undefined);A=_.then;m=function(){A.call(_,v)}}else{m=function(){o.call(n,v)}}}e.exports=d||function(e){var t={fn:e,next:undefined};if(g)g.next=t;if(!p){p=t;m()}g=t}},function(e,t,r){var n=r(38);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(25);var a=r(19);var i=r(116);e.exports=function(e,t){n(e);if(a(t)&&t.constructor===e)return t;var r=i.f(e);var o=r.resolve;o(t);return r.promise}},function(e,t,r){"use strict";var n=r(56);var a=function(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=n(t);this.reject=n(r)};e.exports.f=function(e){return new a(e)}},function(e,t,r){var n=r(8);e.exports=function(e,t){var r=n.console;if(r&&r.error){arguments.length===1?r.error(e):r.error(e,t)}}},function(e,t){e.exports=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}}},function(e,t,r){"use strict";var n=r(7);var a=r(56);var i=r(116);var o=r(118);var s=r(110);n({target:"Promise",stat:true},{allSettled:function e(t){var r=this;var n=i.f(r);var u=n.resolve;var l=n.reject;var c=o(function(){var e=a(r.resolve);var n=[];var i=0;var o=1;s(t,function(t){var a=i++;var s=false;n.push(undefined);o++;e.call(r,t).then(function(e){if(s)return;s=true;n[a]={status:"fulfilled",value:e};--o||u(n)},function(e){if(s)return;s=true;n[a]={status:"rejected",reason:e};--o||u(n)})});--o||u(n)});if(c.error)l(c.value);return n.promise}})},function(e,t,r){"use strict";var n=r(7);var a=r(29);var i=r(106);var o=r(38);var s=r(111);var u=r(115);var l=r(26);n({target:"Promise",proto:true,real:true},{finally:function(e){var t=s(this,o("Promise"));var r=typeof e=="function";return this.then(r?function(r){return u(t,e()).then(function(){return r})}:e,r?function(r){return u(t,e()).then(function(){throw r})}:e)}});if(!a&&typeof i=="function"&&!i.prototype["finally"]){l(i.prototype,"finally",o("Promise").prototype["finally"])}},function(e,t,r){r(122);r(127);r(125);var n=r(39);e.exports=n.URL},function(e,t,r){"use strict";r(69);var n=r(7);var a=r(10);var i=r(123);var o=r(8);var s=r(65);var u=r(26);var l=r(109);var c=r(20);var f=r(91);var h=r(82);var d=r(70).codeAt;var v=r(124);var p=r(77);var g=r(125);var m=r(31);var y=o.URL;var b=g.URLSearchParams;var _=g.getState;var A=m.set;var S=m.getterFor("URL");var w=Math.floor;var k=Math.pow;var x="Invalid authority";var C="Invalid scheme";var P="Invalid host";var R="Invalid port";var E=/[A-Za-z]/;var T=/[\d+\-.A-Za-z]/;var O=/\d/;var L=/^(0x|0X)/;var F=/^[0-7]+$/;var I=/^\d+$/;var j=/^[\dA-Fa-f]+$/;var M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;var N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/;var D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;var q=/[\u0009\u000A\u000D]/g;var U;var W=function(e,t){var r,n,a;if(t.charAt(0)=="["){if(t.charAt(t.length-1)!="]")return P;r=z(t.slice(1,-1));if(!r)return P;e.host=r}else if(!Z(e)){if(N.test(t))return P;r="";n=h(t);for(a=0;a<n.length;a++){r+=K(n[a],X)}e.host=r}else{t=v(t);if(M.test(t))return P;r=B(t);if(r===null)return P;e.host=r}};var B=function(e){var t=e.split(".");var r,n,a,i,o,s,u;if(t.length&&t[t.length-1]==""){t.pop()}r=t.length;if(r>4)return e;n=[];for(a=0;a<r;a++){i=t[a];if(i=="")return e;o=10;if(i.length>1&&i.charAt(0)=="0"){o=L.test(i)?16:8;i=i.slice(o==8?1:2)}if(i===""){s=0}else{if(!(o==10?I:o==8?F:j).test(i))return e;s=parseInt(i,o)}n.push(s)}for(a=0;a<r;a++){s=n[a];if(a==r-1){if(s>=k(256,5-r))return null}else if(s>255)return null}u=n.pop();for(a=0;a<n.length;a++){u+=n[a]*k(256,3-a)}return u};var z=function(e){var t=[0,0,0,0,0,0,0,0];var r=0;var n=null;var a=0;var i,o,s,u,l,c,f;var h=function(){return e.charAt(a)};if(h()==":"){if(e.charAt(1)!=":")return;a+=2;r++;n=r}while(h()){if(r==8)return;if(h()==":"){if(n!==null)return;a++;r++;n=r;continue}i=o=0;while(o<4&&j.test(h())){i=i*16+parseInt(h(),16);a++;o++}if(h()=="."){if(o==0)return;a-=o;if(r>6)return;s=0;while(h()){u=null;if(s>0){if(h()=="."&&s<4)a++;else return}if(!O.test(h()))return;while(O.test(h())){l=parseInt(h(),10);if(u===null)u=l;else if(u==0)return;else u=u*10+l;if(u>255)return;a++}t[r]=t[r]*256+u;s++;if(s==2||s==4)r++}if(s!=4)return;break}else if(h()==":"){a++;if(!h())return}else if(h())return;t[r++]=i}if(n!==null){c=r-n;r=7;while(r!=0&&c>0){f=t[r];t[r--]=t[n+c-1];t[n+--c]=f}}else if(r!=8)return;return t};var G=function(e){var t=null;var r=1;var n=null;var a=0;var i=0;for(;i<8;i++){if(e[i]!==0){if(a>r){t=n;r=a}n=null;a=0}else{if(n===null)n=i;++a}}if(a>r){t=n;r=a}return t};var H=function(e){var t,r,n,a;if(typeof e=="number"){t=[];for(r=0;r<4;r++){t.unshift(e%256);e=w(e/256)}return t.join(".")}else if(typeof e=="object"){t="";n=G(e);for(r=0;r<8;r++){if(a&&e[r]===0)continue;if(a)a=false;if(n===r){t+=r?":":"::";a=true}else{t+=e[r].toString(16);if(r<7)t+=":"}}return"["+t+"]"}return e};var X={};var Y=f({},X,{" ":1,'"':1,"<":1,">":1,"`":1});var V=f({},Y,{"#":1,"?":1,"{":1,"}":1});var Q=f({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var K=function(e,t){var r=d(e,0);return r>32&&r<127&&!c(t,e)?e:encodeURIComponent(e)};var J={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443};var Z=function(e){return c(J,e.scheme)};var $=function(e){return e.username!=""||e.password!=""};var ee=function(e){return!e.host||e.cannotBeABaseURL||e.scheme=="file"};var te=function(e,t){var r;return e.length==2&&E.test(e.charAt(0))&&((r=e.charAt(1))==":"||!t&&r=="|")};var re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(e.length==2||((t=e.charAt(2))==="/"||t==="\\"||t==="?"||t==="#"))};var ne=function(e){var t=e.path;var r=t.length;if(r&&(e.scheme!="file"||r!=1||!te(t[0],true))){t.pop()}};var ae=function(e){return e==="."||e.toLowerCase()==="%2e"};var ie=function(e){e=e.toLowerCase();return e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"};var oe={};var se={};var ue={};var le={};var ce={};var fe={};var he={};var de={};var ve={};var pe={};var ge={};var me={};var ye={};var be={};var _e={};var Ae={};var Se={};var we={};var ke={};var xe={};var Ce={};var Pe=function(e,t,r,n){var a=r||oe;var i=0;var o="";var s=false;var u=false;var l=false;var f,d,v,p;if(!r){e.scheme="";e.username="";e.password="";e.host=null;e.port=null;e.path=[];e.query=null;e.fragment=null;e.cannotBeABaseURL=false;t=t.replace(D,"")}t=t.replace(q,"");f=h(t);while(i<=f.length){d=f[i];switch(a){case oe:if(d&&E.test(d)){o+=d.toLowerCase();a=se}else if(!r){a=ue;continue}else return C;break;case se:if(d&&(T.test(d)||d=="+"||d=="-"||d==".")){o+=d.toLowerCase()}else if(d==":"){if(r&&(Z(e)!=c(J,o)||o=="file"&&($(e)||e.port!==null)||e.scheme=="file"&&!e.host))return;e.scheme=o;if(r){if(Z(e)&&J[e.scheme]==e.port)e.port=null;return}o="";if(e.scheme=="file"){a=be}else if(Z(e)&&n&&n.scheme==e.scheme){a=le}else if(Z(e)){a=de}else if(f[i+1]=="/"){a=ce;i++}else{e.cannotBeABaseURL=true;e.path.push("");a=ke}}else if(!r){o="";a=ue;i=0;continue}else return C;break;case ue:if(!n||n.cannotBeABaseURL&&d!="#")return C;if(n.cannotBeABaseURL&&d=="#"){e.scheme=n.scheme;e.path=n.path.slice();e.query=n.query;e.fragment="";e.cannotBeABaseURL=true;a=Ce;break}a=n.scheme=="file"?be:fe;continue;case le:if(d=="/"&&f[i+1]=="/"){a=ve;i++}else{a=fe;continue}break;case ce:if(d=="/"){a=pe;break}else{a=we;continue}case fe:e.scheme=n.scheme;if(d==U){e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.query=n.query}else if(d=="/"||d=="\\"&&Z(e)){a=he}else if(d=="?"){e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.query="";a=xe}else if(d=="#"){e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.query=n.query;e.fragment="";a=Ce}else{e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.path.pop();a=we;continue}break;case he:if(Z(e)&&(d=="/"||d=="\\")){a=ve}else if(d=="/"){a=pe}else{e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;a=we;continue}break;case de:a=ve;if(d!="/"||o.charAt(i+1)!="/")continue;i++;break;case ve:if(d!="/"&&d!="\\"){a=pe;continue}break;case pe:if(d=="@"){if(s)o="%40"+o;s=true;v=h(o);for(var g=0;g<v.length;g++){var m=v[g];if(m==":"&&!l){l=true;continue}var y=K(m,Q);if(l)e.password+=y;else e.username+=y}o=""}else if(d==U||d=="/"||d=="?"||d=="#"||d=="\\"&&Z(e)){if(s&&o=="")return x;i-=h(o).length+1;o="";a=ge}else o+=d;break;case ge:case me:if(r&&e.scheme=="file"){a=Ae;continue}else if(d==":"&&!u){if(o=="")return P;p=W(e,o);if(p)return p;o="";a=ye;if(r==me)return}else if(d==U||d=="/"||d=="?"||d=="#"||d=="\\"&&Z(e)){if(Z(e)&&o=="")return P;if(r&&o==""&&($(e)||e.port!==null))return;p=W(e,o);if(p)return p;o="";a=Se;if(r)return;continue}else{if(d=="[")u=true;else if(d=="]")u=false;o+=d}break;case ye:if(O.test(d)){o+=d}else if(d==U||d=="/"||d=="?"||d=="#"||d=="\\"&&Z(e)||r){if(o!=""){var b=parseInt(o,10);if(b>65535)return R;e.port=Z(e)&&b===J[e.scheme]?null:b;o=""}if(r)return;a=Se;continue}else return R;break;case be:e.scheme="file";if(d=="/"||d=="\\")a=_e;else if(n&&n.scheme=="file"){if(d==U){e.host=n.host;e.path=n.path.slice();e.query=n.query}else if(d=="?"){e.host=n.host;e.path=n.path.slice();e.query="";a=xe}else if(d=="#"){e.host=n.host;e.path=n.path.slice();e.query=n.query;e.fragment="";a=Ce}else{if(!re(f.slice(i).join(""))){e.host=n.host;e.path=n.path.slice();ne(e)}a=we;continue}}else{a=we;continue}break;case _e:if(d=="/"||d=="\\"){a=Ae;break}if(n&&n.scheme=="file"&&!re(f.slice(i).join(""))){if(te(n.path[0],true))e.path.push(n.path[0]);else e.host=n.host}a=we;continue;case Ae:if(d==U||d=="/"||d=="\\"||d=="?"||d=="#"){if(!r&&te(o)){a=we}else if(o==""){e.host="";if(r)return;a=Se}else{p=W(e,o);if(p)return p;if(e.host=="localhost")e.host="";if(r)return;o="";a=Se}continue}else o+=d;break;case Se:if(Z(e)){a=we;if(d!="/"&&d!="\\")continue}else if(!r&&d=="?"){e.query="";a=xe}else if(!r&&d=="#"){e.fragment="";a=Ce}else if(d!=U){a=we;if(d!="/")continue}break;case we:if(d==U||d=="/"||d=="\\"&&Z(e)||!r&&(d=="?"||d=="#")){if(ie(o)){ne(e);if(d!="/"&&!(d=="\\"&&Z(e))){e.path.push("")}}else if(ae(o)){if(d!="/"&&!(d=="\\"&&Z(e))){e.path.push("")}}else{if(e.scheme=="file"&&!e.path.length&&te(o)){if(e.host)e.host="";o=o.charAt(0)+":"}e.path.push(o)}o="";if(e.scheme=="file"&&(d==U||d=="?"||d=="#")){while(e.path.length>1&&e.path[0]===""){e.path.shift()}}if(d=="?"){e.query="";a=xe}else if(d=="#"){e.fragment="";a=Ce}}else{o+=K(d,V)}break;case ke:if(d=="?"){e.query="";a=xe}else if(d=="#"){e.fragment="";a=Ce}else if(d!=U){e.path[0]+=K(d,X)}break;case xe:if(!r&&d=="#"){e.fragment="";a=Ce}else if(d!=U){if(d=="'"&&Z(e))e.query+="%27";else if(d=="#")e.query+="%23";else e.query+=K(d,X)}break;case Ce:if(d!=U)e.fragment+=K(d,Y);break}i++}};var Re=function e(t){var r=l(this,Re,"URL");var n=arguments.length>1?arguments[1]:undefined;var i=String(t);var o=A(r,{type:"URL"});var s,u;if(n!==undefined){if(n instanceof Re)s=S(n);else{u=Pe(s={},String(n));if(u)throw TypeError(u)}}u=Pe(o,i,null,s);if(u)throw TypeError(u);var c=o.searchParams=new b;var f=_(c);f.updateSearchParams(o.query);f.updateURL=function(){o.query=String(c)||null};if(!a){r.href=Te.call(r);r.origin=Oe.call(r);r.protocol=Le.call(r);r.username=Fe.call(r);r.password=Ie.call(r);r.host=je.call(r);r.hostname=Me.call(r);r.port=Ne.call(r);r.pathname=De.call(r);r.search=qe.call(r);r.searchParams=Ue.call(r);r.hash=We.call(r)}};var Ee=Re.prototype;var Te=function(){var e=S(this);var t=e.scheme;var r=e.username;var n=e.password;var a=e.host;var i=e.port;var o=e.path;var s=e.query;var u=e.fragment;var l=t+":";if(a!==null){l+="//";if($(e)){l+=r+(n?":"+n:"")+"@"}l+=H(a);if(i!==null)l+=":"+i}else if(t=="file")l+="//";l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"";if(s!==null)l+="?"+s;if(u!==null)l+="#"+u;return l};var Oe=function(){var e=S(this);var t=e.scheme;var r=e.port;if(t=="blob")try{return new URL(t.path[0]).origin}catch(e){return"null"}if(t=="file"||!Z(e))return"null";return t+"://"+H(e.host)+(r!==null?":"+r:"")};var Le=function(){return S(this).scheme+":"};var Fe=function(){return S(this).username};var Ie=function(){return S(this).password};var je=function(){var e=S(this);var t=e.host;var r=e.port;return t===null?"":r===null?H(t):H(t)+":"+r};var Me=function(){var e=S(this).host;return e===null?"":H(e)};var Ne=function(){var e=S(this).port;return e===null?"":String(e)};var De=function(){var e=S(this);var t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""};var qe=function(){var e=S(this).query;return e?"?"+e:""};var Ue=function(){return S(this).searchParams};var We=function(){var e=S(this).fragment;return e?"#"+e:""};var Be=function(e,t){return{get:e,set:t,configurable:true,enumerable:true}};if(a){s(Ee,{href:Be(Te,function(e){var t=S(this);var r=String(e);var n=Pe(t,r);if(n)throw TypeError(n);_(t.searchParams).updateSearchParams(t.query)}),origin:Be(Oe),protocol:Be(Le,function(e){var t=S(this);Pe(t,String(e)+":",oe)}),username:Be(Fe,function(e){var t=S(this);var r=h(String(e));if(ee(t))return;t.username="";for(var n=0;n<r.length;n++){t.username+=K(r[n],Q)}}),password:Be(Ie,function(e){var t=S(this);var r=h(String(e));if(ee(t))return;t.password="";for(var n=0;n<r.length;n++){t.password+=K(r[n],Q)}}),host:Be(je,function(e){var t=S(this);if(t.cannotBeABaseURL)return;Pe(t,String(e),ge)}),hostname:Be(Me,function(e){var t=S(this);if(t.cannotBeABaseURL)return;Pe(t,String(e),me)}),port:Be(Ne,function(e){var t=S(this);if(ee(t))return;e=String(e);if(e=="")t.port=null;else Pe(t,e,ye)}),pathname:Be(De,function(e){var t=S(this);if(t.cannotBeABaseURL)return;t.path=[];Pe(t,e+"",Se)}),search:Be(qe,function(e){var t=S(this);e=String(e);if(e==""){t.query=null}else{if("?"==e.charAt(0))e=e.slice(1);t.query="";Pe(t,e,xe)}_(t.searchParams).updateSearchParams(t.query)}),searchParams:Be(Ue),hash:Be(We,function(e){var t=S(this);e=String(e);if(e==""){t.fragment=null;return}if("#"==e.charAt(0))e=e.slice(1);t.fragment="";Pe(t,e,Ce)})})}u(Ee,"toJSON",function e(){return Te.call(this)},{enumerable:true});u(Ee,"toString",function e(){return Te.call(this)},{enumerable:true});if(y){var ze=y.createObjectURL;var Ge=y.revokeObjectURL;if(ze)u(Re,"createObjectURL",function e(t){return ze.apply(y,arguments)});if(Ge)u(Re,"revokeObjectURL",function e(t){return Ge.apply(y,arguments)})}p(Re,"URL");n({global:true,forced:!i,sham:!a},{URL:Re})},function(e,t,r){var n=r(11);var a=r(51);var i=r(29);var o=a("iterator");e.exports=!n(function(){var e=new URL("b?e=1","http://a");var t=e.searchParams;e.pathname="c%20d";return i&&!e.toJSON||!t.sort||e.href!=="http://a/c%20d?e=1"||t.get("e")!=="1"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[o]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"})},function(e,t,r){"use strict";var n=2147483647;var a=36;var i=1;var o=26;var s=38;var u=700;var l=72;var c=128;var f="-";var h=/[^\0-\u007E]/;var d=/[.\u3002\uFF0E\uFF61]/g;var v="Overflow: input needs wider integers to process";var p=a-i;var g=Math.floor;var m=String.fromCharCode;var y=function(e){var t=[];var r=0;var n=e.length;while(r<n){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);if((i&64512)==56320){t.push(((a&1023)<<10)+(i&1023)+65536)}else{t.push(a);r--}}else{t.push(a)}}return t};var b=function(e){return e+22+75*(e<26)};var _=function(e,t,r){var n=0;e=r?g(e/u):e>>1;e+=g(e/t);for(;e>p*o>>1;n+=a){e=g(e/p)}return g(n+(p+1)*e/(e+s))};var A=function(e){var t=[];e=y(e);var r=e.length;var s=c;var u=0;var h=l;var d,p;for(d=0;d<e.length;d++){p=e[d];if(p<128){t.push(m(p))}}var A=t.length;var S=A;if(A){t.push(f)}while(S<r){var w=n;for(d=0;d<e.length;d++){p=e[d];if(p>=s&&p<w){w=p}}var k=S+1;if(w-s>g((n-u)/k)){throw RangeError(v)}u+=(w-s)*k;s=w;for(d=0;d<e.length;d++){p=e[d];if(p<s&&++u>n){throw RangeError(v)}if(p==s){var x=u;for(var C=a;;C+=a){var P=C<=h?i:C>=h+o?o:C-h;if(x<P)break;var R=x-P;var E=a-P;t.push(m(b(P+R%E)));x=g(R/E)}t.push(m(b(x)));h=_(u,k,S==A);u=0;++S}}++u;++s}return t.join("")};e.exports=function(e){var t=[];var r=e.toLowerCase().replace(d,".").split(".");var n,a;for(n=0;n<r.length;n++){a=r[n];t.push(h.test(a)?"xn--"+A(a):a)}return t.join(".")}},function(e,t,r){"use strict";r(104);var n=r(7);var a=r(123);var i=r(26);var o=r(107);var s=r(77);var u=r(72);var l=r(31);var c=r(109);var f=r(20);var h=r(55);var d=r(25);var v=r(19);var p=r(126);var g=r(86);var m=r(51);var y=m("iterator");var b="URLSearchParams";var _=b+"Iterator";var A=l.set;var S=l.getterFor(b);var w=l.getterFor(_);var k=/\+/g;var x=Array(4);var C=function(e){return x[e-1]||(x[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))};var P=function(e){try{return decodeURIComponent(e)}catch(t){return e}};var R=function(e){var t=e.replace(k," ");var r=4;try{return decodeURIComponent(t)}catch(e){while(r){t=t.replace(C(r--),P)}return t}};var E=/[!'()~]|%20/g;var T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var O=function(e){return T[e]};var L=function(e){return encodeURIComponent(e).replace(E,O)};var F=function(e,t){if(t){var r=t.split("&");var n=0;var a,i;while(n<r.length){a=r[n++];if(a.length){i=a.split("=");e.push({key:R(i.shift()),value:R(i.join("="))})}}}};var I=function(e){this.entries.length=0;F(this.entries,e)};var j=function(e,t){if(e<t)throw TypeError("Not enough arguments")};var M=u(function e(t,r){A(this,{type:_,iterator:p(S(t).entries),kind:r})},"Iterator",function e(){var t=w(this);var r=t.kind;var n=t.iterator.next();var a=n.value;if(!n.done){n.value=r==="keys"?a.key:r==="values"?a.value:[a.key,a.value]}return n});var N=function e(){c(this,N,b);var t=arguments.length>0?arguments[0]:undefined;var r=this;var n=[];var a,i,o,s,u,l,h;A(r,{type:b,entries:n,updateURL:function(){},updateSearchParams:I});if(t!==undefined){if(v(t)){a=g(t);if(typeof a==="function"){i=a.call(t);while(!(o=i.next()).done){s=p(d(o.value));if((u=s.next()).done||(l=s.next()).done||!s.next().done)throw TypeError("Expected sequence with length 2");n.push({key:u.value+"",value:l.value+""})}}else for(h in t)if(f(t,h))n.push({key:h,value:t[h]+""})}else{F(n,typeof t==="string"?t.charAt(0)==="?"?t.slice(1):t:t+"")}}};var D=N.prototype;o(D,{append:function e(t,r){j(arguments.length,2);var n=S(this);n.entries.push({key:t+"",value:r+""});n.updateURL()},delete:function(e){j(arguments.length,1);var t=S(this);var r=t.entries;var n=e+"";var a=0;while(a<r.length){if(r[a].key===n)r.splice(a,1);else a++}t.updateURL()},get:function e(t){j(arguments.length,1);var r=S(this).entries;var n=t+"";var a=0;for(;a<r.length;a++){if(r[a].key===n)return r[a].value}return null},getAll:function e(t){j(arguments.length,1);var r=S(this).entries;var n=t+"";var a=[];var i=0;for(;i<r.length;i++){if(r[i].key===n)a.push(r[i].value)}return a},has:function e(t){j(arguments.length,1);var r=S(this).entries;var n=t+"";var a=0;while(a<r.length){if(r[a++].key===n)return true}return false},set:function e(t,r){j(arguments.length,1);var n=S(this);var a=n.entries;var i=false;var o=t+"";var s=r+"";var u=0;var l;for(;u<a.length;u++){l=a[u];if(l.key===o){if(i)a.splice(u--,1);else{i=true;l.value=s}}}if(!i)a.push({key:o,value:s});n.updateURL()},sort:function e(){var t=S(this);var r=t.entries;var n=r.slice();var a,i,o;r.length=0;for(o=0;o<n.length;o++){a=n[o];for(i=0;i<o;i++){if(r[i].key>a.key){r.splice(i,0,a);break}}if(i===o)r.push(a)}t.updateURL()},forEach:function e(t){var r=S(this).entries;var n=h(t,arguments.length>1?arguments[1]:undefined,3);var a=0;var i;while(a<r.length){i=r[a++];n(i.value,i.key,this)}},keys:function e(){return new M(this,"keys")},values:function e(){return new M(this,"values")},entries:function e(){return new M(this,"entries")}},{enumerable:true});i(D,y,D.entries);i(D,"toString",function e(){var t=S(this).entries;var r=[];var n=0;var a;while(n<t.length){a=t[n++];r.push(L(a.key)+"="+L(a.value))}return r.join("&")},{enumerable:true});s(N,b);n({global:true,forced:!a},{URLSearchParams:N});e.exports={URLSearchParams:N,getState:S}},function(e,t,r){var n=r(25);var a=r(86);e.exports=function(e){var t=a(e);if(typeof t!="function"){throw TypeError(String(e)+" is not iterable")}return n(t.call(e))}},function(e,t,r){"use strict";var n=r(7);n({target:"URL",proto:true,enumerable:true},{toJSON:function e(){return URL.prototype.toString.call(this)}})},function(e,t,r){r(100);r(129);r(102);var n=r(39);e.exports=n.WeakMap},function(e,t,r){"use strict";var n=r(8);var a=r(107);var i=r(130);var o=r(132);var s=r(134);var u=r(19);var l=r(31).enforce;var c=r(32);var f=!n.ActiveXObject&&"ActiveXObject"in n;var h=Object.isExtensible;var d;var v=function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}};var p=e.exports=o("WeakMap",v,s,true,true);if(c&&f){d=s.getConstructor(v,"WeakMap",true);i.REQUIRED=true;var g=p.prototype;var m=g["delete"];var y=g.has;var b=g.get;var _=g.set;a(g,{delete:function(e){if(u(e)&&!h(e)){var t=l(this);if(!t.frozen)t.frozen=new d;return m.call(this,e)||t.frozen["delete"](e)}return m.call(this,e)},has:function e(t){if(u(t)&&!h(t)){var r=l(this);if(!r.frozen)r.frozen=new d;return y.call(this,t)||r.frozen.has(t)}return y.call(this,t)},get:function e(t){if(u(t)&&!h(t)){var r=l(this);if(!r.frozen)r.frozen=new d;return y.call(this,t)?b.call(this,t):r.frozen.get(t)}return b.call(this,t)},set:function e(t,r){if(u(t)&&!h(t)){var n=l(this);if(!n.frozen)n.frozen=new d;y.call(this,t)?_.call(this,t,r):n.frozen.set(t,r)}else _.call(this,t,r);return this}})}},function(e,t,r){var n=r(35);var a=r(19);var i=r(20);var o=r(24).f;var s=r(34);var u=r(131);var l=s("meta");var c=0;var f=Object.isExtensible||function(){return true};var h=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})};var d=function(e,t){if(!a(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,l)){if(!f(e))return"F";if(!t)return"E";h(e)}return e[l].objectID};var v=function(e,t){if(!i(e,l)){if(!f(e))return true;if(!t)return false;h(e)}return e[l].weakData};var p=function(e){if(u&&g.REQUIRED&&f(e)&&!i(e,l))h(e);return e};var g=e.exports={REQUIRED:false,fastKey:d,getWeakData:v,onFreeze:p};n[l]=true},function(e,t,r){var n=r(11);e.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,r){"use strict";var n=r(7);var a=r(8);var i=r(48);var o=r(26);var s=r(130);var u=r(110);var l=r(109);var c=r(19);var f=r(11);var h=r(88);var d=r(77);var v=r(133);e.exports=function(e,t,r,p,g){var m=a[e];var y=m&&m.prototype;var b=m;var _=p?"set":"add";var A={};var S=function(e){var t=y[e];o(y,e,e=="add"?function e(r){t.call(this,r===0?0:r);return this}:e=="delete"?function(e){return g&&!c(e)?false:t.call(this,e===0?0:e)}:e=="get"?function e(r){return g&&!c(r)?undefined:t.call(this,r===0?0:r)}:e=="has"?function e(r){return g&&!c(r)?false:t.call(this,r===0?0:r)}:function e(r,n){t.call(this,r===0?0:r,n);return this})};if(i(e,typeof m!="function"||!(g||y.forEach&&!f(function(){(new m).entries().next()})))){b=r.getConstructor(t,e,p,_);s.REQUIRED=true}else if(i(e,true)){var w=new b;var k=w[_](g?{}:-0,1)!=w;var x=f(function(){w.has(1)});var C=h(function(e){new m(e)});var P=!g&&f(function(){var e=new m;var t=5;while(t--)e[_](t,t);return!e.has(-0)});if(!C){b=t(function(t,r){l(t,b,e);var n=v(new m,t,b);if(r!=undefined)u(r,n[_],n,p);return n});b.prototype=y;y.constructor=b}if(x||P){S("delete");S("has");p&&S("get")}if(P||k)S(_);if(g&&y.clear)delete y.clear}A[e]=b;n({global:true,forced:b!=m},A);d(b,e);if(!g)r.setStrong(b,e,p);return b}},function(e,t,r){var n=r(19);var a=r(79);e.exports=function(e,t,r){var i,o;if(a&&typeof(i=t.constructor)=="function"&&i!==r&&n(o=i.prototype)&&o!==r.prototype)a(e,o);return e}},function(e,t,r){"use strict";var n=r(107);var a=r(130).getWeakData;var i=r(25);var o=r(19);var s=r(109);var u=r(110);var l=r(135);var c=r(20);var f=r(31);var h=f.set;var d=f.getterFor;var v=l.find;var p=l.findIndex;var g=0;var m=function(e){return e.frozen||(e.frozen=new y)};var y=function(){this.entries=[]};var b=function(e,t){return v(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);if(r)r[1]=t;else this.entries.push([e,t])},delete:function(e){var t=p(this.entries,function(t){return t[0]===e});if(~t)this.entries.splice(t,1);return!!~t}};e.exports={getConstructor:function(e,t,r,l){var f=e(function(e,n){s(e,f,t);h(e,{type:t,id:g++,frozen:undefined});if(n!=undefined)u(n,e[l],e,r)});var v=d(t);var p=function(e,t,r){var n=v(e);var o=a(i(t),true);if(o===true)m(n).set(t,r);else o[n.id]=r;return e};n(f.prototype,{delete:function(e){var t=v(this);if(!o(e))return false;var r=a(e);if(r===true)return m(t)["delete"](e);return r&&c(r,t.id)&&delete r[t.id]},has:function e(t){var r=v(this);if(!o(t))return false;var n=a(t);if(n===true)return m(r).has(t);return n&&c(n,r.id)}});n(f.prototype,r?{get:function e(t){var r=v(this);if(o(t)){var n=a(t);if(n===true)return m(r).get(t);return n?n[r.id]:undefined}},set:function e(t,r){return p(this,t,r)}}:{add:function e(t){return p(this,t,true)}});return f}}},function(e,t,r){var n=r(55);var a=r(15);var i=r(75);var o=r(43);var s=r(136);var u=[].push;var l=function(e){var t=e==1;var r=e==2;var l=e==3;var c=e==4;var f=e==6;var h=e==5||f;return function(d,v,p,g){var m=i(d);var y=a(m);var b=n(v,p,3);var _=o(y.length);var A=0;var S=g||s;var w=t?S(d,_):r?S(d,0):undefined;var k,x;for(;_>A;A++)if(h||A in y){k=y[A];x=b(k,A,m);if(e){if(t)w[A]=x;else if(x)switch(e){case 3:return true;case 5:return k;case 6:return A;case 2:u.call(w,k)}else if(c)return false}}return f?-1:l||c?c:w}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,r){var n=r(19);var a=r(137);var i=r(51);var o=i("species");e.exports=function(e,t){var r;if(a(e)){r=e.constructor;if(typeof r=="function"&&(r===Array||a(r.prototype)))r=undefined;else if(n(r)){r=r[o];if(r===null)r=undefined}}return new(r===undefined?Array:r)(t===0?0:t)}},function(e,t,r){var n=r(16);e.exports=Array.isArray||function e(t){return n(t)=="Array"}},function(e,t,r){r(100);r(139);r(102);var n=r(39);e.exports=n.WeakSet},function(e,t,r){"use strict";var n=r(132);var a=r(134);n("WeakSet",function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}},a,false,true)},function(e,t,r){r(141);var n=r(54);e.exports=n("String","codePointAt")},function(e,t,r){"use strict";var n=r(7);var a=r(70).codeAt;n({target:"String",proto:true},{codePointAt:function e(t){return a(this,t)}})},function(e,t,r){r(143);var n=r(39);e.exports=n.String.fromCodePoint},function(e,t,r){var n=r(7);var a=r(45);var i=String.fromCharCode;var o=String.fromCodePoint;var s=!!o&&o.length!=1;n({target:"String",stat:true,forced:s},{fromCodePoint:function e(t){var r=[];var n=arguments.length;var o=0;var s;while(n>o){s=+arguments[o++];if(a(s,1114111)!==s)throw RangeError(s+" is not a valid code point");r.push(s<65536?i(s):i(((s-=65536)>>10)+55296,s%1024+56320))}return r.join("")}})},function(e,t,r){r(145);r(100);r(147);r(151);r(152);r(153);r(154);r(155);r(156);r(157);r(158);r(159);r(160);r(161);r(162);r(163);r(164);r(165);r(166);var n=r(39);e.exports=n.Symbol},function(e,t,r){"use strict";var n=r(7);var a=r(11);var i=r(137);var o=r(19);var s=r(75);var u=r(43);var l=r(85);var c=r(136);var f=r(146);var h=r(51);var d=h("isConcatSpreadable");var v=9007199254740991;var p="Maximum allowed index exceeded";var g=!a(function(){var e=[];e[d]=false;return e.concat()[0]!==e});var m=f("concat");var y=function(e){if(!o(e))return false;var t=e[d];return t!==undefined?!!t:i(e)};var b=!g||!m;n({target:"Array",proto:true,forced:b},{concat:function e(t){var r=s(this);var n=c(r,0);var a=0;var i,o,f,h,d;for(i=-1,f=arguments.length;i<f;i++){d=i===-1?r:arguments[i];if(y(d)){h=u(d.length);if(a+h>v)throw TypeError(p);for(o=0;o<h;o++,a++)if(o in d)l(n,a,d[o])}else{if(a>=v)throw TypeError(p);l(n,a++,d)}}n.length=a;return n}})},function(e,t,r){var n=r(11);var a=r(51);var i=a("species");e.exports=function(e){return!n(function(){var t=[];var r=t.constructor={};r[i]=function(){return{foo:1}};return t[e](Boolean).foo!==1})}},function(e,t,r){"use strict";var n=r(7);var a=r(8);var i=r(29);var o=r(10);var s=r(52);var u=r(11);var l=r(20);var c=r(137);var f=r(19);var h=r(25);var d=r(75);var v=r(14);var p=r(18);var g=r(13);var m=r(64);var y=r(66);var b=r(40);var _=r(148);var A=r(47);var S=r(9);var w=r(24);var k=r(12);var x=r(23);var C=r(26);var P=r(27);var R=r(33);var E=r(35);var T=r(34);var O=r(51);var L=r(149);var F=r(150);var I=r(77);var j=r(31);var M=r(135).forEach;var N=R("hidden");var D="Symbol";var q="prototype";var U=O("toPrimitive");var W=j.set;var B=j.getterFor(D);var z=Object[q];var G=a.Symbol;var H=a.JSON;var X=H&&H.stringify;var Y=S.f;var V=w.f;var Q=_.f;var K=k.f;var J=P("symbols");var Z=P("op-symbols");var $=P("string-to-symbol-registry");var ee=P("symbol-to-string-registry");var te=P("wks");var re=a.QObject;var ne=!re||!re[q]||!re[q].findChild;var ae=o&&u(function(){return m(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=Y(z,t);if(n)delete z[t];V(e,t,r);if(n&&e!==z){V(z,t,n)}}:V;var ie=function(e,t){var r=J[e]=m(G[q]);W(r,{type:D,tag:e,description:t});if(!o)r.description=t;return r};var oe=s&&typeof G.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return Object(e)instanceof G};var se=function e(t,r,n){if(t===z)se(Z,r,n);h(t);var a=p(r,true);h(n);if(l(J,a)){if(!n.enumerable){if(!l(t,N))V(t,N,g(1,{}));t[N][a]=true}else{if(l(t,N)&&t[N][a])t[N][a]=false;n=m(n,{enumerable:g(0,false)})}return ae(t,a,n)}return V(t,a,n)};var ue=function e(t,r){h(t);var n=v(r);var a=y(n).concat(de(n));M(a,function(e){if(!o||ce.call(n,e))se(t,e,n[e])});return t};var le=function e(t,r){return r===undefined?m(t):ue(m(t),r)};var ce=function e(t){var r=p(t,true);var n=K.call(this,r);if(this===z&&l(J,r)&&!l(Z,r))return false;return n||!l(this,r)||!l(J,r)||l(this,N)&&this[N][r]?n:true};var fe=function e(t,r){var n=v(t);var a=p(r,true);if(n===z&&l(J,a)&&!l(Z,a))return;var i=Y(n,a);if(i&&l(J,a)&&!(l(n,N)&&n[N][a])){i.enumerable=true}return i};var he=function e(t){var r=Q(v(t));var n=[];M(r,function(e){if(!l(J,e)&&!l(E,e))n.push(e)});return n};var de=function e(t){var r=t===z;var n=Q(r?Z:v(t));var a=[];M(n,function(e){if(l(J,e)&&(!r||l(z,e))){a.push(J[e])}});return a};if(!s){G=function e(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var r=T(t);var n=function(e){if(this===z)n.call(Z,e);if(l(this,N)&&l(this[N],r))this[N][r]=false;ae(this,r,g(1,e))};if(o&&ne)ae(z,r,{configurable:true,set:n});return ie(r,t)};C(G[q],"toString",function e(){return B(this).tag});k.f=ce;w.f=se;S.f=fe;b.f=_.f=he;A.f=de;if(o){V(G[q],"description",{configurable:true,get:function e(){return B(this).description}});if(!i){C(z,"propertyIsEnumerable",ce,{unsafe:true})}}L.f=function(e){return ie(O(e),e)}}n({global:true,wrap:true,forced:!s,sham:!s},{Symbol:G});M(y(te),function(e){F(e)});n({target:D,stat:true,forced:!s},{for:function(e){var t=String(e);if(l($,t))return $[t];var r=G(t);$[t]=r;ee[r]=t;return r},keyFor:function e(t){if(!oe(t))throw TypeError(t+" is not a symbol");if(l(ee,t))return ee[t]},useSetter:function(){ne=true},useSimple:function(){ne=false}});n({target:"Object",stat:true,forced:!s,sham:!o},{create:le,defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:fe});n({target:"Object",stat:true,forced:!s},{getOwnPropertyNames:he,getOwnPropertySymbols:de});n({target:"Object",stat:true,forced:u(function(){A.f(1)})},{getOwnPropertySymbols:function e(t){return A.f(d(t))}});H&&n({target:"JSON",stat:true,forced:!s||u(function(){var e=G();return X([e])!="[null]"||X({a:e})!="{}"||X(Object(e))!="{}"})},{stringify:function e(t){var r=[t];var n=1;var a,i;while(arguments.length>n)r.push(arguments[n++]);i=a=r[1];if(!f(a)&&t===undefined||oe(t))return;if(!c(a))a=function(e,t){if(typeof i=="function")t=i.call(this,e,t);if(!oe(t))return t};r[1]=a;return X.apply(H,r)}});if(!G[q][U])x(G[q],U,G[q].valueOf);I(G,D);E[N]=true},function(e,t,r){var n=r(14);var a=r(40).f;var i={}.toString;var o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return a(e)}catch(e){return o.slice()}};e.exports.f=function e(t){return o&&i.call(t)=="[object Window]"?s(t):a(n(t))}},function(e,t,r){t.f=r(51)},function(e,t,r){var n=r(39);var a=r(20);var i=r(149);var o=r(24).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});if(!a(t,e))o(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(150);n("asyncIterator")},function(e,t,r){"use strict";var n=r(7);var a=r(10);var i=r(8);var o=r(20);var s=r(19);var u=r(24).f;var l=r(36);var c=i.Symbol;if(a&&typeof c=="function"&&(!("description"in c.prototype)||c().description!==undefined)){var f={};var h=function e(){var t=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var r=this instanceof h?new c(t):t===undefined?c():c(t);if(t==="")f[r]=true;return r};l(h,c);var d=h.prototype=c.prototype;d.constructor=h;var v=d.toString;var p=String(c("test"))=="Symbol(test)";var g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:true,get:function e(){var t=s(this)?this.valueOf():this;var r=v.call(t);if(o(f,t))return"";var n=p?r.slice(7,-1):r.replace(g,"$1");return n===""?undefined:n}});n({global:true,forced:true},{Symbol:h})}},function(e,t,r){var n=r(150);n("hasInstance")},function(e,t,r){var n=r(150);n("isConcatSpreadable")},function(e,t,r){var n=r(150);n("iterator")},function(e,t,r){var n=r(150);n("match")},function(e,t,r){var n=r(150);n("matchAll")},function(e,t,r){var n=r(150);n("replace")},function(e,t,r){var n=r(150);n("search")},function(e,t,r){var n=r(150);n("species")},function(e,t,r){var n=r(150);n("split")},function(e,t,r){var n=r(150);n("toPrimitive")},function(e,t,r){var n=r(150);n("toStringTag")},function(e,t,r){var n=r(150);n("unscopables")},function(e,t,r){var n=r(77);n(Math,"Math",true)},function(e,t,r){var n=r(8);var a=r(77);a(n.JSON,"JSON",true)},function(e,t,r){r(168);var n=r(54);e.exports=n("String","padStart")},function(e,t,r){"use strict";var n=r(7);var a=r(169).start;var i=r(171);n({target:"String",proto:true,forced:i},{padStart:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}})},function(e,t,r){var n=r(43);var a=r(170);var i=r(17);var o=Math.ceil;var s=function(e){return function(t,r,s){var u=String(i(t));var l=u.length;var c=s===undefined?" ":String(s);var f=n(r);var h,d;if(f<=l||c=="")return u;h=f-l;d=a.call(c,o(h/c.length));if(d.length>h)d=d.slice(0,h);return e?u+d:d+u}};e.exports={start:s(false),end:s(true)}},function(e,t,r){"use strict";var n=r(44);var a=r(17);e.exports="".repeat||function e(t){var r=String(a(this));var i="";var o=n(t);if(o<0||o==Infinity)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(r+=r))if(o&1)i+=r;return i}},function(e,t,r){var n=r(114);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},function(e,t,r){r(173);var n=r(54);e.exports=n("String","padEnd")},function(e,t,r){"use strict";var n=r(7);var a=r(169).end;var i=r(171);n({target:"String",proto:true,forced:i},{padEnd:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}})},function(e,t,r){r(175);var n=r(39);e.exports=n.Object.values},function(e,t,r){var n=r(7);var a=r(176).values;n({target:"Object",stat:true},{values:function e(t){return a(t)}})},function(e,t,r){var n=r(10);var a=r(66);var i=r(14);var o=r(12).f;var s=function(e){return function(t){var r=i(t);var s=a(r);var u=s.length;var l=0;var c=[];var f;while(u>l){f=s[l++];if(!n||o.call(r,f)){c.push(e?[f,r[f]]:r[f])}}return c}};e.exports={entries:s(true),values:s(false)}},function(e,t,r){"use strict";{var n=false;if(typeof ReadableStream!=="undefined"){try{new ReadableStream({start:function e(t){t.close()}});n=true}catch(e){}}if(n){t.ReadableStream=ReadableStream}else{t.ReadableStream=r(178).ReadableStream}}},function(e,t,r){"use strict";r.r(t);r.d(t,"ByteLengthQueuingStrategy",function(){return kr});r.d(t,"CountQueuingStrategy",function(){return xr});r.d(t,"ReadableStream",function(){return vr});r.d(t,"TransformStream",function(){return Cr});r.d(t,"WritableStream",function(){return re});var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(e){return"Symbol("+e+")"};function a(){}var i=Number.isNaN||function(e){return e!==e};function o(e){return typeof e==="object"&&e!==null||typeof e==="function"}function s(e){return e.slice()}function u(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}function l(e){if(c(e)===false){return false}if(e===Infinity){return false}return true}function c(e){if(typeof e!=="number"){return false}if(i(e)){return false}if(e<0){return false}return true}function f(e,t,r){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,t,r)}function h(e,t,r,n){var a=e[t];if(a!==undefined){if(typeof a!=="function"){throw new TypeError(a+" is not a method")}switch(r){case 0:{return function(){return v(a,e,n)}}case 1:{return function(t){var r=[t].concat(n);return v(a,e,r)}}}}return function(){return Promise.resolve()}}function d(e,t,r){var n=e[t];if(n===undefined){return undefined}return f(n,e,r)}function v(e,t,r){try{return Promise.resolve(f(e,t,r))}catch(e){return Promise.reject(e)}}function p(e){return e}function g(e){return false}function m(e){e=Number(e);if(i(e)||e<0){throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN")}return e}function y(e){if(e===undefined){return function(){return 1}}if(typeof e!=="function"){throw new TypeError("size property of a queuing strategy must be a function")}return function(t){return e(t)}}var b=16384;var _=function(){function e(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:true,configurable:true});e.prototype.push=function(e){var t=this._back;var r=t;if(t._elements.length===b-1){r={_elements:[],_next:undefined}}t._elements.push(e);if(r!==t){this._back=r;t._next=r}++this._size};e.prototype.shift=function(){var e=this._front;var t=e;var r=this._cursor;var n=r+1;var a=e._elements;var i=a[r];if(n===b){t=e._next;n=0}--this._size;this._cursor=n;if(e!==t){this._front=t}a[r]=undefined;return i};e.prototype.forEach=function(e){var t=this._cursor;var r=this._front;var n=r._elements;while(t!==n.length||r._next!==undefined){if(t===n.length){r=r._next;n=r._elements;t=0;if(n.length===0){break}}e(n[t]);++t}};e.prototype.peek=function(){var e=this._front;var t=this._cursor;return e._elements[t]};return e}();function A(e,t,r){var n=null;if(r===true){n=Object.prototype}var a=Object.create(n);a.value=e;a.done=t;return a}function S(e,t){e._forAuthorCode=true;e._ownerReadableStream=t;t._reader=e;if(t._state==="readable"){C(e)}else if(t._state==="closed"){R(e)}else{P(e,t._storedError)}}function w(e,t){var r=e._ownerReadableStream;return br(r,t)}function k(e){if(e._ownerReadableStream._state==="readable"){E(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}else{T(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function C(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t;e._closedPromise_reject=r})}function P(e,t){C(e);E(e,t)}function R(e){C(e);O(e)}function E(e,t){e._closedPromise.catch(a);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function T(e,t){P(e,t)}function O(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}var L=n("[[CancelSteps]]");var F=n("[[PullSteps]]");function I(e,t){if(t===void 0){t=false}var r=new q(e);r._forAuthorCode=t;return r}function j(e){var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._reader._readRequests.push(n)});return t}function M(e,t,r){var n=e._reader;var a=n._readRequests.shift();a._resolve(A(t,r,n._forAuthorCode))}function N(e){return e._reader._readRequests.length}function D(e){var t=e._reader;if(t===undefined){return false}if(!U(t)){return false}return true}var q=function(){function e(e){if(mr(e)===false){throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance")}if(yr(e)===true){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}S(this,e);this._readRequests=new _}Object.defineProperty(e.prototype,"closed",{get:function(){if(!U(this)){return Promise.reject(B("closed"))}return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!U(this)){return Promise.reject(B("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("cancel"))}return w(this,e)};e.prototype.read=function(){if(!U(this)){return Promise.reject(B("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("read from"))}return W(this)};e.prototype.releaseLock=function(){if(!U(this)){throw B("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}k(this)};return e}();function U(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return true}function W(e){var t=e._ownerReadableStream;t._disturbed=true;if(t._state==="closed"){return Promise.resolve(A(undefined,true,e._forAuthorCode))}if(t._state==="errored"){return Promise.reject(t._storedError)}return t._readableStreamController[F]()}function B(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}var z;var G;if(typeof n.asyncIterator==="symbol"){G=(z={},z[n.asyncIterator]=function(){return this},z);Object.defineProperty(G,n.asyncIterator,{enumerable:false})}var H={next:function(){if(Y(this)===false){return Promise.reject(V("next"))}var e=this._asyncIteratorReader;if(e._ownerReadableStream===undefined){return Promise.reject(x("iterate"))}return W(e).then(function(t){var r=t.done;if(r){k(e)}var n=t.value;return A(n,r,true)})},return:function(e){if(Y(this)===false){return Promise.reject(V("next"))}var t=this._asyncIteratorReader;if(t._ownerReadableStream===undefined){return Promise.reject(x("finish iterating"))}if(t._readRequests.length>0){return Promise.reject(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"))}if(this._preventCancel===false){var r=w(t,e);k(t);return r.then(function(){return A(e,true,true)})}k(t);return Promise.resolve(A(e,true,true))}};if(G!==undefined){Object.setPrototypeOf(H,G)}Object.defineProperty(H,"next",{enumerable:false});Object.defineProperty(H,"return",{enumerable:false});function X(e,t){if(t===void 0){t=false}var r=I(e);var n=Object.create(H);n._asyncIteratorReader=r;n._preventCancel=Boolean(t);return n}function Y(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")){return false}return true}function V(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}var Q=a;function K(e){var t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return t.value}function J(e,t,r){r=Number(r);if(!l(r)){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:t,size:r});e._queueTotalSize+=r}function Z(e){var t=e._queue.peek();return t.value}function $(e){e._queue=new _;e._queueTotalSize=0}var ee=n("[[AbortSteps]]");var te=n("[[ErrorSteps]]");var re=function(){function e(e,t){if(e===void 0){e={}}if(t===void 0){t={}}ie(this);var r=t.size;var n=t.highWaterMark;var a=e.type;if(a!==undefined){throw new RangeError("Invalid type is specified")}var i=y(r);if(n===undefined){n=1}n=m(n);Me(this,e,n,i)}Object.defineProperty(e.prototype,"locked",{get:function(){if(oe(this)===false){throw Ve("locked")}return se(this)},enumerable:true,configurable:true});e.prototype.abort=function(e){if(oe(this)===false){return Promise.reject(Ve("abort"))}if(se(this)===true){return Promise.reject(new TypeError("Cannot abort a stream that already has a writer"))}return ue(this,e)};e.prototype.getWriter=function(){if(oe(this)===false){throw Ve("getWriter")}return ne(this)};return e}();function ne(e){return new we(e)}function ae(e,t,r,n,a,i){if(a===void 0){a=1}if(i===void 0){i=function(){return 1}}var o=Object.create(re.prototype);ie(o);var s=Object.create(Fe.prototype);je(o,s,e,t,r,n,a,i);return o}function ie(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new _;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function oe(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return true}function se(e){if(e._writer===undefined){return false}return true}function ue(e,t){var r=e._state;if(r==="closed"||r==="errored"){return Promise.resolve(undefined)}if(e._pendingAbortRequest!==undefined){return e._pendingAbortRequest._promise}var n=false;if(r==="erroring"){n=true;t=undefined}var a=new Promise(function(r,a){e._pendingAbortRequest={_promise:undefined,_resolve:r,_reject:a,_reason:t,_wasAlreadyErroring:n}});e._pendingAbortRequest._promise=a;if(n===false){fe(e,t)}return a}function le(e){var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)});return t}function ce(e,t){var r=e._state;if(r==="writable"){fe(e,t);return}he(e)}function fe(e,t){var r=e._writableStreamController;e._state="erroring";e._storedError=t;var n=e._writer;if(n!==undefined){Ee(n,t)}if(ye(e)===false&&r._started===true){he(e)}}function he(e){e._state="errored";e._writableStreamController[te]();var t=e._storedError;e._writeRequests.forEach(function(e){e._reject(t)});e._writeRequests=new _;if(e._pendingAbortRequest===undefined){Ae(e);return}var r=e._pendingAbortRequest;e._pendingAbortRequest=undefined;if(r._wasAlreadyErroring===true){r._reject(t);Ae(e);return}var n=e._writableStreamController[ee](r._reason);n.then(function(){r._resolve();Ae(e)},function(t){r._reject(t);Ae(e)})}function de(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function ve(e,t){e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;ce(e,t)}function pe(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var t=e._state;if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var r=e._writer;if(r!==undefined){rt(r)}}function ge(e,t){e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}ce(e,t)}function me(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function ye(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function be(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function _e(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Ae(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var t=e._writer;if(t!==undefined){et(t,e._storedError)}}function Se(e,t){var r=e._writer;if(r!==undefined&&t!==e._backpressure){if(t===true){st(r)}else{lt(r)}}e._backpressure=t}var we=function(){function e(e){if(oe(e)===false){throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance")}if(se(e)===true){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;var t=e._state;if(t==="writable"){if(me(e)===false&&e._backpressure===true){nt(this)}else{it(this)}Je(this)}else if(t==="erroring"){at(this,e._storedError);Je(this)}else if(t==="closed"){it(this);$e(this)}else{var r=e._storedError;at(this,r);Ze(this,r)}}Object.defineProperty(e.prototype,"closed",{get:function(){if(ke(this)===false){return Promise.reject(Qe("closed"))}return this._closedPromise},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(ke(this)===false){throw Qe("desiredSize")}if(this._ownerWritableStream===undefined){throw Ke("desiredSize")}return Te(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ready",{get:function(){if(ke(this)===false){return Promise.reject(Qe("ready"))}return this._readyPromise},enumerable:true,configurable:true});e.prototype.abort=function(e){if(ke(this)===false){return Promise.reject(Qe("abort"))}if(this._ownerWritableStream===undefined){return Promise.reject(Ke("abort"))}return xe(this,e)};e.prototype.close=function(){if(ke(this)===false){return Promise.reject(Qe("close"))}var e=this._ownerWritableStream;if(e===undefined){return Promise.reject(Ke("close"))}if(me(e)===true){return Promise.reject(new TypeError("cannot close an already-closing stream"))}return Ce(this)};e.prototype.releaseLock=function(){if(ke(this)===false){throw Qe("releaseLock")}var e=this._ownerWritableStream;if(e===undefined){return}Oe(this)};e.prototype.write=function(e){if(ke(this)===false){return Promise.reject(Qe("write"))}if(this._ownerWritableStream===undefined){return Promise.reject(Ke("write to"))}return Le(this,e)};return e}();function ke(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return true}function xe(e,t){var r=e._ownerWritableStream;return ue(r,t)}function Ce(e){var t=e._ownerWritableStream;var r=t._state;if(r==="closed"||r==="errored"){return Promise.reject(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"))}var n=new Promise(function(e,r){var n={_resolve:e,_reject:r};t._closeRequest=n});if(t._backpressure===true&&r==="writable"){lt(e)}De(t._writableStreamController);return n}function Pe(e){var t=e._ownerWritableStream;var r=t._state;if(me(t)===true||r==="closed"){return Promise.resolve()}if(r==="errored"){return Promise.reject(t._storedError)}return Ce(e)}function Re(e,t){if(e._closedPromiseState==="pending"){et(e,t)}else{tt(e,t)}}function Ee(e,t){if(e._readyPromiseState==="pending"){ot(e,t)}else{ut(e,t)}}function Te(e){var t=e._ownerWritableStream;var r=t._state;if(r==="errored"||r==="erroring"){return null}if(r==="closed"){return 0}return Ue(t._writableStreamController)}function Oe(e){var t=e._ownerWritableStream;var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ee(e,r);Re(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function Le(e,t){var r=e._ownerWritableStream;var n=r._writableStreamController;var a=qe(n,t);if(r!==e._ownerWritableStream){return Promise.reject(Ke("write to"))}var i=r._state;if(i==="errored"){return Promise.reject(r._storedError)}if(me(r)===true||i==="closed"){return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"))}if(i==="erroring"){return Promise.reject(r._storedError)}var o=le(r);We(n,t,a);return o}var Fe=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}e.prototype.error=function(e){if(Ie(this)===false){throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController")}var t=this._controlledWritableStream._state;if(t!=="writable"){return}Ye(this,e)};e.prototype[ee]=function(e){var t=this._abortAlgorithm(e);Ne(this);return t};e.prototype[te]=function(){$(this)};return e}();function Ie(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return true}function je(e,t,r,n,a,i,o,s){t._controlledWritableStream=e;e._writableStreamController=t;t._queue=undefined;t._queueTotalSize=undefined;$(t);t._started=false;t._strategySizeAlgorithm=s;t._strategyHWM=o;t._writeAlgorithm=n;t._closeAlgorithm=a;t._abortAlgorithm=i;var u=Xe(t);Se(e,u);var l=r();var c=Promise.resolve(l);c.then(function(){t._started=true;Be(t)},function(r){t._started=true;ce(e,r)}).catch(Q)}function Me(e,t,r,n){var a=Object.create(Fe.prototype);function i(){return d(t,"start",[a])}var o=h(t,"write",1,[a]);var s=h(t,"close",0,[]);var u=h(t,"abort",1,[]);je(e,a,i,o,s,u,r,n)}function Ne(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function De(e){J(e,"close",0);Be(e)}function qe(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){ze(e,t);return 1}}function Ue(e){return e._strategyHWM-e._queueTotalSize}function We(e,t,r){var n={chunk:t};try{J(e,n,r)}catch(t){ze(e,t);return}var a=e._controlledWritableStream;if(me(a)===false&&a._state==="writable"){var i=Xe(e);Se(a,i)}Be(e)}function Be(e){var t=e._controlledWritableStream;if(e._started===false){return}if(t._inFlightWriteRequest!==undefined){return}var r=t._state;if(r==="erroring"){he(t);return}if(e._queue.length===0){return}var n=Z(e);if(n==="close"){Ge(e)}else{He(e,n.chunk)}}function ze(e,t){if(e._controlledWritableStream._state==="writable"){Ye(e,t)}}function Ge(e){var t=e._controlledWritableStream;be(t);K(e);var r=e._closeAlgorithm();Ne(e);r.then(function(){pe(t)},function(e){ge(t,e)}).catch(Q)}function He(e,t){var r=e._controlledWritableStream;_e(r);var n=e._writeAlgorithm(t);n.then(function(){de(r);var t=r._state;K(e);if(me(r)===false&&t==="writable"){var n=Xe(e);Se(r,n)}Be(e)},function(t){if(r._state==="writable"){Ne(e)}ve(r,t)}).catch(Q)}function Xe(e){var t=Ue(e);return t<=0}function Ye(e,t){var r=e._controlledWritableStream;Ne(e);fe(r,t)}function Ve(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Qe(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function Ke(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Je(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t;e._closedPromise_reject=r;e._closedPromiseState="pending"})}function Ze(e,t){Je(e);et(e,t)}function $e(e){Je(e);rt(e)}function et(e,t){e._closedPromise.catch(a);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function tt(e,t){Ze(e,t)}function rt(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function nt(e){e._readyPromise=new Promise(function(t,r){e._readyPromise_resolve=t;e._readyPromise_reject=r});e._readyPromiseState="pending"}function at(e,t){nt(e);ot(e,t)}function it(e){nt(e);lt(e)}function ot(e,t){e._readyPromise.catch(a);e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function st(e){nt(e)}function ut(e,t){at(e,t)}function lt(e){e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}function ct(e,t,r,n,i,o){var s=I(e);var u=ne(t);var l=false;var c=Promise.resolve();return new Promise(function(f,h){var d;if(o!==undefined){d=function(){var r=new DOMException("Aborted","AbortError");var a=[];if(n===false){a.push(function(){if(t._state==="writable"){return ue(t,r)}return Promise.resolve()})}if(i===false){a.push(function(){if(e._state==="readable"){return br(e,r)}return Promise.resolve()})}_(function(){return Promise.all(a.map(function(e){return e()}))},true,r)};if(o.aborted===true){d();return}o.addEventListener("abort",d)}function v(){return new Promise(function(e,t){function r(n){if(n){e()}else{p().then(r,t)}}r(false)})}function p(){if(l===true){return Promise.resolve(true)}return u._readyPromise.then(function(){return W(s).then(function(e){var t=e.value,r=e.done;if(r===true){return true}c=Le(u,t).catch(a);return false})})}y(e,s._closedPromise,function(e){if(n===false){_(function(){return ue(t,e)},true,e)}else{A(true,e)}});y(t,u._closedPromise,function(t){if(i===false){_(function(){return br(e,t)},true,t)}else{A(true,t)}});b(e,s._closedPromise,function(){if(r===false){_(function(){return Pe(u)})}else{A()}});if(me(t)===true||t._state==="closed"){var g=new TypeError("the destination writable stream closed before all data could be piped to it");if(i===false){_(function(){return br(e,g)},true,g)}else{A(true,g)}}v().catch(Q);function m(){var e=c;return c.then(function(){return e!==c?m():undefined})}function y(e,t,r){if(e._state==="errored"){r(e._storedError)}else{t.catch(r).catch(Q)}}function b(e,t,r){if(e._state==="closed"){r()}else{t.then(r).catch(Q)}}function _(e,r,n){if(l===true){return}l=true;if(t._state==="writable"&&me(t)===false){m().then(a)}else{a()}function a(){e().then(function(){return S(r,n)},function(e){return S(true,e)}).catch(Q)}}function A(e,r){if(l===true){return}l=true;if(t._state==="writable"&&me(t)===false){m().then(function(){return S(e,r)}).catch(Q)}else{S(e,r)}}function S(e,t){Oe(u);k(s);if(o!==undefined){o.removeEventListener("abort",d)}if(e){h(t)}else{f(undefined)}}})}var ft=function(){function e(){throw new TypeError}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(ht(this)===false){throw kt("desiredSize")}return bt(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(ht(this)===false){throw kt("close")}if(At(this)===false){throw new TypeError("The stream is not in a state that permits close")}gt(this)};e.prototype.enqueue=function(e){if(ht(this)===false){throw kt("enqueue")}if(At(this)===false){throw new TypeError("The stream is not in a state that permits enqueue")}return mt(this,e)};e.prototype.error=function(e){if(ht(this)===false){throw kt("error")}yt(this,e)};e.prototype[L]=function(e){$(this);var t=this._cancelAlgorithm(e);pt(this);return t};e.prototype[F]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=K(this);if(this._closeRequested===true&&this._queue.length===0){pt(this);_r(e)}else{dt(this)}return Promise.resolve(A(t,false,e._reader._forAuthorCode))}var r=j(e);dt(this);return r};return e}();function ht(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return true}function dt(e){var t=vt(e);if(t===false){return}if(e._pulling===true){e._pullAgain=true;return}e._pulling=true;var r=e._pullAlgorithm();r.then(function(){e._pulling=false;if(e._pullAgain===true){e._pullAgain=false;dt(e)}},function(t){yt(e,t)}).catch(Q)}function vt(e){var t=e._controlledReadableStream;if(At(e)===false){return false}if(e._started===false){return false}if(yr(t)===true&&N(t)>0){return true}var r=bt(e);if(r>0){return true}return false}function pt(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function gt(e){var t=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){pt(e);_r(t)}}function mt(e,t){var r=e._controlledReadableStream;if(yr(r)===true&&N(r)>0){M(r,t,false)}else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){yt(e,t);throw t}try{J(e,t,n)}catch(t){yt(e,t);throw t}}dt(e)}function yt(e,t){var r=e._controlledReadableStream;if(r._state!=="readable"){return}$(e);pt(e);Ar(r,t)}function bt(e){var t=e._controlledReadableStream;var r=t._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function _t(e){if(vt(e)===true){return false}return true}function At(e){var t=e._controlledReadableStream._state;if(e._closeRequested===false&&t==="readable"){return true}return false}function St(e,t,r,n,a,i,o){t._controlledReadableStream=e;t._queue=undefined;t._queueTotalSize=undefined;$(t);t._started=false;t._closeRequested=false;t._pullAgain=false;t._pulling=false;t._strategySizeAlgorithm=o;t._strategyHWM=i;t._pullAlgorithm=n;t._cancelAlgorithm=a;e._readableStreamController=t;var s=r();Promise.resolve(s).then(function(){t._started=true;dt(t)},function(e){yt(t,e)}).catch(Q)}function wt(e,t,r,n){var a=Object.create(ft.prototype);function i(){return d(t,"start",[a])}var o=h(t,"pull",0,[a]);var s=h(t,"cancel",1,[]);St(e,a,i,o,s,r,n)}function kt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function xt(e,t){var r=I(e);var n=false;var a=false;var i=false;var o;var u;var l;var c;var f;var h=new Promise(function(e){f=e});function d(){if(n===true){return Promise.resolve()}n=true;var e=W(r).then(function(e){n=false;var t=e.done;if(t===true){if(a===false){gt(l._readableStreamController)}if(i===false){gt(c._readableStreamController)}return}var r=e.value;var o=r;var s=r;if(a===false){mt(l._readableStreamController,o)}if(i===false){mt(c._readableStreamController,s)}});e.catch(Q);return Promise.resolve()}function v(t){a=true;o=t;if(i===true){var r=s([o,u]);var n=br(e,r);f(n)}return h}function p(t){i=true;u=t;if(a===true){var r=s([o,u]);var n=br(e,r);f(n)}return h}function g(){}l=pr(g,d,v);c=pr(g,d,p);r._closedPromise.catch(function(e){yt(l._readableStreamController,e);yt(c._readableStreamController,e)});return[l,c]}var Ct=Number.isInteger||function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e};var Pt=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}Object.defineProperty(e.prototype,"view",{get:function(){if(Tt(this)===false){throw nr("view")}return this._view},enumerable:true,configurable:true});e.prototype.respond=function(e){if(Tt(this)===false){throw nr("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(g(this._view.buffer)===true);Zt(this._associatedReadableByteStreamController,e)};e.prototype.respondWithNewView=function(e){if(Tt(this)===false){throw nr("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(g(e.buffer)===true);$t(this._associatedReadableByteStreamController,e)};return e}();var Rt=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(Et(this)===false){throw ar("byobRequest")}if(this._byobRequest===undefined&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();var t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);var r=Object.create(Pt.prototype);rr(r,this,t);this._byobRequest=r}return this._byobRequest},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Et(this)===false){throw ar("desiredSize")}return Jt(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(Et(this)===false){throw ar("close")}if(this._closeRequested===true){throw new TypeError("The stream has already been closed; do not close it again!")}var e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed")}Vt(this)};e.prototype.enqueue=function(e){if(Et(this)===false){throw ar("enqueue")}if(this._closeRequested===true){throw new TypeError("stream is closed or draining")}var t=this._controlledReadableByteStream._state;if(t!=="readable"){throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to")}if(!ArrayBuffer.isView(e)){throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController")}if(g(e.buffer)===true);Qt(this,e)};e.prototype.error=function(e){if(Et(this)===false){throw ar("error")}Kt(this,e)};e.prototype[L]=function(e){if(this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek();t.bytesFilled=0}$(this);var r=this._cancelAlgorithm(e);Yt(this);return r};e.prototype[F]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength;Dt(this);var r=void 0;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(A(r,false,e._reader._forAuthorCode))}var n=this._autoAllocateChunkSize;if(n!==undefined){var a=void 0;try{a=new ArrayBuffer(n)}catch(e){return Promise.reject(e)}var i={buffer:a,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}var o=j(e);Ot(this);return o};return e}();function Et(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return true}function Tt(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return true}function Ot(e){var t=Xt(e);if(t===false){return}if(e._pulling===true){e._pullAgain=true;return}e._pulling=true;var r=e._pullAlgorithm();r.then(function(){e._pulling=false;if(e._pullAgain===true){e._pullAgain=false;Ot(e)}},function(t){Kt(e,t)}).catch(Q)}function Lt(e){qt(e);e._pendingPullIntos=new _}function Ft(e,t){var r=false;if(e._state==="closed"){r=true}var n=It(t);if(t.readerType==="default"){M(e,n,r)}else{sr(e,n,r)}}function It(e){var t=e.bytesFilled;var r=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/r)}function jt(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n});e._queueTotalSize+=n}function Mt(e,t){var r=t.elementSize;var n=t.bytesFilled-t.bytesFilled%r;var a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);var i=t.bytesFilled+a;var o=i-i%r;var s=a;var l=false;if(o>n){s=o-t.bytesFilled;l=true}var c=e._queue;while(s>0){var f=c.peek();var h=Math.min(s,f.byteLength);var d=t.byteOffset+t.bytesFilled;u(t.buffer,d,f.buffer,f.byteOffset,h);if(f.byteLength===h){c.shift()}else{f.byteOffset+=h;f.byteLength-=h}e._queueTotalSize-=h;Nt(e,h,t);s-=h}return l}function Nt(e,t,r){qt(e);r.bytesFilled+=t}function Dt(e){if(e._queueTotalSize===0&&e._closeRequested===true){Yt(e);_r(e._controlledReadableByteStream)}else{Ot(e)}}function qt(e){if(e._byobRequest===undefined){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=undefined;e._byobRequest=undefined}function Ut(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}var t=e._pendingPullIntos.peek();if(Mt(e,t)===true){Ht(e);Ft(e._controlledReadableByteStream,t)}}}function Wt(e,t){var r=e._controlledReadableByteStream;var n=1;if(t.constructor!==DataView){n=t.constructor.BYTES_PER_ELEMENT}var a=t.constructor;var i=p(t.buffer);var o={buffer:i,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(o);return or(r)}if(r._state==="closed"){var s=new a(o.buffer,o.byteOffset,0);return Promise.resolve(A(s,true,r._reader._forAuthorCode))}if(e._queueTotalSize>0){if(Mt(e,o)===true){var u=It(o);Dt(e);return Promise.resolve(A(u,false,r._reader._forAuthorCode))}if(e._closeRequested===true){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");Kt(e,l);return Promise.reject(l)}}e._pendingPullIntos.push(o);var c=or(r);Ot(e);return c}function Bt(e,t){t.buffer=p(t.buffer);var r=e._controlledReadableByteStream;if(lr(r)===true){while(ur(r)>0){var n=Ht(e);Ft(r,n)}}}function zt(e,t,r){if(r.bytesFilled+t>r.byteLength){throw new RangeError("bytesWritten out of range")}Nt(e,t,r);if(r.bytesFilled<r.elementSize){return}Ht(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled;var i=r.buffer.slice(a-n,a);jt(e,i,0,i.byteLength)}r.buffer=p(r.buffer);r.bytesFilled-=n;Ft(e._controlledReadableByteStream,r);Ut(e)}function Gt(e,t){var r=e._pendingPullIntos.peek();var n=e._controlledReadableByteStream;if(n._state==="closed"){if(t!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}Bt(e,r)}else{zt(e,t,r)}Ot(e)}function Ht(e){var t=e._pendingPullIntos.shift();qt(e);return t}function Xt(e){var t=e._controlledReadableByteStream;if(t._state!=="readable"){return false}if(e._closeRequested===true){return false}if(e._started===false){return false}if(D(t)===true&&N(t)>0){return true}if(lr(t)===true&&ur(t)>0){return true}var r=Jt(e);if(r>0){return true}return false}function Yt(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function Vt(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");Kt(e,n);throw n}}Yt(e);_r(t)}function Qt(e,t){var r=e._controlledReadableByteStream;var n=t.buffer;var a=t.byteOffset;var i=t.byteLength;var o=p(n);if(D(r)===true){if(N(r)===0){jt(e,o,a,i)}else{var s=new Uint8Array(o,a,i);M(r,s,false)}}else if(lr(r)===true){jt(e,o,a,i);Ut(e)}else{jt(e,o,a,i)}Ot(e)}function Kt(e,t){var r=e._controlledReadableByteStream;if(r._state!=="readable"){return}Lt(e);$(e);Yt(e);Ar(r,t)}function Jt(e){var t=e._controlledReadableByteStream;var r=t._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function Zt(e,t){t=Number(t);if(l(t)===false){throw new RangeError("bytesWritten must be a finite")}Gt(e,t)}function $t(e,t){var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(r.byteLength!==t.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}r.buffer=t.buffer;Gt(e,t.byteLength)}function er(e,t,r,n,a,i,o){t._controlledReadableByteStream=e;t._pullAgain=false;t._pulling=false;t._byobRequest=undefined;t._queue=t._queueTotalSize=undefined;$(t);t._closeRequested=false;t._started=false;t._strategyHWM=m(i);t._pullAlgorithm=n;t._cancelAlgorithm=a;t._autoAllocateChunkSize=o;t._pendingPullIntos=new _;e._readableStreamController=t;var s=r();Promise.resolve(s).then(function(){t._started=true;Ot(t)},function(e){Kt(t,e)}).catch(Q)}function tr(e,t,r){var n=Object.create(Rt.prototype);function a(){return d(t,"start",[n])}var i=h(t,"pull",0,[n]);var o=h(t,"cancel",1,[]);var s=t.autoAllocateChunkSize;if(s!==undefined){s=Number(s);if(Ct(s)===false||s<=0){throw new RangeError("autoAllocateChunkSize must be a positive integer")}}er(e,n,a,i,o,r,s)}function rr(e,t,r){e._associatedReadableByteStreamController=t;e._view=r}function nr(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function ar(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function ir(e,t){if(t===void 0){t=false}var r=new cr(e);r._forAuthorCode=t;return r}function or(e){var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)});return t}function sr(e,t,r){var n=e._reader;var a=n._readIntoRequests.shift();a._resolve(A(t,r,n._forAuthorCode))}function ur(e){return e._reader._readIntoRequests.length}function lr(e){var t=e._reader;if(t===undefined){return false}if(!fr(t)){return false}return true}var cr=function(){function e(e){if(!mr(e)){throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a "+"byte source")}if(Et(e._readableStreamController)===false){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}if(yr(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}S(this,e);this._readIntoRequests=new _}Object.defineProperty(e.prototype,"closed",{get:function(){if(!fr(this)){return Promise.reject(dr("closed"))}return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!fr(this)){return Promise.reject(dr("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("cancel"))}return w(this,e)};e.prototype.read=function(e){if(!fr(this)){return Promise.reject(dr("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("read from"))}if(!ArrayBuffer.isView(e)){return Promise.reject(new TypeError("view must be an array buffer view"))}if(g(e.buffer)===true);if(e.byteLength===0){return Promise.reject(new TypeError("view must have non-zero byteLength"))}return hr(this,e)};e.prototype.releaseLock=function(){if(!fr(this)){throw dr("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}k(this)};return e}();function fr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return true}function hr(e,t){var r=e._ownerReadableStream;r._disturbed=true;if(r._state==="errored"){return Promise.reject(r._storedError)}return Wt(r._readableStreamController,t)}function dr(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var vr=function(){function e(e,t){if(e===void 0){e={}}if(t===void 0){t={}}gr(this);var r=t.size;var n=t.highWaterMark;var a=e.type;var i=String(a);if(i==="bytes"){if(r!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}if(n===undefined){n=0}n=m(n);tr(this,e,n)}else if(a===undefined){var o=y(r);if(n===undefined){n=1}n=m(n);wt(this,e,n,o)}else{throw new RangeError("Invalid type is specified")}}Object.defineProperty(e.prototype,"locked",{get:function(){if(mr(this)===false){throw wr("locked")}return yr(this)},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(mr(this)===false){return Promise.reject(wr("cancel"))}if(yr(this)===true){return Promise.reject(new TypeError("Cannot cancel a stream that already has a reader"))}return br(this,e)};e.prototype.getReader=function(e){var t=(e===void 0?{}:e).mode;if(mr(this)===false){throw wr("getReader")}if(t===undefined){return I(this,true)}t=String(t);if(t==="byob"){return ir(this,true)}throw new RangeError("Invalid mode is specified")};e.prototype.pipeThrough=function(e,t){var r=e.writable,n=e.readable;var i=t===void 0?{}:t,o=i.preventClose,s=i.preventAbort,u=i.preventCancel,l=i.signal;if(mr(this)===false){throw wr("pipeThrough")}if(oe(r)===false){throw new TypeError("writable argument to pipeThrough must be a WritableStream")}if(mr(n)===false){throw new TypeError("readable argument to pipeThrough must be a ReadableStream")}o=Boolean(o);s=Boolean(s);u=Boolean(u);if(l!==undefined&&!Sr(l)){throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal")}if(yr(this)===true){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(se(r)===true){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}var c=ct(this,r,o,s,u,l);c.catch(a);return n};e.prototype.pipeTo=function(e,t){var r=t===void 0?{}:t,n=r.preventClose,a=r.preventAbort,i=r.preventCancel,o=r.signal;if(mr(this)===false){return Promise.reject(wr("pipeTo"))}if(oe(e)===false){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"))}n=Boolean(n);a=Boolean(a);i=Boolean(i);if(o!==undefined&&!Sr(o)){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal"))}if(yr(this)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(se(e)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return ct(this,e,n,a,i,o)};e.prototype.tee=function(){if(mr(this)===false){throw wr("tee")}var e=xt(this);return s(e)};e.prototype.getIterator=function(e){var t=(e===void 0?{}:e).preventCancel,r=t===void 0?false:t;if(mr(this)===false){throw wr("getIterator")}return X(this,r)};return e}();if(typeof n.asyncIterator==="symbol"){Object.defineProperty(vr.prototype,n.asyncIterator,{value:vr.prototype.getIterator,enumerable:false,writable:true,configurable:true})}function pr(e,t,r,n,a){if(n===void 0){n=1}if(a===void 0){a=function(){return 1}}var i=Object.create(vr.prototype);gr(i);var o=Object.create(ft.prototype);St(i,o,e,t,r,n,a);return i}function gr(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function mr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return true}function yr(e){if(e._reader===undefined){return false}return true}function br(e,t){e._disturbed=true;if(e._state==="closed"){return Promise.resolve(undefined)}if(e._state==="errored"){return Promise.reject(e._storedError)}_r(e);var r=e._readableStreamController[L](t);return r.then(function(){return undefined})}function _r(e){e._state="closed";var t=e._reader;if(t===undefined){return}if(U(t)){t._readRequests.forEach(function(e){e._resolve(A(undefined,true,t._forAuthorCode))});t._readRequests=new _}O(t)}function Ar(e,t){e._state="errored";e._storedError=t;var r=e._reader;if(r===undefined){return}if(U(r)){r._readRequests.forEach(function(e){e._reject(t)});r._readRequests=new _}else{r._readIntoRequests.forEach(function(e){e._reject(t)});r._readIntoRequests=new _}E(r,t)}function Sr(e){if(typeof e!=="object"||e===null){return false}var t=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{t.call(e);return true}catch(e){return false}}function wr(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}var kr=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}e.prototype.size=function(e){return e.byteLength};return e}();var xr=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}e.prototype.size=function(){return 1};return e}();var Cr=function(){function e(e,t,r){if(e===void 0){e={}}if(t===void 0){t={}}if(r===void 0){r={}}var n=t.size;var a=t.highWaterMark;var i=r.size;var o=r.highWaterMark;var s=e.writableType;if(s!==undefined){throw new RangeError("Invalid writable type specified")}var u=y(n);if(a===undefined){a=1}a=m(a);var l=e.readableType;if(l!==undefined){throw new RangeError("Invalid readable type specified")}var c=y(i);if(o===undefined){o=0}o=m(o);var f;var h=new Promise(function(e){f=e});Pr(this,h,a,u,o,c);jr(this,e);var v=d(e,"start",[this._transformStreamController]);f(v)}Object.defineProperty(e.prototype,"readable",{get:function(){if(Rr(this)===false){throw Xr("readable")}return this._readable},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"writable",{get:function(){if(Rr(this)===false){throw Xr("writable")}return this._writable},enumerable:true,configurable:true});return e}();function Pr(e,t,r,n,a,i){function o(){return t}function s(t){return Wr(e,t)}function u(t){return Br(e,t)}function l(){return zr(e)}e._writable=ae(o,s,l,u,r,n);function c(){return Gr(e)}function f(t){Tr(e,t);return Promise.resolve()}e._readable=pr(o,c,f,a,i);e._backpressure=undefined;e._backpressureChangePromise=undefined;e._backpressureChangePromise_resolve=undefined;Or(e,true);e._transformStreamController=undefined}function Rr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return true}function Er(e,t){yt(e._readable._readableStreamController,t);Tr(e,t)}function Tr(e,t){Mr(e._transformStreamController);ze(e._writable._writableStreamController,t);if(e._backpressure===true){Or(e,false)}}function Or(e,t){if(e._backpressureChangePromise!==undefined){e._backpressureChangePromise_resolve()}e._backpressureChangePromise=new Promise(function(t){e._backpressureChangePromise_resolve=t});e._backpressure=t}var Lr=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Fr(this)===false){throw Hr("desiredSize")}var e=this._controlledTransformStream._readable._readableStreamController;return bt(e)},enumerable:true,configurable:true});e.prototype.enqueue=function(e){if(Fr(this)===false){throw Hr("enqueue")}Nr(this,e)};e.prototype.error=function(e){if(Fr(this)===false){throw Hr("error")}Dr(this,e)};e.prototype.terminate=function(){if(Fr(this)===false){throw Hr("terminate")}Ur(this)};return e}();function Fr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return true}function Ir(e,t,r,n){t._controlledTransformStream=e;e._transformStreamController=t;t._transformAlgorithm=r;t._flushAlgorithm=n}function jr(e,t){var r=Object.create(Lr.prototype);var n=function(e){try{Nr(r,e);return Promise.resolve()}catch(e){return Promise.reject(e)}};var a=t.transform;if(a!==undefined){if(typeof a!=="function"){throw new TypeError("transform is not a method")}n=function(e){return v(a,t,[e,r])}}var i=h(t,"flush",0,[r]);Ir(e,r,n,i)}function Mr(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function Nr(e,t){var r=e._controlledTransformStream;var n=r._readable._readableStreamController;if(At(n)===false){throw new TypeError("Readable side is not in a state that permits enqueue")}try{mt(n,t)}catch(e){Tr(r,e);throw r._readable._storedError}var a=_t(n);if(a!==r._backpressure){Or(r,true)}}function Dr(e,t){Er(e._controlledTransformStream,t)}function qr(e,t){var r=e._transformAlgorithm(t);return r.catch(function(t){Er(e._controlledTransformStream,t);throw t})}function Ur(e){var t=e._controlledTransformStream;var r=t._readable._readableStreamController;if(At(r)===true){gt(r)}var n=new TypeError("TransformStream terminated");Tr(t,n)}function Wr(e,t){var r=e._transformStreamController;if(e._backpressure===true){var n=e._backpressureChangePromise;return n.then(function(){var n=e._writable;var a=n._state;if(a==="erroring"){throw n._storedError}return qr(r,t)})}return qr(r,t)}function Br(e,t){Er(e,t);return Promise.resolve()}function zr(e){var t=e._readable;var r=e._transformStreamController;var n=r._flushAlgorithm();Mr(r);return n.then(function(){if(t._state==="errored"){throw t._storedError}var e=t._readableStreamController;if(At(e)===true){gt(e)}}).catch(function(r){Er(e,r);throw t._storedError})}function Gr(e){Or(e,false);return e._backpressureChangePromise}function Hr(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function Xr(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getDocument=U;t.setPDFNetworkStreamFactory=q;t.build=t.version=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=void 0;var n=p(r(180));var a=r(1);var i=r(183);var o=r(184);var s=r(185);var u=r(186);var l=p(r(3));var c=r(188);var f=r(189);var h=r(190);var d=r(192);var v=r(193);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){g(i,n,a,o,s,"next",e)}function s(e){g(i,n,a,o,s,"throw",e)}o(undefined)})}}function y(e,t){return A(e)||_(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function A(e){if(Array.isArray(e))return e}function S(e){return x(e)||k(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function k(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function x(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function C(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function R(e,t,r){if(t)P(e.prototype,t);if(r)P(e,r);return e}function E(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){E=function e(t){return typeof t}}else{E=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return E(e)}var T=65536;var O=100;var L=false;var F;var I=null;{var j=false;if(typeof window==="undefined"){L=true;if(typeof require.ensure==="undefined"){require.ensure=require("node-ensure")}j=true}else if(typeof require!=="undefined"&&typeof require.ensure==="function"){j=true}if(typeof requirejs!=="undefined"&&requirejs.toUrl){F=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js")}var M=typeof requirejs!=="undefined"&&requirejs.load;I=j?function(){return new Promise(function(e,t){require.ensure([],function(){try{var r;r=require("./pdf.worker.js");e(r.WorkerMessageHandler)}catch(e){t(e)}},t,"pdfjsWorker")})}:M?function(){return new Promise(function(e,t){requirejs(["pdfjs-dist/build/pdf.worker"],function(r){try{e(r.WorkerMessageHandler)}catch(e){t(e)}},t)})}:null;if(!F&&(typeof document==="undefined"?"undefined":E(document))==="object"&&"currentScript"in document){var N=document.currentScript&&document.currentScript.src;if(N){F=N.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2")}}}var D;function q(e){D=e}function U(e){var t=new B;var r;if(typeof e==="string"){r={url:e}}else if((0,a.isArrayBuffer)(e)){r={data:e}}else if(e instanceof z){r={range:e}}else{if(E(e)!=="object"){throw new Error("Invalid parameter in getDocument, "+"need either Uint8Array, string or a parameter object")}if(!e.url&&!e.data&&!e.range){throw new Error("Invalid parameter object: need either .data, .range or .url")}r=e}var n=Object.create(null);var o=null,u=null;for(var l in r){if(l==="url"&&typeof window!=="undefined"){n[l]=new URL(r[l],window.location).href;continue}else if(l==="range"){o=r[l];continue}else if(l==="worker"){u=r[l];continue}else if(l==="data"&&!(r[l]instanceof Uint8Array)){var h=r[l];if(typeof h==="string"){n[l]=(0,a.stringToBytes)(h)}else if(E(h)==="object"&&h!==null&&!isNaN(h.length)){n[l]=new Uint8Array(h)}else if((0,a.isArrayBuffer)(h)){n[l]=new Uint8Array(h)}else{throw new Error("Invalid PDF binary data: either typed array, "+"string or array-like object is expected in the "+"data property.")}continue}n[l]=r[l]}n.rangeChunkSize=n.rangeChunkSize||T;n.CMapReaderFactory=n.CMapReaderFactory||i.DOMCMapReaderFactory;n.ignoreErrors=n.stopAtErrors!==true;n.pdfBug=n.pdfBug===true;var v=Object.values(a.NativeImageDecoding);if(n.nativeImageDecoderSupport===undefined||!v.includes(n.nativeImageDecoderSupport)){n.nativeImageDecoderSupport=s.apiCompatibilityParams.nativeImageDecoderSupport||a.NativeImageDecoding.DECODE}if(!Number.isInteger(n.maxImageSize)){n.maxImageSize=-1}if(typeof n.isEvalSupported!=="boolean"){n.isEvalSupported=true}if(typeof n.disableFontFace!=="boolean"){n.disableFontFace=s.apiCompatibilityParams.disableFontFace||false}if(typeof n.disableRange!=="boolean"){n.disableRange=false}if(typeof n.disableStream!=="boolean"){n.disableStream=false}if(typeof n.disableAutoFetch!=="boolean"){n.disableAutoFetch=false}if(typeof n.disableCreateObjectURL!=="boolean"){n.disableCreateObjectURL=s.apiCompatibilityParams.disableCreateObjectURL||false}(0,a.setVerbosityLevel)(n.verbosity);if(!u){var p={verbosity:n.verbosity,port:c.GlobalWorkerOptions.workerPort};u=p.port?Y.fromPort(p):new Y(p);t._worker=u}var g=t.docId;u.promise.then(function(){if(t.destroyed){throw new Error("Loading aborted")}return W(u,n,o,g).then(function(e){if(t.destroyed){throw new Error("Loading aborted")}var r;if(o){r=new d.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,disableRange:n.disableRange,disableStream:n.disableStream},o)}else if(!n.data){r=D({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})}var a=new f.MessageHandler(g,e,u.port);a.postMessageTransfers=u.postMessageTransfers;var i=new V(a,t,r,n);t._transport=i;a.send("Ready",null)})})["catch"](t._capability.reject);return t}function W(e,t,r,n){if(e.destroyed){return Promise.reject(new Error("Worker was destroyed"))}if(r){t.length=r.length;t.initialData=r.initialData;t.progressiveDone=r.progressiveDone}return e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.3.200",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,disableCreateObjectURL:t.disableCreateObjectURL,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported}).then(function(t){if(e.destroyed){throw new Error("Worker was destroyed")}return t})}var B=function e(){var t=0;var r=function(){function e(){C(this,e);this._capability=(0,a.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d"+t++;this.destroyed=false;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}R(e,[{key:"destroy",value:function e(){var t=this;this.destroyed=true;var r=!this._transport?Promise.resolve():this._transport.destroy();return r.then(function(){t._transport=null;if(t._worker){t._worker.destroy();t._worker=null}})}},{key:"then",value:function e(t,r){(0,i.deprecated)("PDFDocumentLoadingTask.then method, "+"use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function e(){return this._capability.promise}}]);return e}();return r}();var z=function(){function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;C(this,e);this.length=t;this.initialData=r;this.progressiveDone=n;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=(0,a.createPromiseCapability)()}R(e,[{key:"addRangeListener",value:function e(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function e(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function e(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function e(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function e(t,r){var n=true;var a=false;var i=undefined;try{for(var o=this._rangeListeners[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){var u=s.value;u(t,r)}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"onDataProgress",value:function e(t,r){var n=this;this._readyCapability.promise.then(function(){var e=true;var a=false;var i=undefined;try{for(var o=n._progressListeners[Symbol.iterator](),s;!(e=(s=o.next()).done);e=true){var u=s.value;u(t,r)}}catch(e){a=true;i=e}finally{try{if(!e&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}})}},{key:"onDataProgressiveRead",value:function e(t){var r=this;this._readyCapability.promise.then(function(){var e=true;var n=false;var a=undefined;try{for(var i=r._progressiveReadListeners[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var s=o.value;s(t)}}catch(e){n=true;a=e}finally{try{if(!e&&i["return"]!=null){i["return"]()}}finally{if(n){throw a}}}})}},{key:"onDataProgressiveDone",value:function e(){var t=this;this._readyCapability.promise.then(function(){var e=true;var r=false;var n=undefined;try{for(var a=t._progressiveDoneListeners[Symbol.iterator](),i;!(e=(i=a.next()).done);e=true){var o=i.value;o()}}catch(e){r=true;n=e}finally{try{if(!e&&a["return"]!=null){a["return"]()}}finally{if(r){throw n}}}})}},{key:"transportReady",value:function e(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function e(t,r){(0,a.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function e(){}}]);return e}();t.PDFDataRangeTransport=z;var G=function(){function e(t,r){C(this,e);this._pdfInfo=t;this._transport=r}R(e,[{key:"getPage",value:function e(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function e(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function e(){return this._transport.getDestinations()}},{key:"getDestination",value:function e(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function e(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function e(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function e(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function e(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function e(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function e(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function e(){return this._transport.getJavaScript()}},{key:"getOutline",value:function e(){return this._transport.getOutline()}},{key:"getPermissions",value:function e(){return this._transport.getPermissions()}},{key:"getMetadata",value:function e(){return this._transport.getMetadata()}},{key:"getData",value:function e(){return this._transport.getData()}},{key:"getDownloadInfo",value:function e(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function e(){return this._transport.getStats()}},{key:"cleanup",value:function e(){this._transport.startCleanup()}},{key:"destroy",value:function e(){return this.loadingTask.destroy()}},{key:"numPages",get:function e(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function e(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function e(){return this._transport.loadingParams}},{key:"loadingTask",get:function e(){return this._transport.loadingTask}}]);return e}();t.PDFDocumentProxy=G;var H=function(){function e(t,r,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;C(this,e);this.pageIndex=t;this._pageInfo=r;this._transport=n;this._stats=a?new i.StatTimer:i.DummyStatTimer;this._pdfBug=a;this.commonObjs=n.commonObjs;this.objs=new Q;this.cleanupAfterRender=false;this.pendingCleanup=false;this.intentStates=Object.create(null);this.destroyed=false}R(e,[{key:"getViewport",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.scale,n=t.rotation,a=n===void 0?this.rotate:n,o=t.dontFlip,s=o===void 0?false:o;if(arguments.length>1||typeof arguments[0]==="number"){(0,i.deprecated)("getViewport is called with obsolete arguments.");r=arguments[0];a=typeof arguments[1]==="number"?arguments[1]:this.rotate;s=typeof arguments[2]==="boolean"?arguments[2]:false}return new i.PageViewport({viewBox:this.view,scale:r,rotation:a,dontFlip:s})}},{key:"getAnnotations",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.intent,n=r===void 0?null:r;if(!this.annotationsPromise||this.annotationsIntent!==n){this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,n);this.annotationsIntent=n}return this.annotationsPromise}},{key:"render",value:function e(t){var r=this;var n=t.canvasContext,o=t.viewport,s=t.intent,u=s===void 0?"display":s,l=t.enableWebGL,c=l===void 0?false:l,f=t.renderInteractiveForms,h=f===void 0?false:f,d=t.transform,p=d===void 0?null:d,g=t.imageLayer,m=g===void 0?null:g,y=t.canvasFactory,b=y===void 0?null:y,_=t.background,A=_===void 0?null:_;var S=this._stats;S.time("Overall");var w=u==="print"?"print":"display";this.pendingCleanup=false;if(!this.intentStates[w]){this.intentStates[w]=Object.create(null)}var k=this.intentStates[w];if(k.streamReaderCancelTimeout){clearTimeout(k.streamReaderCancelTimeout);k.streamReaderCancelTimeout=null}var x=b||new i.DOMCanvasFactory;var C=new v.WebGLContext({enable:c});if(!k.displayReadyCapability){k.displayReadyCapability=(0,a.createPromiseCapability)();k.operatorList={fnArray:[],argsArray:[],lastChunk:false};S.time("Page Request");this._pumpOperatorList({pageIndex:this.pageNumber-1,intent:w,renderInteractiveForms:h===true})}var P=function e(t){var n=k.renderTasks.indexOf(R);if(n>=0){k.renderTasks.splice(n,1)}if(r.cleanupAfterRender||w==="print"){r.pendingCleanup=true}r._tryCleanup();if(t){R.capability.reject(t);r._abortOperatorList({intentState:k,reason:t})}else{R.capability.resolve()}S.timeEnd("Rendering");S.timeEnd("Overall")};var R=new J({callback:P,params:{canvasContext:n,viewport:o,transform:p,imageLayer:m,background:A},objs:this.objs,commonObjs:this.commonObjs,operatorList:k.operatorList,pageNumber:this.pageNumber,canvasFactory:x,webGLContext:C,useRequestAnimationFrame:w!=="print",pdfBug:this._pdfBug});if(!k.renderTasks){k.renderTasks=[]}k.renderTasks.push(R);var E=R.task;k.displayReadyCapability.promise.then(function(e){if(r.pendingCleanup){P();return}S.time("Rendering");R.initializeGraphics(e);R.operatorListChanged()})["catch"](P);return E}},{key:"getOperatorList",value:function e(){function t(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var e=n.renderTasks.indexOf(i);if(e>=0){n.renderTasks.splice(e,1)}}}var r="oplist";if(!this.intentStates[r]){this.intentStates[r]=Object.create(null)}var n=this.intentStates[r];var i;if(!n.opListReadCapability){i={};i.operatorListChanged=t;n.opListReadCapability=(0,a.createPromiseCapability)();n.renderTasks=[];n.renderTasks.push(i);n.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this.pageIndex,intent:r})}return n.opListReadCapability.promise}},{key:"streamTextContent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.normalizeWhitespace,n=r===void 0?false:r,a=t.disableCombineTextItems,i=a===void 0?false:a;var o=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:n===true,combineTextItems:i!==true},{highWaterMark:o,size:function e(t){return t.items.length}})}},{key:"getTextContent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.streamTextContent(t);return new Promise(function(e,t){function n(){a.read().then(function(t){var r;var a=t.value,o=t.done;if(o){e(i);return}Object.assign(i.styles,a.styles);(r=i.items).push.apply(r,S(a.items));n()},t)}var a=r.getReader();var i={items:[],styles:Object.create(null)};n()})}},{key:"_destroy",value:function e(){var t=this;this.destroyed=true;this._transport.pageCache[this.pageIndex]=null;var r=[];Object.keys(this.intentStates).forEach(function(e){var n=t.intentStates[e];t._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:true});if(e==="oplist"){return}n.renderTasks.forEach(function(e){var t=e.capability.promise["catch"](function(){});r.push(t);e.cancel()})});this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(r)}},{key:"cleanup",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(t)}},{key:"_tryCleanup",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.pendingCleanup||Object.keys(this.intentStates).some(function(e){var r=t.intentStates[e];return r.renderTasks.length!==0||!r.operatorList.lastChunk})){return}Object.keys(this.intentStates).forEach(function(e){delete t.intentStates[e]});this.objs.clear();this.annotationsPromise=null;if(r&&this._stats instanceof i.StatTimer){this._stats=new i.StatTimer}this.pendingCleanup=false}},{key:"_startRenderPage",value:function e(t,r){var n=this.intentStates[r];if(!n){return}this._stats.timeEnd("Page Request");if(n.displayReadyCapability){n.displayReadyCapability.resolve(t)}}},{key:"_renderPageChunk",value:function e(t,r){for(var n=0,a=t.length;n<a;n++){r.operatorList.fnArray.push(t.fnArray[n]);r.operatorList.argsArray.push(t.argsArray[n])}r.operatorList.lastChunk=t.lastChunk;for(var i=0;i<r.renderTasks.length;i++){r.renderTasks[i].operatorListChanged()}if(t.lastChunk){this._tryCleanup()}}},{key:"_pumpOperatorList",value:function e(t){var r=this;(0,a.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",t);var i=n.getReader();var o=this.intentStates[t.intent];o.streamReader=i;var s=function e(){i.read().then(function(t){var n=t.value,a=t.done;if(a){o.streamReader=null;return}if(r._transport.destroyed){return}r._renderPageChunk(n,o);e()},function(e){o.streamReader=null;if(r._transport.destroyed){return}if(o.operatorList){o.operatorList.lastChunk=true;for(var t=0;t<o.renderTasks.length;t++){o.renderTasks[t].operatorListChanged()}r._tryCleanup()}if(o.displayReadyCapability){o.displayReadyCapability.reject(e)}else if(o.opListReadCapability){o.opListReadCapability.reject(e)}else{throw e}})};s()}},{key:"_abortOperatorList",value:function e(t){var r=this;var n=t.intentState,o=t.reason,s=t.force,u=s===void 0?false:s;(0,a.assert)(o instanceof Error,'PDFPageProxy._abortOperatorList: Expected "reason" argument.');if(!n.streamReader){return}if(!u){if(n.renderTasks.length!==0){return}if(o instanceof i.RenderingCancelledException){n.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:n,reason:o,force:true});n.streamReaderCancelTimeout=null},O);return}}n.streamReader.cancel(new a.AbortException(o&&o.message));n.streamReader=null;if(this._transport.destroyed){return}Object.keys(this.intentStates).some(function(e){if(r.intentStates[e]===n){delete r.intentStates[e];return true}return false});this.cleanup()}},{key:"pageNumber",get:function e(){return this.pageIndex+1}},{key:"rotate",get:function e(){return this._pageInfo.rotate}},{key:"ref",get:function e(){return this._pageInfo.ref}},{key:"userUnit",get:function e(){return this._pageInfo.userUnit}},{key:"view",get:function e(){return this._pageInfo.view}},{key:"stats",get:function e(){return this._stats instanceof i.StatTimer?this._stats:null}}]);return e}();t.PDFPageProxy=H;var X=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;C(this,e);this._listeners=[];this._defer=t;this._deferred=Promise.resolve(undefined)}R(e,[{key:"postMessage",value:function e(t,r){var n=this;function i(e){if(E(e)!=="object"||e===null){return e}if(o.has(e)){return o.get(e)}var t,n;if((t=e.buffer)&&(0,a.isArrayBuffer)(t)){var s=r&&r.includes(t);if(e===t){n=e}else if(s){n=new e.constructor(t,e.byteOffset,e.byteLength)}else{n=new e.constructor(e)}o.set(e,n);return n}n=Array.isArray(e)?[]:{};o.set(e,n);for(var u in e){var l=void 0,c=e;while(!(l=Object.getOwnPropertyDescriptor(c,u))){c=Object.getPrototypeOf(c)}if(typeof l.value==="undefined"){continue}if(typeof l.value==="function"){if(e.hasOwnProperty&&e.hasOwnProperty(u)){throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(e[u]))}continue}n[u]=i(l.value)}return n}if(!this._defer){this._listeners.forEach(function(e){e.call(n,{data:t})});return}var o=new WeakMap;var s={data:i(t)};this._deferred.then(function(){n._listeners.forEach(function(e){e.call(n,s)})})}},{key:"addEventListener",value:function e(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function e(t,r){var n=this._listeners.indexOf(r);this._listeners.splice(n,1)}},{key:"terminate",value:function e(){this._listeners.length=0}}]);return e}();t.LoopbackPort=X;var Y=function e(){var t=new WeakMap;var r=0;var n;function o(){if(c.GlobalWorkerOptions.workerSrc){return c.GlobalWorkerOptions.workerSrc}if(typeof F!=="undefined"){return F}throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function s(){try{if(typeof window!=="undefined"){return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}}catch(e){}return null}function u(){if(n){return n.promise}n=(0,a.createPromiseCapability)();var e=s();if(e){n.resolve(e);return n.promise}var t=I||function(){return(0,i.loadScript)(o()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})};t().then(n.resolve,n.reject);return n.promise}function l(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var h=function(){function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=r.name,i=n===void 0?null:n,o=r.port,s=o===void 0?null:o,u=r.verbosity,l=u===void 0?(0,a.getVerbosityLevel)():u;C(this,e);if(s&&t.has(s)){throw new Error("Cannot use more than one PDFWorker per port")}this.name=i;this.destroyed=false;this.postMessageTransfers=true;this.verbosity=l;this._readyCapability=(0,a.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(s){t.set(s,this);this._initializeFromPort(s);return}this._initialize()}R(e,[{key:"_initializeFromPort",value:function e(t){this._port=t;this._messageHandler=new f.MessageHandler("main","worker",t);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function e(){var t=this;if(typeof Worker!=="undefined"&&!L&&!s()){var r=o();try{if(!(0,a.isSameOrigin)(window.location.href,r)){r=l(new URL(r,window.location).href)}var n=new Worker(r);var i=new f.MessageHandler("main","worker",n);var u=function e(){n.removeEventListener("error",c);i.destroy();n.terminate();if(t.destroyed){t._readyCapability.reject(new Error("Worker was destroyed"))}else{t._setupFakeWorker()}};var c=function e(){if(!t._webWorker){u()}};n.addEventListener("error",c);i.on("test",function(e){n.removeEventListener("error",c);if(t.destroyed){u();return}if(e){t._messageHandler=i;t._port=n;t._webWorker=n;if(!e.supportTransfers){t.postMessageTransfers=false}t._readyCapability.resolve();i.send("configure",{verbosity:t.verbosity})}else{t._setupFakeWorker();i.destroy();n.terminate()}});i.on("ready",function(e){n.removeEventListener("error",c);if(t.destroyed){u();return}try{h()}catch(e){t._setupFakeWorker()}});var h=function e(){var r=new Uint8Array([t.postMessageTransfers?255:0]);try{i.send("test",r,[r.buffer])}catch(e){(0,a.warn)("Cannot use postMessage transfers.");r[0]=0;i.send("test",r)}};h();return}catch(e){(0,a.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function e(){var t=this;if(!L){(0,a.warn)("Setting up fake worker.");L=true}u().then(function(e){if(t.destroyed){t._readyCapability.reject(new Error("Worker was destroyed"));return}var n=new X;t._port=n;var a="fake"+r++;var i=new f.MessageHandler(a+"_worker",a,n);e.setup(i,n);var o=new f.MessageHandler(a,a+"_worker",n);t._messageHandler=o;t._readyCapability.resolve()})["catch"](function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function e(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}t["delete"](this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}},{key:"promise",get:function e(){return this._readyCapability.promise}},{key:"port",get:function e(){return this._port}},{key:"messageHandler",get:function e(){return this._messageHandler}}],[{key:"fromPort",value:function r(n){if(!n||!n.port){throw new Error("PDFWorker.fromPort - invalid method signature.")}if(t.has(n.port)){return t.get(n.port)}return new e(n)}},{key:"getWorkerSrc",value:function e(){return o()}}]);return e}();return h}();t.PDFWorker=Y;var V=function(){function e(t,r,n,i){C(this,e);this.messageHandler=t;this.loadingTask=r;this.commonObjs=new Q;this.fontLoader=new o.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)});this._params=i;this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked});this.destroyed=false;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=n;this._fullReader=null;this._lastProgress=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,a.createPromiseCapability)();this.setupMessageHandler()}R(e,[{key:"destroy",value:function e(){var t=this;if(this.destroyCapability){return this.destroyCapability.promise}this.destroyed=true;this.destroyCapability=(0,a.createPromiseCapability)();if(this._passwordCapability){this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"))}var r=[];this.pageCache.forEach(function(e){if(e){r.push(e._destroy())}});this.pageCache.length=0;this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);r.push(n);Promise.all(r).then(function(){t.fontLoader.clear();if(t._networkStream){t._networkStream.cancelAllRequests(new a.AbortException("Worker was terminated."))}if(t.messageHandler){t.messageHandler.destroy();t.messageHandler=null}t.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function e(){var t=this;var r=this.messageHandler,n=this.loadingTask;r.on("GetReader",function(e,r){(0,a.assert)(t._networkStream);t._fullReader=t._networkStream.getFullReader();t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}};r.onPull=function(){t._fullReader.read().then(function(e){var t=e.value,n=e.done;if(n){r.close();return}(0,a.assert)((0,a.isArrayBuffer)(t));r.enqueue(new Uint8Array(t),1,[t])})["catch"](function(e){r.error(e)})};r.onCancel=function(e){t._fullReader.cancel(e)}});r.on("ReaderHeadersReady",function(e){var r=(0,a.createPromiseCapability)();var i=t._fullReader;i.headersReady.then(function(){if(!i.isStreamingSupported||!i.isRangeSupported){if(t._lastProgress&&n.onProgress){n.onProgress(t._lastProgress)}i.onProgress=function(e){if(n.onProgress){n.onProgress({loaded:e.loaded,total:e.total})}}}r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})},r.reject);return r.promise});r.on("GetRangeReader",function(e,r){(0,a.assert)(t._networkStream);var n=t._networkStream.getRangeReader(e.begin,e.end);if(!n){r.close();return}r.onPull=function(){n.read().then(function(e){var t=e.value,n=e.done;if(n){r.close();return}(0,a.assert)((0,a.isArrayBuffer)(t));r.enqueue(new Uint8Array(t),1,[t])})["catch"](function(e){r.error(e)})};r.onCancel=function(e){n.cancel(e)}});r.on("GetDoc",function(e){var r=e.pdfInfo;t._numPages=r.numPages;n._capability.resolve(new G(r,t))});r.on("PasswordRequest",function(e){t._passwordCapability=(0,a.createPromiseCapability)();if(n.onPassword){var r=function e(r){t._passwordCapability.resolve({password:r})};try{n.onPassword(r,e.code)}catch(e){t._passwordCapability.reject(e)}}else{t._passwordCapability.reject(new a.PasswordException(e.message,e.code))}return t._passwordCapability.promise});r.on("PasswordException",function(e){n._capability.reject(new a.PasswordException(e.message,e.code))});r.on("InvalidPDF",function(e){n._capability.reject(new a.InvalidPDFException(e.message))});r.on("MissingPDF",function(e){n._capability.reject(new a.MissingPDFException(e.message))});r.on("UnexpectedResponse",function(e){n._capability.reject(new a.UnexpectedResponseException(e.message,e.status))});r.on("UnknownError",function(e){n._capability.reject(new a.UnknownErrorException(e.message,e.details))});r.on("DataLoaded",function(e){if(n.onProgress){n.onProgress({loaded:e.length,total:e.length})}t.downloadInfoCapability.resolve(e)});r.on("StartRenderPage",function(e){if(t.destroyed){return}var r=t.pageCache[e.pageIndex];r._startRenderPage(e.transparency,e.intent)});r.on("commonobj",function(e){if(t.destroyed){return}var n=y(e,3),i=n[0],s=n[1],u=n[2];if(t.commonObjs.has(i)){return}switch(s){case"Font":var c=t._params;if("error"in u){var f=u.error;(0,a.warn)("Error during font loading: ".concat(f));t.commonObjs.resolve(i,f);break}var h=null;if(c.pdfBug&&l["default"].FontInspector&&l["default"].FontInspector.enabled){h={registerFont:function e(t,r){l["default"]["FontInspector"].fontAdded(t,r)}}}var d=new o.FontFaceObject(u,{isEvalSupported:c.isEvalSupported,disableFontFace:c.disableFontFace,ignoreErrors:c.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:h});t.fontLoader.bind(d).then(function(){t.commonObjs.resolve(i,d)},function(e){r.sendWithPromise("FontFallback",{id:i})["finally"](function(){t.commonObjs.resolve(i,d)})});break;case"FontPath":case"FontType3Res":t.commonObjs.resolve(i,u);break;default:throw new Error("Got unknown common object type ".concat(s))}});r.on("obj",function(e){if(t.destroyed){return undefined}var r=y(e,4),n=r[0],a=r[1],o=r[2],s=r[3];var u=t.pageCache[a];if(u.objs.has(n)){return undefined}switch(o){case"JpegStream":return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)};r.onerror=function(){t(new Error("Error during JPEG image loading"));(0,i.releaseImageResources)(r)};r.src=s}).then(function(e){u.objs.resolve(n,e)});case"Image":u.objs.resolve(n,s);var l=8e6;if(s&&"data"in s&&s.data.length>l){u.cleanupAfterRender=true}break;default:throw new Error("Got unknown object type ".concat(o))}return undefined});r.on("DocProgress",function(e){if(t.destroyed){return}if(n.onProgress){n.onProgress({loaded:e.loaded,total:e.total})}});r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));r.on("JpegDecode",function(e){if(t.destroyed){return Promise.reject(new Error("Worker was destroyed"))}if(typeof document==="undefined"){return Promise.reject(new Error('"document" is not defined.'))}var r=y(e,2),n=r[0],a=r[1];if(a!==3&&a!==1){return Promise.reject(new Error("Only 3 components or 1 component can be returned"))}return new Promise(function(e,t){var r=new Image;r.onload=function(){var t=r.width,n=r.height;var o=t*n;var s=o*4;var u=new Uint8ClampedArray(o*a);var l=document.createElement("canvas");l.width=t;l.height=n;var c=l.getContext("2d");c.drawImage(r,0,0);var f=c.getImageData(0,0,t,n).data;if(a===3){for(var h=0,d=0;h<s;h+=4,d+=3){u[d]=f[h];u[d+1]=f[h+1];u[d+2]=f[h+2]}}else if(a===1){for(var v=0,p=0;v<s;v+=4,p++){u[p]=f[v]}}e({data:u,width:t,height:n});(0,i.releaseImageResources)(r);l.width=0;l.height=0;l=null;c=null};r.onerror=function(){t(new Error("JpegDecode failed to load image"));(0,i.releaseImageResources)(r)};r.src=n})});r.on("FetchBuiltInCMap",function(e,r){if(t.destroyed){r.error(new Error("Worker was destroyed"));return}var n=false;r.onPull=function(){if(n){r.close();return}n=true;t.CMapReaderFactory.fetch(e).then(function(e){r.enqueue(e,1,[e.cMapData.buffer])})["catch"](function(e){r.error(e)})}})}},{key:"_onUnsupportedFeature",value:function e(t){var r=t.featureId;if(this.destroyed){return}if(this.loadingTask.onUnsupportedFeature){this.loadingTask.onUnsupportedFeature(r)}}},{key:"getData",value:function e(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function e(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages){return Promise.reject(new Error("Invalid page request"))}var n=t-1;if(n in this.pagePromises){return this.pagePromises[n]}var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(r.destroyed){throw new Error("Transport destroyed")}var t=new H(n,e,r,r._params.pdfBug);r.pageCache[n]=t;return t});this.pagePromises[n]=a;return a}},{key:"getPageIndex",value:function e(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})["catch"](function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function e(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"getDestinations",value:function e(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function e(t){if(typeof t!=="string"){return Promise.reject(new Error("Invalid destination request."))}return this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function e(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function e(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function e(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function e(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",value:function e(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)}},{key:"getAttachments",value:function e(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function e(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function e(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function e(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function e(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new h.Metadata(e[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}})}},{key:"getStats",value:function e(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function e(){var t=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,r=t.pageCache.length;e<r;e++){var n=t.pageCache[e];if(n){n.cleanup()}}t.commonObjs.clear();t.fontLoader.clear()})}},{key:"loadingParams",get:function e(){var t=this._params;return(0,a.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableCreateObjectURL:t.disableCreateObjectURL,disableFontFace:t.disableFontFace,nativeImageDecoderSupport:t.nativeImageDecoderSupport})}}]);return e}();var Q=function(){function e(){C(this,e);this._objs=Object.create(null)}R(e,[{key:"_ensureObj",value:function e(t){if(this._objs[t]){return this._objs[t]}return this._objs[t]={capability:(0,a.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(r){this._ensureObj(t).capability.promise.then(r);return null}var n=this._objs[t];if(!n||!n.resolved){throw new Error("Requesting object that isn't resolved yet ".concat(t,"."))}return n.data}},{key:"has",value:function e(t){var r=this._objs[t];return r?r.resolved:false}},{key:"resolve",value:function e(t,r){var n=this._ensureObj(t);n.resolved=true;n.data=r;n.capability.resolve(r)}},{key:"clear",value:function e(){for(var t in this._objs){var r=this._objs[t].data;if(typeof Image!=="undefined"&&r instanceof Image){(0,i.releaseImageResources)(r)}}this._objs=Object.create(null)}}]);return e}();var K=function(){function e(t){C(this,e);this._internalRenderTask=t;this.onContinue=null}R(e,[{key:"cancel",value:function e(){this._internalRenderTask.cancel()}},{key:"then",value:function e(t,r){(0,i.deprecated)("RenderTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function e(){return this._internalRenderTask.capability.promise}}]);return e}();var J=function e(){var t=new WeakSet;var r=function(){function e(t){var r=t.callback,n=t.params,i=t.objs,o=t.commonObjs,s=t.operatorList,u=t.pageNumber,l=t.canvasFactory,c=t.webGLContext,f=t.useRequestAnimationFrame,h=f===void 0?false:f,d=t.pdfBug,v=d===void 0?false:d;C(this,e);this.callback=r;this.params=n;this.objs=i;this.commonObjs=o;this.operatorListIdx=null;this.operatorList=s;this.pageNumber=u;this.canvasFactory=l;this.webGLContext=c;this._pdfBug=v;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=h===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,a.createPromiseCapability)();this.task=new K(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=n.canvasContext.canvas}R(e,[{key:"initializeGraphics",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.cancelled){return}if(this._canvas){if(t.has(this._canvas)){throw new Error("Cannot use the same canvas during multiple render() operations. "+"Use different canvas or ensure previous operations were "+"cancelled or completed.")}t.add(this._canvas)}if(this._pdfBug&&l["default"].StepperManager&&l["default"].StepperManager.enabled){this.stepper=l["default"].StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var n=this.params,a=n.canvasContext,i=n.viewport,o=n.transform,s=n.imageLayer,c=n.background;this.gfx=new u.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s);this.gfx.beginDrawing({transform:o,viewport:i,transparency:r,background:c});this.operatorListIdx=0;this.graphicsReady=true;if(this.graphicsReadyCallback){this.graphicsReadyCallback()}}},{key:"cancel",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.running=false;this.cancelled=true;if(this.gfx){this.gfx.endDrawing()}if(this._canvas){t["delete"](this._canvas)}this.callback(r||new i.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function e(){if(!this.graphicsReady){if(!this.graphicsReadyCallback){this.graphicsReadyCallback=this._continueBound}return}if(this.stepper){this.stepper.updateOperatorList(this.operatorList)}if(this.running){return}this._continue()}},{key:"_continue",value:function e(){this.running=true;if(this.cancelled){return}if(this.task.onContinue){this.task.onContinue(this._scheduleNextBound)}else{this._scheduleNext()}}},{key:"_scheduleNext",value:function e(){var t=this;if(this._useRequestAnimationFrame){window.requestAnimationFrame(function(){t._nextBound()["catch"](t.cancel.bind(t))})}else{Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}}},{key:"_next",value:function(){var e=m(n["default"].mark(function e(){return n["default"].wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(!this.cancelled){r.next=2;break}return r.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();if(this._canvas){t["delete"](this._canvas)}this.callback()}}case 4:case"end":return r.stop()}}},e,this)}));function r(){return e.apply(this,arguments)}return r}()}]);return e}();return r}();var Z="2.3.200";t.version=Z;var $="4ae3f9fc";t.build=$},function(e,t,r){"use strict";e.exports=r(181)},function(e,t,r){"use strict";(function(e){function t(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t=function e(t){return typeof t}}else{t=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return t(e)}var r=function(e){"use strict";var r=Object.prototype;var n=r.hasOwnProperty;var a;var i=typeof Symbol==="function"?Symbol:{};var o=i.iterator||"@@iterator";var s=i.asyncIterator||"@@asyncIterator";var u=i.toStringTag||"@@toStringTag";function l(e,t,r,n){var a=t&&t.prototype instanceof g?t:g;var i=Object.create(a.prototype);var o=new E(n||[]);i._invoke=x(e,r,o);return i}e.wrap=l;function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var f="suspendedStart";var h="suspendedYield";var d="executing";var v="completed";var p={};function g(){}function m(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf;var A=_&&_(_(T([])));if(A&&A!==r&&n.call(A,o)){b=A}var S=y.prototype=g.prototype=Object.create(b);m.prototype=S.constructor=y;y.constructor=m;y[u]=m.displayName="GeneratorFunction";function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}e.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===m||(t.displayName||t.name)==="GeneratorFunction":false};e.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,y)}else{e.__proto__=y;if(!(u in e)){e[u]="GeneratorFunction"}}e.prototype=Object.create(S);return e};e.awrap=function(e){return{__await:e}};function k(e){function r(a,i,o,s){var u=c(e[a],e,i);if(u.type==="throw"){s(u.arg)}else{var l=u.arg;var f=l.value;if(f&&t(f)==="object"&&n.call(f,"__await")){return Promise.resolve(f.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)})}return Promise.resolve(f).then(function(e){l.value=e;o(l)},function(e){return r("throw",e,o,s)})}}var a;function i(e,t){function n(){return new Promise(function(n,a){r(e,t,n,a)})}return a=a?a.then(n,n):n()}this._invoke=i}w(k.prototype);k.prototype[s]=function(){return this};e.AsyncIterator=k;e.async=function(t,r,n,a){var i=new k(l(t,r,n,a));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})};function x(e,t,r){var n=f;return function a(i,o){if(n===d){throw new Error("Generator is already running")}if(n===v){if(i==="throw"){throw o}return O()}r.method=i;r.arg=o;while(true){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===p)continue;return u}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===f){n=v;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=d;var l=c(e,t,r);if(l.type==="normal"){n=r.done?v:h;if(l.arg===p){continue}return{value:l.arg,done:r.done}}else if(l.type==="throw"){n=v;r.method="throw";r.arg=l.arg}}}}function C(e,t){var r=e.iterator[t.method];if(r===a){t.delegate=null;if(t.method==="throw"){if(e.iterator["return"]){t.method="return";t.arg=a;C(e,t);if(t.method==="throw"){return p}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(r,e.iterator,t.arg);if(n.type==="throw"){t.method="throw";t.arg=n.arg;t.delegate=null;return p}var i=n.arg;if(!i){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return p}if(i.done){t[e.resultName]=i.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=a}}else{return i}t.delegate=null;return p}w(S);S[u]="Generator";S[o]=function(){return this};S.toString=function(){return"[object Generator]"};function P(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(P,this);this.reset(true)}e.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function T(e){if(e){var t=e[o];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var r=-1,i=function t(){while(++r<e.length){if(n.call(e,r)){t.value=e[r];t.done=false;return t}}t.value=a;t.done=true;return t};return i.next=i}}return{next:O}}e.values=T;function O(){return{value:a,done:true}}E.prototype={constructor:E,reset:function e(t){this.prev=0;this.next=0;this.sent=this._sent=a;this.done=false;this.delegate=null;this.method="next";this.arg=a;this.tryEntries.forEach(R);if(!t){for(var r in this){if(r.charAt(0)==="t"&&n.call(this,r)&&!isNaN(+r.slice(1))){this[r]=a}}}},stop:function e(){this.done=true;var t=this.tryEntries[0];var r=t.completion;if(r.type==="throw"){throw r.arg}return this.rval},dispatchException:function e(t){if(this.done){throw t}var r=this;function i(e,n){u.type="throw";u.arg=t;r.next=e;if(n){r.method="next";r.arg=a}return!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];var u=s.completion;if(s.tryLoc==="root"){return i("end")}if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc");var c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc){return i(s.catchLoc,true)}else if(this.prev<s.finallyLoc){return i(s.finallyLoc)}}else if(l){if(this.prev<s.catchLoc){return i(s.catchLoc,true)}}else if(c){if(this.prev<s.finallyLoc){return i(s.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function e(t,r){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}if(o&&(t==="break"||t==="continue")&&o.tryLoc<=r&&r<=o.finallyLoc){o=null}var s=o?o.completion:{};s.type=t;s.arg=r;if(o){this.method="next";this.next=o.finallyLoc;return p}return this.complete(s)},complete:function e(t,r){if(t.type==="throw"){throw t.arg}if(t.type==="break"||t.type==="continue"){this.next=t.arg}else if(t.type==="return"){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else if(t.type==="normal"&&r){this.next=r}return p},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t){this.complete(n.completion,n.afterLoc);R(n);return p}}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if(a.type==="throw"){var i=a.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){this.delegate={iterator:T(t),resultName:r,nextLoc:n};if(this.method==="next"){this.arg=a}return p}};return e}((false?undefined:t(e))==="object"?e.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}).call(this,r(182)(e))},function(e,t,r){"use strict";e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function t(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function t(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addLinkAttributes=C;t.getFilenameFromUrl=P;t.isFetchSupported=T;t.isValidFetchUrl=O;t.loadScript=L;t.deprecated=F;t.releaseImageResources=I;t.PDFDateString=t.DummyStatTimer=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var n=i(r(180));var a=r(1);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function s(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function h(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){h(i,n,a,o,s,"next",e)}function s(e){h(i,n,a,o,s,"throw",e)}o(undefined)})}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}var m="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=m;var y="http://www.w3.org/2000/svg";var b=function(){function e(){v(this,e)}g(e,[{key:"create",value:function e(t,r){if(t<=0||r<=0){throw new Error("Invalid canvas size")}var n=document.createElement("canvas");var a=n.getContext("2d");n.width=t;n.height=r;return{canvas:n,context:a}}},{key:"reset",value:function e(t,r,n){if(!t.canvas){throw new Error("Canvas is not specified")}if(r<=0||n<=0){throw new Error("Invalid canvas size")}t.canvas.width=r;t.canvas.height=n}},{key:"destroy",value:function e(t){if(!t.canvas){throw new Error("Canvas is not specified")}t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}}]);return e}();t.DOMCanvasFactory=b;var _=function(){function e(t){var r=t.baseUrl,n=r===void 0?null:r,a=t.isCompressed,i=a===void 0?false:a;v(this,e);this.baseUrl=n;this.isCompressed=i}g(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(){var e=d(n["default"].mark(function e(t){var r=this;var i,o,s;return n["default"].wrap(function e(u){while(1){switch(u.prev=u.next){case 0:i=t.name;if(this.baseUrl){u.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that '+'the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(i){u.next=5;break}throw new Error("CMap name must be specified.");case 5:o=this.baseUrl+i+(this.isCompressed?".bcmap":"");s=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;if(!(T()&&O(o,document.baseURI))){u.next=9;break}return u.abrupt("return",fetch(o).then(function(){var e=d(n["default"].mark(function e(t){var i;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(t.ok){n.next=2;break}throw new Error(t.statusText);case 2:if(!r.isCompressed){n.next=10;break}n.t0=Uint8Array;n.next=6;return t.arrayBuffer();case 6:n.t1=n.sent;i=new n.t0(n.t1);n.next=15;break;case 10:n.t2=a.stringToBytes;n.next=13;return t.text();case 13:n.t3=n.sent;i=(0,n.t2)(n.t3);case 15:return n.abrupt("return",{cMapData:i,compressionType:s});case 16:case"end":return n.stop()}}},e)}));return function(t){return e.apply(this,arguments)}}())["catch"](function(e){throw new Error("Unable to load ".concat(r.isCompressed?"binary ":"")+"CMap at: ".concat(o))}));case 9:return u.abrupt("return",new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",o,true);if(r.isCompressed){n.responseType="arraybuffer"}n.onreadystatechange=function(){if(n.readyState!==XMLHttpRequest.DONE){return}if(n.status===200||n.status===0){var i;if(r.isCompressed&&n.response){i=new Uint8Array(n.response)}else if(!r.isCompressed&&n.responseText){i=(0,a.stringToBytes)(n.responseText)}if(i){e({cMapData:i,compressionType:s});return}}t(new Error(n.statusText))};n.send(null)})["catch"](function(e){throw new Error("Unable to load ".concat(r.isCompressed?"binary ":"")+"CMap at: ".concat(o))}));case 10:case"end":return u.stop()}}},e,this)}));return function(t){return e.apply(this,arguments)}}())}]);return e}();t.DOMCMapReaderFactory=_;var A=function(){function e(){v(this,e)}g(e,[{key:"create",value:function e(t,r){(0,a.assert)(t>0&&r>0,"Invalid SVG dimensions");var n=document.createElementNS(y,"svg:svg");n.setAttribute("version","1.1");n.setAttribute("width",t+"px");n.setAttribute("height",r+"px");n.setAttribute("preserveAspectRatio","none");n.setAttribute("viewBox","0 0 "+t+" "+r);return n}},{key:"createElement",value:function e(t){(0,a.assert)(typeof t==="string","Invalid SVG element type");return document.createElementNS(y,t)}}]);return e}();t.DOMSVGFactory=A;var S=function(){function e(t){var r=t.viewBox,n=t.scale,a=t.rotation,i=t.offsetX,o=i===void 0?0:i,s=t.offsetY,u=s===void 0?0:s,l=t.dontFlip,c=l===void 0?false:l;v(this,e);this.viewBox=r;this.scale=n;this.rotation=a;this.offsetX=o;this.offsetY=u;var f=(r[2]+r[0])/2;var h=(r[3]+r[1])/2;var d,p,g,m;a=a%360;a=a<0?a+360:a;switch(a){case 180:d=-1;p=0;g=0;m=1;break;case 90:d=0;p=1;g=1;m=0;break;case 270:d=0;p=-1;g=-1;m=0;break;default:d=1;p=0;g=0;m=-1;break}if(c){g=-g;m=-m}var y,b;var _,A;if(d===0){y=Math.abs(h-r[1])*n+o;b=Math.abs(f-r[0])*n+u;_=Math.abs(r[3]-r[1])*n;A=Math.abs(r[2]-r[0])*n}else{y=Math.abs(f-r[0])*n+o;b=Math.abs(h-r[1])*n+u;_=Math.abs(r[2]-r[0])*n;A=Math.abs(r[3]-r[1])*n}this.transform=[d*n,p*n,g*n,m*n,y-d*n*f-g*n*h,b-p*n*f-m*n*h];this.width=_;this.height=A}g(e,[{key:"clone",value:function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=r.scale,a=n===void 0?this.scale:n,i=r.rotation,o=i===void 0?this.rotation:i,s=r.dontFlip,u=s===void 0?false:s;return new e({viewBox:this.viewBox.slice(),scale:a,rotation:o,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:u})}},{key:"convertToViewportPoint",value:function e(t,r){return a.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function e(t){var r=a.Util.applyTransform([t[0],t[1]],this.transform);var n=a.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function e(t,r){return a.Util.applyInverseTransform([t,r],this.transform)}}]);return e}();t.PageViewport=S;var w=function(e){c(t,e);function t(e,r){var n;v(this,t);n=s(this,l(t).call(this,e));n.type=r;return n}return t}(a.BaseException);t.RenderingCancelledException=w;var k={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=k;var x=["","_self","_blank","_parent","_top"];function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.url,n=t.target,i=t.rel,o=t.enabled,s=o===void 0?true:o;(0,a.assert)(r&&typeof r==="string",'addLinkAttributes: A valid "url" parameter must provided.');var u=(0,a.removeNullCharacters)(r);if(s){e.href=e.title=u}else{e.href="";e.title="Disabled: ".concat(u);e.onclick=function(){return false}}var l=Object.values(k);var c=l.includes(n)?n:k.NONE;e.target=x[c];e.rel=typeof i==="string"?i:m}function P(e){var t=e.indexOf("#");var r=e.indexOf("?");var n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}var R=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;v(this,e);this.enabled=!!t;this.started=Object.create(null);this.times=[]}g(e,[{key:"time",value:function e(t){if(!this.enabled){return}if(t in this.started){(0,a.warn)("Timer is already running for "+t)}this.started[t]=Date.now()}},{key:"timeEnd",value:function e(t){if(!this.enabled){return}if(!(t in this.started)){(0,a.warn)("Timer has not been started for "+t)}this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]}},{key:"toString",value:function e(){var t="",r=0;var n=true;var a=false;var i=undefined;try{for(var o=this.times[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){var u=s.value;var l=u.name;if(l.length>r){r=l.length}}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}var c=true;var f=false;var h=undefined;try{for(var d=this.times[Symbol.iterator](),v;!(c=(v=d.next()).done);c=true){var p=v.value;var g=p.end-p.start;t+="".concat(p.name.padEnd(r)," ").concat(g,"ms\n")}}catch(e){f=true;h=e}finally{try{if(!c&&d["return"]!=null){d["return"]()}}finally{if(f){throw h}}}return t}}]);return e}();t.StatTimer=R;var E=function(){function e(){v(this,e);(0,a.unreachable)("Cannot initialize DummyStatTimer.")}g(e,null,[{key:"time",value:function e(t){}},{key:"timeEnd",value:function e(t){}},{key:"toString",value:function e(){return""}}]);return e}();t.DummyStatTimer=E;function T(){return typeof fetch!=="undefined"&&typeof Response!=="undefined"&&"body"in Response.prototype&&typeof ReadableStream!=="undefined"}function O(e,t){try{var r=t?new URL(e,t):new URL(e),n=r.protocol;return n==="http:"||n==="https:"}catch(e){return false}}function L(e){return new Promise(function(t,r){var n=document.createElement("script");n.src=e;n.onload=t;n.onerror=function(){r(new Error("Cannot load script at: ".concat(n.src)))};(document.head||document.documentElement).appendChild(n)})}function F(e){console.log("Deprecated API usage: "+e)}function I(e){(0,a.assert)(e instanceof Image,"Invalid `img` parameter.");var t=e.src;if(typeof t==="string"&&t.startsWith("blob:")&&URL.revokeObjectURL){URL.revokeObjectURL(t)}e.removeAttribute("src")}var j;var M=function(){function e(){v(this,e)}g(e,null,[{key:"toDateObject",value:function e(t){if(!t||!(0,a.isString)(t)){return null}if(!j){j=new RegExp("^D:"+"(\\d{4})"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"([Z|+|-])?"+"(\\d{2})?"+"'?"+"(\\d{2})?"+"'?")}var r=j.exec(t);if(!r){return null}var n=parseInt(r[1],10);var i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;var o=parseInt(r[3],10);o=o>=1&&o<=31?o:1;var s=parseInt(r[4],10);s=s>=0&&s<=23?s:0;var u=parseInt(r[5],10);u=u>=0&&u<=59?u:0;var l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;var c=r[7]||"Z";var f=parseInt(r[8],10);f=f>=0&&f<=23?f:0;var h=parseInt(r[9],10)||0;h=h>=0&&h<=59?h:0;if(c==="-"){s+=f;u+=h}else if(c==="+"){s-=f;u-=h}return new Date(Date.UTC(n,i,o,s,u,l))}}]);return e}();t.PDFDateString=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FontLoader=t.FontFaceObject=void 0;var n=i(r(180));var a=r(1);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function s(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function h(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){h(i,n,a,o,s,"next",e)}function s(e){h(i,n,a,o,s,"throw",e)}o(undefined)})}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}var m=function(){function e(t){var r=t.docId,n=t.onUnsupportedFeature;v(this,e);if(this.constructor===e){(0,a.unreachable)("Cannot initialize BaseFontLoader.")}this.docId=r;this._onUnsupportedFeature=n;this.nativeFontFaces=[];this.styleElement=null}g(e,[{key:"addNativeFontFace",value:function e(t){this.nativeFontFaces.push(t);document.fonts.add(t)}},{key:"insertRule",value:function e(t){var r=this.styleElement;if(!r){r=this.styleElement=document.createElement("style");r.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId);document.documentElement.getElementsByTagName("head")[0].appendChild(r)}var n=r.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function e(){this.nativeFontFaces.forEach(function(e){document.fonts["delete"](e)});this.nativeFontFaces.length=0;if(this.styleElement){this.styleElement.remove();this.styleElement=null}}},{key:"bind",value:function(){var e=d(n["default"].mark(function e(t){var r=this;var i,o;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(t.attached||t.missingFile)){n.next=2;break}return n.abrupt("return",undefined);case 2:t.attached=true;if(!this.isFontLoadingAPISupported){n.next=19;break}i=t.createNativeFontFace();if(!i){n.next=18;break}this.addNativeFontFace(i);n.prev=7;n.next=10;return i.loaded;case 10:n.next=18;break;case 12:n.prev=12;n.t0=n["catch"](7);this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.font});(0,a.warn)("Failed to load font '".concat(i.family,"': '").concat(n.t0,"'."));t.disableFontFace=true;throw n.t0;case 18:return n.abrupt("return",undefined);case 19:o=t.createFontFaceRule();if(!o){n.next=25;break}this.insertRule(o);if(!this.isSyncFontLoadingSupported){n.next=24;break}return n.abrupt("return",undefined);case 24:return n.abrupt("return",new Promise(function(e){var n=r._queueLoadingCallback(e);r._prepareFontLoadEvent([o],[t],n)}));case 25:return n.abrupt("return",undefined);case 26:case"end":return n.stop()}}},e,this,[[7,12]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_queueLoadingCallback",value:function e(t){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function e(){(0,a.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function e(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function e(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}}]);return e}();var y;t.FontLoader=y;{t.FontLoader=y=function(e){c(t,e);function t(e){var r;v(this,t);r=s(this,l(t).call(this,e));r.loadingContext={requests:[],nextRequestId:0};r.loadTestFontId=0;return r}g(t,[{key:"_queueLoadingCallback",value:function e(t){function r(){(0,a.assert)(!i.done,"completeRequest() cannot be called twice.");i.done=true;while(n.requests.length>0&&n.requests[0].done){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext;var i={id:"pdfjs-font-loading-".concat(n.nextRequestId++),done:false,complete:r,callback:t};n.requests.push(i);return i}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function o(e,t,r,n){var a=e.substring(0,t);var i=e.substring(t+r);return a+n+i}var s,u;var l=document.createElement("canvas");l.width=1;l.height=1;var c=l.getContext("2d");var f=0;function h(e,t){f++;if(f>30){(0,a.warn)("Load test font never loaded.");t();return}c.font="30px "+e;c.fillText(".",0,20);var r=c.getImageData(0,0,1,1);if(r.data[3]>0){t();return}setTimeout(h.bind(null,e,t))}var d="lt".concat(Date.now()).concat(this.loadTestFontId++);var v=this._loadTestFont;var p=976;v=o(v,p,d.length,d);var g=16;var m=1482184792;var y=i(v,g);for(s=0,u=d.length-3;s<u;s+=4){y=y-m+i(d,s)|0}if(s<d.length){y=y-m+i(d+"XXX",s)|0}v=o(v,g,4,(0,a.string32)(y));var b="url(data:font/opentype;base64,".concat(btoa(v),");");var _='@font-face {font-family:"'.concat(d,'";src:').concat(b,"}");this.insertRule(_);var A=[];for(s=0,u=r.length;s<u;s++){A.push(r[s].loadedName)}A.push(d);var S=document.createElement("div");S.setAttribute("style","visibility: hidden;"+"width: 10px; height: 10px;"+"position: absolute; top: 0px; left: 0px;");for(s=0,u=A.length;s<u;++s){var w=document.createElement("span");w.textContent="Hi";w.style.fontFamily=A[s];S.appendChild(w)}document.body.appendChild(S);h(d,function(){document.body.removeChild(S);n.complete()})}},{key:"isFontLoadingAPISupported",get:function e(){var t=typeof document!=="undefined"&&!!document.fonts;if(t&&typeof navigator!=="undefined"){var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);if(r&&r[1]<63){t=false}}return(0,a.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function e(){var t=false;if(typeof navigator==="undefined"){t=true}else{var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);if(r&&r[1]>=14){t=true}}return(0,a.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function e(){var t=function e(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA"+"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA"+"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA"+"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1"+"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD"+"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM"+"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D"+"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA"+"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA"+"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB"+"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY"+"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA"+"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA"+"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC"+"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3"+"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj"+"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",t())}}]);return t}(m)}var b={get value(){return(0,a.shadow)(this,"value",(0,a.isEvalSupported)())}};var _=function(){function e(t,r){var n=r.isEvalSupported,a=n===void 0?true:n,i=r.disableFontFace,o=i===void 0?false:i,s=r.ignoreErrors,u=s===void 0?false:s,l=r.onUnsupportedFeature,c=l===void 0?null:l,f=r.fontRegistry,h=f===void 0?null:f;v(this,e);this.compiledGlyphs=Object.create(null);for(var d in t){this[d]=t[d]}this.isEvalSupported=a!==false;this.disableFontFace=o===true;this.ignoreErrors=u===true;this._onUnsupportedFeature=c;this.fontRegistry=h}g(e,[{key:"createNativeFontFace",value:function e(){if(!this.data||this.disableFontFace){return null}var t=new FontFace(this.loadedName,this.data,{});if(this.fontRegistry){this.fontRegistry.registerFont(this)}return t}},{key:"createFontFaceRule",value:function e(){if(!this.data||this.disableFontFace){return null}var t=(0,a.bytesToString)(new Uint8Array(this.data));var r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");var n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");if(this.fontRegistry){this.fontRegistry.registerFont(this,r)}return n}},{key:"getPathGenerator",value:function e(t,r){if(this.compiledGlyphs[r]!==undefined){return this.compiledGlyphs[r]}var n,i;try{n=t.get(this.loadedName+"_path_"+r)}catch(e){if(!this.ignoreErrors){throw e}if(this._onUnsupportedFeature){this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.font})}(0,a.warn)('getPathGenerator - ignoring character: "'.concat(e,'".'));return this.compiledGlyphs[r]=function(e,t){}}if(this.isEvalSupported&&b.value){var o,s="";for(var u=0,l=n.length;u<l;u++){i=n[u];if(i.args!==undefined){o=i.args.join(",")}else{o=""}s+="c."+i.cmd+"("+o+");\n"}return this.compiledGlyphs[r]=new Function("c","size",s)}return this.compiledGlyphs[r]=function(e,t){for(var r=0,a=n.length;r<a;r++){i=n[r];if(i.cmd==="scale"){i.args=[t,-t]}e[i.cmd].apply(e,i.args)}}}}]);return e}();t.FontFaceObject=_},function(e,t,r){"use strict";var n=Object.create(null);{var a=r(4);var i=typeof navigator!=="undefined"&&navigator.userAgent||"";var o=/Trident/.test(i);var s=/CriOS/.test(i);(function e(){if(o||s){n.disableCreateObjectURL=true}})();(function e(){if(a()){n.disableFontFace=true;n.nativeImageDecoderSupport="none"}})()}t.apiCompatibilityParams=Object.freeze(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CanvasGraphics=void 0;var n=r(1);var a=r(187);var i=16;var o=100;var s=4096;var u=.65;var l=true;var c=1e3;var f=16;var h={get value(){return(0,n.shadow)(h,"value",(0,n.isLittleEndian)())}};function d(e){if(!e.mozCurrentTransform){e._originalSave=e.save;e._originalRestore=e.restore;e._originalRotate=e.rotate;e._originalScale=e.scale;e._originalTranslate=e.translate;e._originalTransform=e.transform;e._originalSetTransform=e.setTransform;e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0];e._transformStack=[];Object.defineProperty(e,"mozCurrentTransform",{get:function e(){return this._transformMatrix}});Object.defineProperty(e,"mozCurrentTransformInverse",{get:function e(){var t=this._transformMatrix;var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5];var u=r*i-n*a;var l=n*a-r*i;return[i/u,n/l,a/l,r/u,(i*o-a*s)/l,(n*o-r*s)/u]}});e.save=function e(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};e.restore=function e(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};e.translate=function e(t,r){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*r+n[4];n[5]=n[1]*t+n[3]*r+n[5];this._originalTranslate(t,r)};e.scale=function e(t,r){var n=this._transformMatrix;n[0]=n[0]*t;n[1]=n[1]*t;n[2]=n[2]*r;n[3]=n[3]*r;this._originalScale(t,r)};e.transform=function t(r,n,a,i,o,s){var u=this._transformMatrix;this._transformMatrix=[u[0]*r+u[2]*n,u[1]*r+u[3]*n,u[0]*a+u[2]*i,u[1]*a+u[3]*i,u[0]*o+u[2]*s+u[4],u[1]*o+u[3]*s+u[5]];e._originalTransform(r,n,a,i,o,s)};e.setTransform=function t(r,n,a,i,o,s){this._transformMatrix=[r,n,a,i,o,s];e._originalSetTransform(r,n,a,i,o,s)};e.rotate=function e(t){var r=Math.cos(t);var n=Math.sin(t);var a=this._transformMatrix;this._transformMatrix=[a[0]*r+a[2]*n,a[1]*r+a[3]*n,a[0]*-n+a[2]*r,a[1]*-n+a[3]*r,a[4],a[5]];this._originalRotate(t)}}}var v=function e(){function t(e){this.canvasFactory=e;this.cache=Object.create(null)}t.prototype={getCanvas:function e(t,r,n,a){var i;if(this.cache[t]!==undefined){i=this.cache[t];this.canvasFactory.reset(i,r,n);i.context.setTransform(1,0,0,1,0,0)}else{i=this.canvasFactory.create(r,n);this.cache[t]=i}if(a){d(i.context)}return i},clear:function e(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}};return t}();function p(e){var t=1e3;var r=e.width,n=e.height;var a,i,o,s=r+1;var u=new Uint8Array(s*(n+1));var l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var c=r+7&~7,f=e.data;var h=new Uint8Array(c*n),d=0,v;for(a=0,v=f.length;a<v;a++){var p=128,g=f[a];while(p>0){h[d++]=g&p?0:255;p>>=1}}var m=0;d=0;if(h[d]!==0){u[0]=1;++m}for(i=1;i<r;i++){if(h[d]!==h[d+1]){u[i]=h[d]?2:1;++m}d++}if(h[d]!==0){u[i]=2;++m}for(a=1;a<n;a++){d=a*c;o=a*s;if(h[d-c]!==h[d]){u[o]=h[d]?1:8;++m}var y=(h[d]?4:0)+(h[d-c]?8:0);for(i=1;i<r;i++){y=(y>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0);if(l[y]){u[o+i]=l[y];++m}d++}if(h[d-c]!==h[d]){u[o+i]=h[d]?2:4;++m}if(m>t){return null}}d=c*(n-1);o=a*s;if(h[d]!==0){u[o]=8;++m}for(i=1;i<r;i++){if(h[d]!==h[d+1]){u[o+i]=h[d]?4:8;++m}d++}if(h[d]!==0){u[o+i]=4;++m}if(m>t){return null}var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]);var _=[];for(a=0;m&&a<=n;a++){var A=a*s;var S=A+r;while(A<S&&!u[A]){A++}if(A===S){continue}var w=[A%s,a];var k=u[A],x=A,C;do{var P=b[k];do{A+=P}while(!u[A]);C=u[A];if(C!==5&&C!==10){k=C;u[A]=0}else{k=C&51*k>>4;u[A]&=k>>2|k<<2}w.push(A%s);w.push(A/s|0);if(!u[A]){--m}}while(x!==A);_.push(w);--a}var R=function e(t){t.save();t.scale(1/r,-1/n);t.translate(0,-n);t.beginPath();for(var a=0,i=_.length;a<i;a++){var o=_[a];t.moveTo(o[0],o[1]);for(var s=2,u=o.length;s<u;s+=2){t.lineTo(o[s],o[s+1])}}t.fill();t.beginPath();t.restore()};return R}var g=function e(){function t(){this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=n.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=n.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=n.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=false;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.resumeSMaskCtx=null}t.prototype={clone:function e(){return Object.create(this)},setCurrentPoint:function e(t,r){this.x=t;this.y=r}};return t}();var m=function e(){var t=15;var r=10;function m(e,t,r,n,a,i){this.ctx=e;this.current=new g;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=false;this.res=null;this.xobjs=null;this.commonObjs=t;this.objs=r;this.canvasFactory=n;this.webGLContext=a;this.imageLayer=i;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new v(this.canvasFactory);if(e){d(e)}this._cachedGetSinglePixelWidth=null}function y(e,t){if(typeof ImageData!=="undefined"&&t instanceof ImageData){e.putImageData(t,0,0);return}var r=t.height,a=t.width;var i=r%f;var o=(r-i)/f;var s=i===0?o:o+1;var u=e.createImageData(a,f);var l=0,c;var d=t.data;var v=u.data;var p,g,m,y;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var b=d.byteLength;var _=new Uint32Array(v.buffer,0,v.byteLength>>2);var A=_.length;var S=a+7>>3;var w=4294967295;var k=h.value?4278190080:255;for(p=0;p<s;p++){m=p<o?f:i;c=0;for(g=0;g<m;g++){var x=b-l;var C=0;var P=x>S?a:x*8-7;var R=P&~7;var E=0;var T=0;for(;C<R;C+=8){T=d[l++];_[c++]=T&128?w:k;_[c++]=T&64?w:k;_[c++]=T&32?w:k;_[c++]=T&16?w:k;_[c++]=T&8?w:k;_[c++]=T&4?w:k;_[c++]=T&2?w:k;_[c++]=T&1?w:k}for(;C<P;C++){if(E===0){T=d[l++];E=128}_[c++]=T&E?w:k;E>>=1}}while(c<A){_[c++]=0}e.putImageData(u,0,p*f)}}else if(t.kind===n.ImageKind.RGBA_32BPP){g=0;y=a*f*4;for(p=0;p<o;p++){v.set(d.subarray(l,l+y));l+=y;e.putImageData(u,0,g);g+=f}if(p<s){y=a*i*4;v.set(d.subarray(l,l+y));e.putImageData(u,0,g)}}else if(t.kind===n.ImageKind.RGB_24BPP){m=f;y=a*m;for(p=0;p<s;p++){if(p>=o){m=i;y=a*m}c=0;for(g=y;g--;){v[c++]=d[l++];v[c++]=d[l++];v[c++]=d[l++];v[c++]=255}e.putImageData(u,0,p*f)}}else{throw new Error("bad image kind: ".concat(t.kind))}}function b(e,t){var r=t.height,n=t.width;var a=r%f;var i=(r-a)/f;var o=a===0?i:i+1;var s=e.createImageData(n,f);var u=0;var l=t.data;var c=s.data;for(var h=0;h<o;h++){var d=h<i?f:a;var v=3;for(var p=0;p<d;p++){var g=0;for(var m=0;m<n;m++){if(!g){var y=l[u++];g=128}c[v]=y&g?0:255;v+=4;g>>=1}}e.putImageData(s,0,h*f)}}function _(e,t){var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var n=0,a=r.length;n<a;n++){var i=r[n];if(e[i]!==undefined){t[i]=e[i]}}if(e.setLineDash!==undefined){t.setLineDash(e.getLineDash());t.lineDashOffset=e.lineDashOffset}}function A(e){e.strokeStyle="#000000";e.fillStyle="#000000";e.fillRule="nonzero";e.globalAlpha=1;e.lineWidth=1;e.lineCap="butt";e.lineJoin="miter";e.miterLimit=10;e.globalCompositeOperation="source-over";e.font="10px sans-serif";if(e.setLineDash!==undefined){e.setLineDash([]);e.lineDashOffset=0}}function S(e,t,r,n){var a=e.length;for(var i=3;i<a;i+=4){var o=e[i];if(o===0){e[i-3]=t;e[i-2]=r;e[i-1]=n}else if(o<255){var s=255-o;e[i-3]=e[i-3]*o+t*s>>8;e[i-2]=e[i-2]*o+r*s>>8;e[i-1]=e[i-1]*o+n*s>>8}}}function w(e,t,r){var n=e.length;var a=1/255;for(var i=3;i<n;i+=4){var o=r?r[e[i]]:e[i];t[i]=t[i]*o*a|0}}function k(e,t,r){var n=e.length;for(var a=3;a<n;a+=4){var i=e[a-3]*77+e[a-2]*152+e[a-1]*28;t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function x(e,t,r,n,a,i,o){var s=!!i;var u=s?i[0]:0;var l=s?i[1]:0;var c=s?i[2]:0;var f;if(a==="Luminosity"){f=k}else{f=w}var h=1048576;var d=Math.min(n,Math.ceil(h/r));for(var v=0;v<n;v+=d){var p=Math.min(d,n-v);var g=e.getImageData(0,v,r,p);var m=t.getImageData(0,v,r,p);if(s){S(g.data,u,l,c)}f(g.data,m.data,o);e.putImageData(m,0,v)}}function C(e,t,r,n){var a=t.canvas;var i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&n.isEnabled){var s=n.composeSMask({layer:r.canvas,mask:a,properties:{subtype:t.subtype,backdrop:o}});e.setTransform(1,0,0,1,0,0);e.drawImage(s,t.offsetX,t.offsetY);return}x(i,r,a.width,a.height,t.subtype,o,t.transferMap);e.drawImage(a,0,0)}var P=["butt","round","square"];var R=["miter","round","bevel"];var E={};var T={};m.prototype={beginDrawing:function e(t){var r=t.transform,n=t.viewport,a=t.transparency,i=a===void 0?false:a,o=t.background,s=o===void 0?null:o;var u=this.ctx.canvas.width;var l=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=s||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,u,l);this.ctx.restore();if(i){var c=this.cachedCanvases.getCanvas("transparent",u,l,true);this.compositeCtx=this.ctx;this.transparentCanvas=c.canvas;this.ctx=c.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();A(this.ctx);if(r){this.ctx.transform.apply(this.ctx,r)}this.ctx.transform.apply(this.ctx,n.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();if(this.imageLayer){this.imageLayer.beginLayout()}},executeOperatorList:function e(a,i,o,s){var u=a.argsArray;var l=a.fnArray;var c=i||0;var f=u.length;if(f===c){return c}var h=f-c>r&&typeof o==="function";var d=h?Date.now()+t:0;var v=0;var p=this.commonObjs;var g=this.objs;var m;while(true){if(s!==undefined&&c===s.nextBreakPoint){s.breakIt(c,o);return c}m=l[c];if(m!==n.OPS.dependency){this[m].apply(this,u[c])}else{var y=true;var b=false;var _=undefined;try{for(var A=u[c][Symbol.iterator](),S;!(y=(S=A.next()).done);y=true){var w=S.value;var k=w.startsWith("g_")?p:g;if(!k.has(w)){k.get(w,o);return c}}}catch(e){b=true;_=e}finally{try{if(!y&&A["return"]!=null){A["return"]()}}finally{if(b){throw _}}}}c++;if(c===f){return c}if(h&&++v>r){if(Date.now()>d){o();return c}v=0}}},endDrawing:function e(){if(this.current.activeSMask!==null){this.endSMaskGroup()}this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();this.webGLContext.clear();if(this.imageLayer){this.imageLayer.endLayout()}},setLineWidth:function e(t){this.current.lineWidth=t;this.ctx.lineWidth=t},setLineCap:function e(t){this.ctx.lineCap=P[t]},setLineJoin:function e(t){this.ctx.lineJoin=R[t]},setMiterLimit:function e(t){this.ctx.miterLimit=t},setDash:function e(t,r){var n=this.ctx;if(n.setLineDash!==undefined){n.setLineDash(t);n.lineDashOffset=r}},setRenderingIntent:function e(t){},setFlatness:function e(t){},setGState:function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r];var i=a[0];var o=a[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1];this.ctx.globalAlpha=a[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":if(this.current.activeSMask){if(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask){this.suspendSMaskGroup()}else{this.endSMaskGroup()}}this.current.activeSMask=o?this.tempSMask:null;if(this.current.activeSMask){this.beginSMaskGroup()}this.tempSMask=null;break}}},beginSMaskGroup:function e(){var t=this.current.activeSMask;var r=t.canvas.width;var n=t.canvas.height;var a="smaskGroupAt"+this.groupLevel;var i=this.cachedCanvases.getCanvas(a,r,n,true);var o=this.ctx;var s=o.mozCurrentTransform;this.ctx.save();var u=i.context;u.scale(1/t.scaleX,1/t.scaleY);u.translate(-t.offsetX,-t.offsetY);u.transform.apply(u,s);t.startTransformInverse=u.mozCurrentTransformInverse;_(o,u);this.ctx=u;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(o);this.groupLevel++},suspendSMaskGroup:function e(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();C(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();this.ctx.save();_(t,this.ctx);this.current.resumeSMaskCtx=t;var r=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r);t.save();t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,t.canvas.width,t.canvas.height);t.restore()},resumeSMaskGroup:function e(){var t=this.current.resumeSMaskCtx;var r=this.ctx;this.ctx=t;this.groupStack.push(r);this.groupLevel++},endSMaskGroup:function e(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();C(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();_(t,this.ctx);var r=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r)},save:function e(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone();this.current.resumeSMaskCtx=null},restore:function e(){if(this.current.resumeSMaskCtx){this.resumeSMaskGroup()}if(this.current.activeSMask!==null&&(this.stateStack.length===0||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)){this.endSMaskGroup()}if(this.stateStack.length!==0){this.current=this.stateStack.pop();this.ctx.restore();this.pendingClip=null;this._cachedGetSinglePixelWidth=null}},transform:function e(t,r,n,a,i,o){this.ctx.transform(t,r,n,a,i,o);this._cachedGetSinglePixelWidth=null},constructPath:function e(t,r){var a=this.ctx;var i=this.current;var o=i.x,s=i.y;for(var u=0,l=0,c=t.length;u<c;u++){switch(t[u]|0){case n.OPS.rectangle:o=r[l++];s=r[l++];var f=r[l++];var h=r[l++];if(f===0){f=this.getSinglePixelWidth()}if(h===0){h=this.getSinglePixelWidth()}var d=o+f;var v=s+h;this.ctx.moveTo(o,s);this.ctx.lineTo(d,s);this.ctx.lineTo(d,v);this.ctx.lineTo(o,v);this.ctx.lineTo(o,s);this.ctx.closePath();break;case n.OPS.moveTo:o=r[l++];s=r[l++];a.moveTo(o,s);break;case n.OPS.lineTo:o=r[l++];s=r[l++];a.lineTo(o,s);break;case n.OPS.curveTo:o=r[l+4];s=r[l+5];a.bezierCurveTo(r[l],r[l+1],r[l+2],r[l+3],o,s);l+=6;break;case n.OPS.curveTo2:a.bezierCurveTo(o,s,r[l],r[l+1],r[l+2],r[l+3]);o=r[l+2];s=r[l+3];l+=4;break;case n.OPS.curveTo3:o=r[l+2];s=r[l+3];a.bezierCurveTo(r[l],r[l+1],o,s,o,s);l+=4;break;case n.OPS.closePath:a.closePath();break}}i.setCurrentPoint(o,s)},closePath:function e(){this.ctx.closePath()},stroke:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var a=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha;if(a&&a.hasOwnProperty("type")&&a.type==="Pattern"){r.save();var i=r.mozCurrentTransform;var o=n.Util.singularValueDecompose2dScale(i)[0];r.strokeStyle=a.getPattern(r,this);r.lineWidth=Math.max(this.getSinglePixelWidth()*u,this.current.lineWidth*o);r.stroke();r.restore()}else{r.lineWidth=Math.max(this.getSinglePixelWidth()*u,this.current.lineWidth);r.stroke()}if(t){this.consumePath()}r.globalAlpha=this.current.fillAlpha},closeStroke:function e(){this.closePath();this.stroke()},fill:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;var i=false;if(a){r.save();if(this.baseTransform){r.setTransform.apply(r,this.baseTransform)}r.fillStyle=n.getPattern(r,this);i=true}if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=false}else{r.fill()}if(i){r.restore()}if(t){this.consumePath()}},eoFill:function e(){this.pendingEOFill=true;this.fill()},fillStroke:function e(){this.fill(false);this.stroke(false);this.consumePath()},eoFillStroke:function e(){this.pendingEOFill=true;this.fillStroke()},closeFillStroke:function e(){this.closePath();this.fillStroke()},closeEOFillStroke:function e(){this.pendingEOFill=true;this.closePath();this.fillStroke()},endPath:function e(){this.consumePath()},clip:function e(){this.pendingClip=E},eoClip:function e(){this.pendingClip=T},beginText:function e(){this.current.textMatrix=n.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function e(){var t=this.pendingTextPaths;var r=this.ctx;if(t===undefined){r.beginPath();return}r.save();r.beginPath();for(var n=0;n<t.length;n++){var a=t[n];r.setTransform.apply(r,a.transform);r.translate(a.x,a.y);a.addToPath(r,a.fontSize)}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths},setCharSpacing:function e(t){this.current.charSpacing=t},setWordSpacing:function e(t){this.current.wordSpacing=t},setHScale:function e(t){this.current.textHScale=t/100},setLeading:function e(t){this.current.leading=-t},setFont:function e(t,r){var a=this.commonObjs.get(t);var s=this.current;if(!a){throw new Error("Can't find font for ".concat(t))}s.fontMatrix=a.fontMatrix?a.fontMatrix:n.FONT_IDENTITY_MATRIX;if(s.fontMatrix[0]===0||s.fontMatrix[3]===0){(0,n.warn)("Invalid font matrix for font "+t)}if(r<0){r=-r;s.fontDirection=-1}else{s.fontDirection=1}this.current.font=a;this.current.fontSize=r;if(a.isType3Font){return}var u=a.loadedName||"sans-serif";var l=a.black?"900":a.bold?"bold":"normal";var c=a.italic?"italic":"normal";var f='"'.concat(u,'", ').concat(a.fallbackName);var h=r<i?i:r>o?o:r;this.current.fontSizeScale=r/h;this.ctx.font="".concat(c," ").concat(l," ").concat(h,"px ").concat(f)},setTextRenderingMode:function e(t){this.current.textRenderingMode=t},setTextRise:function e(t){this.current.textRise=t},moveText:function e(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r},setLeadingMoveText:function e(t,r){this.setLeading(-r);this.moveText(t,r)},setTextMatrix:function e(t,r,n,a,i,o){this.current.textMatrix=[t,r,n,a,i,o];this.current.textMatrixScale=Math.sqrt(t*t+r*r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function e(){this.moveText(0,this.current.leading)},paintChar:function e(t,r,a,i){var o=this.ctx;var s=this.current;var u=s.font;var l=s.textRenderingMode;var c=s.fontSize/s.fontSizeScale;var f=l&n.TextRenderingMode.FILL_STROKE_MASK;var h=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG);var d=s.patternFill&&u.data;var v;if(u.disableFontFace||h||d){v=u.getPathGenerator(this.commonObjs,t)}if(u.disableFontFace||d){o.save();o.translate(r,a);o.beginPath();v(o,c);if(i){o.setTransform.apply(o,i)}if(f===n.TextRenderingMode.FILL||f===n.TextRenderingMode.FILL_STROKE){o.fill()}if(f===n.TextRenderingMode.STROKE||f===n.TextRenderingMode.FILL_STROKE){o.stroke()}o.restore()}else{if(f===n.TextRenderingMode.FILL||f===n.TextRenderingMode.FILL_STROKE){o.fillText(t,r,a)}if(f===n.TextRenderingMode.STROKE||f===n.TextRenderingMode.FILL_STROKE){o.strokeText(t,r,a)}}if(h){var p=this.pendingTextPaths||(this.pendingTextPaths=[]);p.push({transform:o.mozCurrentTransform,x:r,y:a,fontSize:c,addToPath:v})}},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),t=e.context;t.scale(1.5,1);t.fillText("I",0,10);var r=t.getImageData(0,0,10,10).data;var a=false;for(var i=3;i<r.length;i+=4){if(r[i]>0&&r[i]<255){a=true;break}}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",a)},showText:function e(t){var r=this.current;var a=r.font;if(a.isType3Font){return this.showType3Text(t)}var i=r.fontSize;if(i===0){return undefined}var o=this.ctx;var s=r.fontSizeScale;var l=r.charSpacing;var c=r.wordSpacing;var f=r.fontDirection;var h=r.textHScale*f;var d=t.length;var v=a.vertical;var p=v?1:-1;var g=a.defaultVMetrics;var m=i*r.fontMatrix[0];var y=r.textRenderingMode===n.TextRenderingMode.FILL&&!a.disableFontFace&&!r.patternFill;o.save();var b;if(r.patternFill){o.save();var _=r.fillColor.getPattern(o,this);b=o.mozCurrentTransform;o.restore();o.fillStyle=_}o.transform.apply(o,r.textMatrix);o.translate(r.x,r.y+r.textRise);if(f>0){o.scale(h,-1)}else{o.scale(h,1)}var A=r.lineWidth;var S=r.textMatrixScale;if(S===0||A===0){var w=r.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(w===n.TextRenderingMode.STROKE||w===n.TextRenderingMode.FILL_STROKE){this._cachedGetSinglePixelWidth=null;A=this.getSinglePixelWidth()*u}}else{A/=S}if(s!==1){o.scale(s,s);A/=s}o.lineWidth=A;var k=0,x;for(x=0;x<d;++x){var C=t[x];if((0,n.isNum)(C)){k+=p*C*i/1e3;continue}var P=false;var R=(C.isSpace?c:0)+l;var E=C.fontChar;var T=C.accent;var O,L,F,I;var j=C.width;if(v){var M,N,D;M=C.vmetric||g;N=C.vmetric?M[1]:j*.5;N=-N*m;D=M[2]*m;j=M?-M[0]:j;O=N/s;L=(k+D)/s}else{O=k/s;L=0}if(a.remeasure&&j>0){var q=o.measureText(E).width*1e3/i*s;if(j<q&&this.isFontSubpixelAAEnabled){var U=j/q;P=true;o.save();o.scale(U,1);O/=U}else if(j!==q){O+=(j-q)/2e3*i/s}}if(C.isInFont||a.missingFile){if(y&&!T){o.fillText(E,O,L)}else{this.paintChar(E,O,L,b);if(T){F=O+T.offset.x/s;I=L-T.offset.y/s;this.paintChar(T.fontChar,F,I,b)}}}var W=j*m+R*f;k+=W;if(P){o.restore()}}if(v){r.y-=k*h}else{r.x+=k*h}o.restore()},showType3Text:function e(t){var r=this.ctx;var a=this.current;var i=a.font;var o=a.fontSize;var s=a.fontDirection;var u=i.vertical?1:-1;var l=a.charSpacing;var c=a.wordSpacing;var f=a.textHScale*s;var h=a.fontMatrix||n.FONT_IDENTITY_MATRIX;var d=t.length;var v=a.textRenderingMode===n.TextRenderingMode.INVISIBLE;var p,g,m,y;if(v||o===0){return}this._cachedGetSinglePixelWidth=null;r.save();r.transform.apply(r,a.textMatrix);r.translate(a.x,a.y);r.scale(f,s);for(p=0;p<d;++p){g=t[p];if((0,n.isNum)(g)){y=u*g*o/1e3;this.ctx.translate(y,0);a.x+=y*f;continue}var b=(g.isSpace?c:0)+l;var _=i.charProcOperatorList[g.operatorListId];if(!_){(0,n.warn)('Type3 character "'.concat(g.operatorListId,'" is not available.'));continue}this.processingType3=g;this.save();r.scale(o,o);r.transform.apply(r,h);this.executeOperatorList(_);this.restore();var A=n.Util.applyTransform([g.width,0],h);m=A[0]*o+b;r.translate(m,0);a.x+=m*f}r.restore();this.processingType3=null},setCharWidth:function e(t,r){},setCharWidthAndBounds:function e(t,r,n,a,i,o){this.ctx.rect(n,a,i-n,o-a);this.clip();this.endPath()},getColorN_Pattern:function e(t){var r=this;var n;if(t[0]==="TilingPattern"){var i=t[1];var o=this.baseTransform||this.ctx.mozCurrentTransform.slice();var s={createCanvasGraphics:function e(t){return new m(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};n=new a.TilingPattern(t,i,this.ctx,s,o)}else{n=(0,a.getShadingPatternFromIR)(t)}return n},setStrokeColorN:function e(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function e(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=true},setStrokeRGBColor:function e(t,r,a){var i=n.Util.makeCssRgb(t,r,a);this.ctx.strokeStyle=i;this.current.strokeColor=i},setFillRGBColor:function e(t,r,a){var i=n.Util.makeCssRgb(t,r,a);this.ctx.fillStyle=i;this.current.fillColor=i;this.current.patternFill=false},shadingFill:function e(t){var r=this.ctx;this.save();var i=(0,a.getShadingPatternFromIR)(t);r.fillStyle=i.getPattern(r,this,true);var o=r.mozCurrentTransformInverse;if(o){var s=r.canvas;var u=s.width;var l=s.height;var c=n.Util.applyTransform([0,0],o);var f=n.Util.applyTransform([0,l],o);var h=n.Util.applyTransform([u,0],o);var d=n.Util.applyTransform([u,l],o);var v=Math.min(c[0],f[0],h[0],d[0]);var p=Math.min(c[1],f[1],h[1],d[1]);var g=Math.max(c[0],f[0],h[0],d[0]);var m=Math.max(c[1],f[1],h[1],d[1]);this.ctx.fillRect(v,p,g-v,m-p)}else{this.ctx.fillRect(-1e10,-1e10,2e10,2e10)}this.restore()},beginInlineImage:function e(){(0,n.unreachable)("Should not call beginInlineImage")},beginImageData:function e(){(0,n.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function e(t,r){this.save();this.baseTransformStack.push(this.baseTransform);if(Array.isArray(t)&&t.length===6){this.transform.apply(this,t)}this.baseTransform=this.ctx.mozCurrentTransform;if(r){var n=r[2]-r[0];var a=r[3]-r[1];this.ctx.rect(r[0],r[1],n,a);this.clip();this.endPath()}},paintFormXObjectEnd:function e(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function e(t){this.save();var r=this.ctx;if(!t.isolated){(0,n.info)("TODO: Support non-isolated groups.")}if(t.knockout){(0,n.warn)("Knockout groups not supported.")}var a=r.mozCurrentTransform;if(t.matrix){r.transform.apply(r,t.matrix)}if(!t.bbox){throw new Error("Bounding box is required.")}var i=n.Util.getAxialAlignedBoundingBox(t.bbox,r.mozCurrentTransform);var o=[0,0,r.canvas.width,r.canvas.height];i=n.Util.intersect(i,o)||[0,0,0,0];var u=Math.floor(i[0]);var l=Math.floor(i[1]);var c=Math.max(Math.ceil(i[2])-u,1);var f=Math.max(Math.ceil(i[3])-l,1);var h=1,d=1;if(c>s){h=c/s;c=s}if(f>s){d=f/s;f=s}var v="groupAt"+this.groupLevel;if(t.smask){v+="_smask_"+this.smaskCounter++%2}var p=this.cachedCanvases.getCanvas(v,c,f,true);var g=p.context;g.scale(1/h,1/d);g.translate(-u,-l);g.transform.apply(g,a);if(t.smask){this.smaskStack.push({canvas:p.canvas,context:g,offsetX:u,offsetY:l,scaleX:h,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null})}else{r.setTransform(1,0,0,1,0,0);r.translate(u,l);r.scale(h,d)}_(r,g);this.ctx=g;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(r);this.groupLevel++;this.current.activeSMask=null},endGroup:function e(t){this.groupLevel--;var r=this.ctx;this.ctx=this.groupStack.pop();if(this.ctx.imageSmoothingEnabled!==undefined){this.ctx.imageSmoothingEnabled=false}else{this.ctx.mozImageSmoothingEnabled=false}if(t.smask){this.tempSMask=this.smaskStack.pop()}else{this.ctx.drawImage(r.canvas,0,0)}this.restore()},beginAnnotations:function e(){this.save();if(this.baseTransform){this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},endAnnotations:function e(){this.restore()},beginAnnotation:function e(t,r,n){this.save();A(this.ctx);this.current=new g;if(Array.isArray(t)&&t.length===4){var a=t[2]-t[0];var i=t[3]-t[1];this.ctx.rect(t[0],t[1],a,i);this.clip();this.endPath()}this.transform.apply(this,r);this.transform.apply(this,n)},endAnnotation:function e(){this.restore()},paintJpegXObject:function e(t,r,a){var i=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(!i){(0,n.warn)("Dependent image isn't ready yet");return}this.save();var o=this.ctx;o.scale(1/r,-1/a);o.drawImage(i,0,0,i.width,i.height,0,-a,r,a);if(this.imageLayer){var s=o.mozCurrentTransformInverse;var u=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:u[0],top:u[1],width:r/s[0],height:a/s[3]})}this.restore()},paintImageMaskXObject:function e(t){var r=this.ctx;var n=t.width,a=t.height;var i=this.current.fillColor;var o=this.current.patternFill;var s=this.processingType3;if(l&&s&&s.compiled===undefined){if(n<=c&&a<=c){s.compiled=p({data:t.data,width:n,height:a})}else{s.compiled=null}}if(s&&s.compiled){s.compiled(r);return}var u=this.cachedCanvases.getCanvas("maskCanvas",n,a);var f=u.context;f.save();b(f,t);f.globalCompositeOperation="source-in";f.fillStyle=o?i.getPattern(f,this):i;f.fillRect(0,0,n,a);f.restore();this.paintInlineImageXObject(u.canvas)},paintImageMaskXObjectRepeat:function e(t,r,n,a){var i=t.width;var o=t.height;var s=this.current.fillColor;var u=this.current.patternFill;var l=this.cachedCanvases.getCanvas("maskCanvas",i,o);var c=l.context;c.save();b(c,t);c.globalCompositeOperation="source-in";c.fillStyle=u?s.getPattern(c,this):s;c.fillRect(0,0,i,o);c.restore();var f=this.ctx;for(var h=0,d=a.length;h<d;h+=2){f.save();f.transform(r,0,0,n,a[h],a[h+1]);f.scale(1,-1);f.drawImage(l.canvas,0,0,i,o,0,-1,1,1);f.restore()}},paintImageMaskXObjectGroup:function e(t){var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;for(var i=0,o=t.length;i<o;i++){var s=t[i];var u=s.width,l=s.height;var c=this.cachedCanvases.getCanvas("maskCanvas",u,l);var f=c.context;f.save();b(f,s);f.globalCompositeOperation="source-in";f.fillStyle=a?n.getPattern(f,this):n;f.fillRect(0,0,u,l);f.restore();r.save();r.transform.apply(r,s.transform);r.scale(1,-1);r.drawImage(c.canvas,0,0,u,l,0,-1,1,1);r.restore()}},paintImageXObject:function e(t){var r=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(!r){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)},paintImageXObjectRepeat:function e(t,r,a,i){var o=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(!o){(0,n.warn)("Dependent image isn't ready yet");return}var s=o.width;var u=o.height;var l=[];for(var c=0,f=i.length;c<f;c+=2){l.push({transform:[r,0,0,a,i[c],i[c+1]],x:0,y:0,w:s,h:u})}this.paintInlineImageXObjectGroup(o,l)},paintInlineImageXObject:function e(t){var r=t.width;var n=t.height;var a=this.ctx;this.save();a.scale(1/r,-1/n);var i=a.mozCurrentTransformInverse;var o=i[0],s=i[1];var u=Math.max(Math.sqrt(o*o+s*s),1);var l=i[2],c=i[3];var f=Math.max(Math.sqrt(l*l+c*c),1);var h,d;if(typeof HTMLElement==="function"&&t instanceof HTMLElement||!t.data){h=t}else{d=this.cachedCanvases.getCanvas("inlineImage",r,n);var v=d.context;y(v,t);h=d.canvas}var p=r,g=n;var m="prescale1";while(u>2&&p>1||f>2&&g>1){var b=p,_=g;if(u>2&&p>1){b=Math.ceil(p/2);u/=p/b}if(f>2&&g>1){_=Math.ceil(g/2);f/=g/_}d=this.cachedCanvases.getCanvas(m,b,_);v=d.context;v.clearRect(0,0,b,_);v.drawImage(h,0,0,p,g,0,0,b,_);h=d.canvas;p=b;g=_;m=m==="prescale1"?"prescale2":"prescale1"}a.drawImage(h,0,0,p,g,0,-n,r,n);if(this.imageLayer){var A=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:A[0],top:A[1],width:r/i[0],height:n/i[3]})}this.restore()},paintInlineImageXObjectGroup:function e(t,r){var n=this.ctx;var a=t.width;var i=t.height;var o=this.cachedCanvases.getCanvas("inlineImage",a,i);var s=o.context;y(s,t);for(var u=0,l=r.length;u<l;u++){var c=r[u];n.save();n.transform.apply(n,c.transform);n.scale(1,-1);n.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1);if(this.imageLayer){var f=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:t,left:f[0],top:f[1],width:a,height:i})}n.restore()}},paintSolidColorImageMask:function e(){this.ctx.fillRect(0,0,1,1)},paintXObject:function e(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function e(t){},markPointProps:function e(t,r){},beginMarkedContent:function e(t){},beginMarkedContentProps:function e(t,r){},endMarkedContent:function e(){},beginCompat:function e(){},endCompat:function e(){},consumePath:function e(){var t=this.ctx;if(this.pendingClip){if(this.pendingClip===T){t.clip("evenodd")}else{t.clip()}this.pendingClip=null}t.beginPath()},getSinglePixelWidth:function e(t){if(this._cachedGetSinglePixelWidth===null){var r=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function e(t,r){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*r+n[4],n[1]*t+n[3]*r+n[5]]}};for(var O in n.OPS){m.prototype[n.OPS[O]]=m.prototype[O]}return m}();t.CanvasGraphics=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getShadingPatternFromIR=s;t.TilingPattern=void 0;var n=r(1);var a={};function i(e,t){if(!t||typeof Path2D==="undefined"){return}var r=t[2]-t[0];var n=t[3]-t[1];var a=new Path2D;a.rect(t[0],t[1],r,n);e.clip(a)}a.RadialAxial={fromIR:function e(t){var r=t[1];var n=t[2];var a=t[3];var o=t[4];var s=t[5];var u=t[6];var l=t[7];return{type:"Pattern",getPattern:function e(t){i(t,n);var c;if(r==="axial"){c=t.createLinearGradient(o[0],o[1],s[0],s[1])}else if(r==="radial"){c=t.createRadialGradient(o[0],o[1],u,s[0],s[1],l)}for(var f=0,h=a.length;f<h;++f){var d=a[f];c.addColorStop(d[0],d[1])}return c}}}};var o=function e(){function t(e,t,r,n,a,i,o,s){var u=t.coords,l=t.colors;var c=e.data,f=e.width*4;var h;if(u[r+1]>u[n+1]){h=r;r=n;n=h;h=i;i=o;o=h}if(u[n+1]>u[a+1]){h=n;n=a;a=h;h=o;o=s;s=h}if(u[r+1]>u[n+1]){h=r;r=n;n=h;h=i;i=o;o=h}var d=(u[r]+t.offsetX)*t.scaleX;var v=(u[r+1]+t.offsetY)*t.scaleY;var p=(u[n]+t.offsetX)*t.scaleX;var g=(u[n+1]+t.offsetY)*t.scaleY;var m=(u[a]+t.offsetX)*t.scaleX;var y=(u[a+1]+t.offsetY)*t.scaleY;if(v>=y){return}var b=l[i],_=l[i+1],A=l[i+2];var S=l[o],w=l[o+1],k=l[o+2];var x=l[s],C=l[s+1],P=l[s+2];var R=Math.round(v),E=Math.round(y);var T,O,L,F;var I,j,M,N;var D;for(var q=R;q<=E;q++){if(q<g){D=q<v?0:v===g?1:(v-q)/(v-g);T=d-(d-p)*D;O=b-(b-S)*D;L=_-(_-w)*D;F=A-(A-k)*D}else{D=q>y?1:g===y?0:(g-q)/(g-y);T=p-(p-m)*D;O=S-(S-x)*D;L=w-(w-C)*D;F=k-(k-P)*D}D=q<v?0:q>y?1:(v-q)/(v-y);I=d-(d-m)*D;j=b-(b-x)*D;M=_-(_-C)*D;N=A-(A-P)*D;var U=Math.round(Math.min(T,I));var W=Math.round(Math.max(T,I));var B=f*q+U*4;for(var z=U;z<=W;z++){D=(T-z)/(T-I);D=D<0?0:D>1?1:D;c[B++]=O-(O-j)*D|0;c[B++]=L-(L-M)*D|0;c[B++]=F-(F-N)*D|0;c[B++]=255}}}function r(e,r,n){var a=r.coords;var i=r.colors;var o,s;switch(r.type){case"lattice":var u=r.verticesPerRow;var l=Math.floor(a.length/u)-1;var c=u-1;for(o=0;o<l;o++){var f=o*u;for(var h=0;h<c;h++,f++){t(e,n,a[f],a[f+1],a[f+u],i[f],i[f+1],i[f+u]);t(e,n,a[f+u+1],a[f+1],a[f+u],i[f+u+1],i[f+1],i[f+u])}}break;case"triangles":for(o=0,s=a.length;o<s;o+=3){t(e,n,a[o],a[o+1],a[o+2],i[o],i[o+1],i[o+2])}break;default:throw new Error("illegal figure")}}function n(e,t,n,a,i,o,s,u){var l=1.1;var c=3e3;var f=2;var h=Math.floor(e[0]);var d=Math.floor(e[1]);var v=Math.ceil(e[2])-h;var p=Math.ceil(e[3])-d;var g=Math.min(Math.ceil(Math.abs(v*t[0]*l)),c);var m=Math.min(Math.ceil(Math.abs(p*t[1]*l)),c);var y=v/g;var b=p/m;var _={coords:n,colors:a,offsetX:-h,offsetY:-d,scaleX:1/y,scaleY:1/b};var A=g+f*2;var S=m+f*2;var w,k,x,C;if(u.isEnabled){w=u.drawFigures({width:g,height:m,backgroundColor:o,figures:i,context:_});k=s.getCanvas("mesh",A,S,false);k.context.drawImage(w,f,f);w=k.canvas}else{k=s.getCanvas("mesh",A,S,false);var P=k.context;var R=P.createImageData(g,m);if(o){var E=R.data;for(x=0,C=E.length;x<C;x+=4){E[x]=o[0];E[x+1]=o[1];E[x+2]=o[2];E[x+3]=255}}for(x=0;x<i.length;x++){r(R,i[x],_)}P.putImageData(R,f,f);w=k.canvas}return{canvas:w,offsetX:h-f*y,offsetY:d-f*b,scaleX:y,scaleY:b}}return n}();a.Mesh={fromIR:function e(t){var r=t[2];var a=t[3];var s=t[4];var u=t[5];var l=t[6];var c=t[7];var f=t[8];return{type:"Pattern",getPattern:function e(t,h,d){i(t,c);var v;if(d){v=n.Util.singularValueDecompose2dScale(t.mozCurrentTransform)}else{v=n.Util.singularValueDecompose2dScale(h.baseTransform);if(l){var p=n.Util.singularValueDecompose2dScale(l);v=[v[0]*p[0],v[1]*p[1]]}}var g=o(u,v,r,a,s,d?null:f,h.cachedCanvases,h.webGLContext);if(!d){t.setTransform.apply(t,h.baseTransform);if(l){t.transform.apply(t,l)}}t.translate(g.offsetX,g.offsetY);t.scale(g.scaleX,g.scaleY);return t.createPattern(g.canvas,"no-repeat")}}}};a.Dummy={fromIR:function e(){return{type:"Pattern",getPattern:function e(){return"hotpink"}}}};function s(e){var t=a[e[0]];if(!t){throw new Error("Unknown IR type: ".concat(e[0]))}return t.fromIR(e)}var u=function e(){var t={COLORED:1,UNCOLORED:2};var r=3e3;function a(e,t,r,n,a){this.operatorList=e[2];this.matrix=e[3]||[1,0,0,1,0,0];this.bbox=e[4];this.xstep=e[5];this.ystep=e[6];this.paintType=e[7];this.tilingType=e[8];this.color=t;this.canvasGraphicsFactory=n;this.baseTransform=a;this.type="Pattern";this.ctx=r}a.prototype={createPatternCanvas:function e(t){var r=this.operatorList;var a=this.bbox;var i=this.xstep;var o=this.ystep;var s=this.paintType;var u=this.tilingType;var l=this.color;var c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+u);var f=a[0],h=a[1],d=a[2],v=a[3];var p=n.Util.singularValueDecompose2dScale(this.matrix);var g=n.Util.singularValueDecompose2dScale(this.baseTransform);var m=[p[0]*g[0],p[1]*g[1]];var y=this.getSizeAndScale(i,this.ctx.canvas.width,m[0]);var b=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]);var _=t.cachedCanvases.getCanvas("pattern",y.size,b.size,true);var A=_.context;var S=c.createCanvasGraphics(A);S.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(S,s,l);S.transform(y.scale,0,0,b.scale,0,0);S.transform(1,0,0,1,-f,-h);this.clipBbox(S,a,f,h,d,v);S.executeOperatorList(r);this.ctx.transform(1,0,0,1,f,h);this.ctx.scale(1/y.scale,1/b.scale);return _.canvas},getSizeAndScale:function e(t,n,a){t=Math.abs(t);var i=Math.max(r,n);var o=Math.ceil(t*a);if(o>=i){o=i}else{a=o/t}return{scale:a,size:o}},clipBbox:function e(t,r,n,a,i,o){if(Array.isArray(r)&&r.length===4){var s=i-n;var u=o-a;t.ctx.rect(n,a,s,u);t.clip();t.endPath()}},setFillAndStrokeStyleToContext:function e(r,a,i){var o=r.ctx,s=r.current;switch(a){case t.COLORED:var u=this.ctx;o.fillStyle=u.fillStyle;o.strokeStyle=u.strokeStyle;s.fillColor=u.fillStyle;s.strokeColor=u.strokeStyle;break;case t.UNCOLORED:var l=n.Util.makeCssRgb(i[0],i[1],i[2]);o.fillStyle=l;o.strokeStyle=l;s.fillColor=l;s.strokeColor=l;break;default:throw new n.FormatError("Unsupported paint type: ".concat(a))}},getPattern:function e(t,r){t=this.ctx;t.setTransform.apply(t,this.baseTransform);t.transform.apply(t,this.matrix);var n=this.createPatternCanvas(r);return t.createPattern(n,"repeat")}};return a}();t.TilingPattern=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GlobalWorkerOptions=void 0;var n=Object.create(null);t.GlobalWorkerOptions=n;n.workerPort=n.workerPort===undefined?null:n.workerPort;n.workerSrc=n.workerSrc===undefined?"":n.workerSrc},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MessageHandler=s;var n=r(1);function a(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function e(t){return typeof t}}else{a=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return a(e)}var i={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(e){if(a(e)!=="object"){return e}switch(e.name){case"AbortException":return new n.AbortException(e.message);case"MissingPDFException":return new n.MissingPDFException(e.message);case"UnexpectedResponseException":return new n.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new n.UnknownErrorException(e.message,e.details);default:return new n.UnknownErrorException(e.message,e.toString())}}function s(e,t,r){var n=this;this.sourceName=e;this.targetName=t;this.comObj=r;this.callbackId=1;this.streamId=1;this.postMessageTransfers=true;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var a=this.callbacksCapabilities=Object.create(null);var i=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName!==n.sourceName){return}if(t.stream){n._processStreamMessage(t)}else if(t.isReply){var s=t.callbackId;if(t.callbackId in a){var u=a[s];delete a[s];if("reason"in t){u.reject(o(t.reason))}else{u.resolve(t.data)}}else{throw new Error("Cannot resolve callback ".concat(s))}}else if(t.action in i){var l=i[t.action];if(t.callbackId){var c=n.sourceName;var f=t.sourceName;new Promise(function(e){e(l(t.data))}).then(function(e){r.postMessage({sourceName:c,targetName:f,isReply:true,callbackId:t.callbackId,data:e})},function(e){r.postMessage({sourceName:c,targetName:f,isReply:true,callbackId:t.callbackId,reason:o(e)})})}else if(t.streamId){n._createStreamSink(t)}else{l(t.data)}}else{throw new Error("Unknown action from worker: ".concat(t.action))}};r.addEventListener("message",this._onComObjOnMessage)}s.prototype={on:function e(t,r){var n=this.actionHandler;if(n[t]){throw new Error('There is already an actionName called "'.concat(t,'"'))}n[t]=r},send:function e(t,r,n){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},n)},sendWithPromise:function e(t,r,a){var i=this.callbackId++;var o=(0,n.createPromiseCapability)();this.callbacksCapabilities[i]=o;try{this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:r},a)}catch(e){o.reject(e)}return o.promise},sendWithStream:function e(t,r,a,s){var u=this;var l=this.streamId++;var c=this.sourceName;var f=this.targetName;var h=this.comObj;return new n.ReadableStream({start:function e(a){var i=(0,n.createPromiseCapability)();u.streamControllers[l]={controller:a,startCall:i,pullCall:null,cancelCall:null,isClosed:false};u.postMessage({sourceName:c,targetName:f,action:t,streamId:l,data:r,desiredSize:a.desiredSize},s);return i.promise},pull:function e(t){var r=(0,n.createPromiseCapability)();u.streamControllers[l].pullCall=r;h.postMessage({sourceName:c,targetName:f,stream:i.PULL,streamId:l,desiredSize:t.desiredSize});return r.promise},cancel:function e(t){(0,n.assert)(t instanceof Error,"cancel must have a valid reason");var r=(0,n.createPromiseCapability)();u.streamControllers[l].cancelCall=r;u.streamControllers[l].isClosed=true;h.postMessage({sourceName:c,targetName:f,stream:i.CANCEL,streamId:l,reason:o(t)});return r.promise}},a)},_createStreamSink:function e(t){var r=this;var a=this.actionHandler[t.action];var s=t.streamId;var u=t.desiredSize;var l=this.sourceName;var c=t.sourceName;var f=(0,n.createPromiseCapability)();var h=this.comObj;var d={enqueue:function e(t){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o=arguments.length>2?arguments[2]:undefined;if(this.isCancelled){return}var u=this.desiredSize;this.desiredSize-=a;if(u>0&&this.desiredSize<=0){this.sinkCapability=(0,n.createPromiseCapability)();this.ready=this.sinkCapability.promise}r.postMessage({sourceName:l,targetName:c,stream:i.ENQUEUE,streamId:s,chunk:t},o)},close:function e(){if(this.isCancelled){return}this.isCancelled=true;h.postMessage({sourceName:l,targetName:c,stream:i.CLOSE,streamId:s});delete r.streamSinks[s]},error:function e(t){(0,n.assert)(t instanceof Error,"error must have a valid reason");if(this.isCancelled){return}this.isCancelled=true;h.postMessage({sourceName:l,targetName:c,stream:i.ERROR,streamId:s,reason:o(t)})},sinkCapability:f,onPull:null,onCancel:null,isCancelled:false,desiredSize:u,ready:null};d.sinkCapability.resolve();d.ready=d.sinkCapability.promise;this.streamSinks[s]=d;new Promise(function(e){e(a(t.data,d))}).then(function(){h.postMessage({sourceName:l,targetName:c,stream:i.START_COMPLETE,streamId:s,success:true})},function(e){h.postMessage({sourceName:l,targetName:c,stream:i.START_COMPLETE,streamId:s,reason:o(e)})})},_processStreamMessage:function e(t){var r=this;var a=this.sourceName;var s=t.sourceName;var u=t.streamId;var l=this.comObj;var c=function e(){Promise.all([r.streamControllers[u].startCall,r.streamControllers[u].pullCall,r.streamControllers[u].cancelCall].map(function(e){return e&&e.promise["catch"](function(){})})).then(function(){delete r.streamControllers[u]})};switch(t.stream){case i.START_COMPLETE:if(t.success){this.streamControllers[u].startCall.resolve()}else{this.streamControllers[u].startCall.reject(o(t.reason))}break;case i.PULL_COMPLETE:if(t.success){this.streamControllers[u].pullCall.resolve()}else{this.streamControllers[u].pullCall.reject(o(t.reason))}break;case i.PULL:if(!this.streamSinks[u]){l.postMessage({sourceName:a,targetName:s,stream:i.PULL_COMPLETE,streamId:u,success:true});break}if(this.streamSinks[u].desiredSize<=0&&t.desiredSize>0){this.streamSinks[u].sinkCapability.resolve()}this.streamSinks[u].desiredSize=t.desiredSize;var f=this.streamSinks[t.streamId].onPull;new Promise(function(e){e(f&&f())}).then(function(){l.postMessage({sourceName:a,targetName:s,stream:i.PULL_COMPLETE,streamId:u,success:true})},function(e){l.postMessage({sourceName:a,targetName:s,stream:i.PULL_COMPLETE,streamId:u,reason:o(e)})});break;case i.ENQUEUE:(0,n.assert)(this.streamControllers[u],"enqueue should have stream controller");if(this.streamControllers[u].isClosed){break}this.streamControllers[u].controller.enqueue(t.chunk);break;case i.CLOSE:(0,n.assert)(this.streamControllers[u],"close should have stream controller");if(this.streamControllers[u].isClosed){break}this.streamControllers[u].isClosed=true;this.streamControllers[u].controller.close();c();break;case i.ERROR:(0,n.assert)(this.streamControllers[u],"error should have stream controller");this.streamControllers[u].controller.error(o(t.reason));c();break;case i.CANCEL_COMPLETE:if(t.success){this.streamControllers[u].cancelCall.resolve()}else{this.streamControllers[u].cancelCall.reject(o(t.reason))}c();break;case i.CANCEL:if(!this.streamSinks[u]){break}var h=this.streamSinks[t.streamId].onCancel;new Promise(function(e){e(h&&h(o(t.reason)))}).then(function(){l.postMessage({sourceName:a,targetName:s,stream:i.CANCEL_COMPLETE,streamId:u,success:true})},function(e){l.postMessage({sourceName:a,targetName:s,stream:i.CANCEL_COMPLETE,streamId:u,reason:o(e)})});this.streamSinks[u].sinkCapability.reject(o(t.reason));this.streamSinks[u].isCancelled=true;delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}},postMessage:function e(t,r){if(r&&this.postMessageTransfers){this.comObj.postMessage(t,r)}else{this.comObj.postMessage(t)}},destroy:function e(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Metadata=void 0;var n=r(1);var a=r(191);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=function(){function e(t){i(this,e);(0,n.assert)(typeof t==="string","Metadata: input is not a string");t=this._repair(t);var r=new a.SimpleXMLParser;var o=r.parseFromString(t);this._metadata=Object.create(null);if(o){this._parse(o)}}s(e,[{key:"_repair",value:function e(t){return t.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(e,t){var r=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,r,n){return String.fromCharCode(t*64+r*8+n*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))});var n="";for(var a=0,i=r.length;a<i;a+=2){var o=r.charCodeAt(a)*256+r.charCodeAt(a+1);if(o>=32&&o<127&&o!==60&&o!==62&&o!==38){n+=String.fromCharCode(o)}else{n+="&#x"+(65536+o).toString(16).substring(1)+";"}}return">"+n})}},{key:"_parse",value:function e(t){var r=t.documentElement;if(r.nodeName.toLowerCase()!=="rdf:rdf"){r=r.firstChild;while(r&&r.nodeName.toLowerCase()!=="rdf:rdf"){r=r.nextSibling}}var n=r?r.nodeName.toLowerCase():null;if(!r||n!=="rdf:rdf"||!r.hasChildNodes()){return}var a=r.childNodes;for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.nodeName.toLowerCase()!=="rdf:description"){continue}for(var u=0,l=s.childNodes.length;u<l;u++){if(s.childNodes[u].nodeName.toLowerCase()!=="#text"){var c=s.childNodes[u];var f=c.nodeName.toLowerCase();this._metadata[f]=c.textContent.trim()}}}}},{key:"get",value:function e(t){var r=this._metadata[t];return typeof r!=="undefined"?r:null}},{key:"getAll",value:function e(){return this._metadata}},{key:"has",value:function e(t){return typeof this._metadata[t]!=="undefined"}}]);return e}();t.Metadata=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SimpleXMLParser=void 0;function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}function a(e,t){return s(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function s(e){if(Array.isArray(e))return e}function u(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){c=Reflect.get}else{c=function e(t,r,n){var a=f(t,r);if(!a)return;var i=Object.getOwnPropertyDescriptor(a,r);if(i.get){return i.get.call(n)}return i.value}}return c(e,t,r||e)}function f(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=h(e);if(e===null)break}return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var y={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function b(e,t){var r=e[t];return r===" "||r==="\n"||r==="\r"||r==="\t"}function _(e){for(var t=0,r=e.length;t<r;t++){if(!b(e,t)){return false}}return true}var A=function(){function e(){p(this,e)}m(e,[{key:"_resolveEntities",value:function e(t){var r=this;return t.replace(/&([^;]+);/g,function(e,t){if(t.substring(0,2)==="#x"){return String.fromCharCode(parseInt(t.substring(2),16))}else if(t.substring(0,1)==="#"){return String.fromCharCode(parseInt(t.substring(1),10))}switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return r.onResolveEntity(t)})}},{key:"_parseContent",value:function e(t,r){var n=r,a,i=[];function o(){while(n<t.length&&b(t,n)){++n}}while(n<t.length&&!b(t,n)&&t[n]!==">"&&t[n]!=="/"){++n}a=t.substring(r,n);o();while(n<t.length&&t[n]!==">"&&t[n]!=="/"&&t[n]!=="?"){o();var s="",u="";while(n<t.length&&!b(t,n)&&t[n]!=="="){s+=t[n];++n}o();if(t[n]!=="="){return null}++n;o();var l=t[n];if(l!=='"'&&l!=="'"){return null}var c=t.indexOf(l,++n);if(c<0){return null}u=t.substring(n,c);i.push({name:s,value:this._resolveEntities(u)});n=c+1;o()}return{name:a,attributes:i,parsed:n-r}}},{key:"_parseProcessingInstruction",value:function e(t,r){var n=r,a,i;function o(){while(n<t.length&&b(t,n)){++n}}while(n<t.length&&!b(t,n)&&t[n]!==">"&&t[n]!=="/"){++n}a=t.substring(r,n);o();var s=n;while(n<t.length&&(t[n]!=="?"||t[n+1]!==">")){++n}i=t.substring(s,n);return{name:a,value:i,parsed:n-r}}},{key:"parseXml",value:function e(t){var r=0;while(r<t.length){var n=t[r];var a=r;if(n==="<"){++a;var i=t[a];var o=void 0;switch(i){case"/":++a;o=t.indexOf(">",a);if(o<0){this.onError(y.UnterminatedElement);return}this.onEndElement(t.substring(a,o));a=o+1;break;case"?":++a;var s=this._parseProcessingInstruction(t,a);if(t.substring(a+s.parsed,a+s.parsed+2)!=="?>"){this.onError(y.UnterminatedXmlDeclaration);return}this.onPi(s.name,s.value);a+=s.parsed+2;break;case"!":if(t.substring(a+1,a+3)==="--"){o=t.indexOf("--\x3e",a+3);if(o<0){this.onError(y.UnterminatedComment);return}this.onComment(t.substring(a+3,o));a=o+3}else if(t.substring(a+1,a+8)==="[CDATA["){o=t.indexOf("]]>",a+8);if(o<0){this.onError(y.UnterminatedCdat);return}this.onCdata(t.substring(a+8,o));a=o+3}else if(t.substring(a+1,a+8)==="DOCTYPE"){var u=t.indexOf("[",a+8);var l=false;o=t.indexOf(">",a+8);if(o<0){this.onError(y.UnterminatedDoctypeDeclaration);return}if(u>0&&o>u){o=t.indexOf("]>",a+8);if(o<0){this.onError(y.UnterminatedDoctypeDeclaration);return}l=true}var c=t.substring(a+8,o+(l?1:0));this.onDoctype(c);a=o+(l?2:1)}else{this.onError(y.MalformedElement);return}break;default:var f=this._parseContent(t,a);if(f===null){this.onError(y.MalformedElement);return}var h=false;if(t.substring(a+f.parsed,a+f.parsed+2)==="/>"){h=true}else if(t.substring(a+f.parsed,a+f.parsed+1)!==">"){this.onError(y.UnterminatedElement);return}this.onBeginElement(f.name,f.attributes,h);a+=f.parsed+(h?2:1);break}}else{while(a<t.length&&t[a]!=="<"){a++}var d=t.substring(r,a);this.onText(this._resolveEntities(d))}r=a}}},{key:"onResolveEntity",value:function e(t){return"&".concat(t,";")}},{key:"onPi",value:function e(t,r){}},{key:"onComment",value:function e(t){}},{key:"onCdata",value:function e(t){}},{key:"onDoctype",value:function e(t){}},{key:"onText",value:function e(t){}},{key:"onBeginElement",value:function e(t,r,n){}},{key:"onEndElement",value:function e(t){}},{key:"onError",value:function e(t){}}]);return e}();var S=function(){function e(t,r){p(this,e);this.nodeName=t;this.nodeValue=r;Object.defineProperty(this,"parentNode",{value:null,writable:true})}m(e,[{key:"hasChildNodes",value:function e(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function e(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function e(){var t=this.parentNode.childNodes;if(!t){return undefined}var r=t.indexOf(this);if(r===-1){return undefined}return t[r+1]}},{key:"textContent",get:function e(){if(!this.childNodes){return this.nodeValue||""}return this.childNodes.map(function(e){return e.textContent}).join("")}}]);return e}();var w=function(e){d(t,e);function t(){var e;p(this,t);e=u(this,h(t).call(this));e._currentFragment=null;e._stack=null;e._errorCode=y.NoError;return e}m(t,[{key:"parseFromString",value:function e(t){this._currentFragment=[];this._stack=[];this._errorCode=y.NoError;this.parseXml(t);if(this._errorCode!==y.NoError){return undefined}var r=a(this._currentFragment,1),n=r[0];if(!n){return undefined}return{documentElement:n}}},{key:"onResolveEntity",value:function e(r){switch(r){case"apos":return"'"}return c(h(t.prototype),"onResolveEntity",this).call(this,r)}},{key:"onText",value:function e(t){if(_(t)){return}var r=new S("#text",t);this._currentFragment.push(r)}},{key:"onCdata",value:function e(t){var r=new S("#text",t);this._currentFragment.push(r)}},{key:"onBeginElement",value:function e(t,r,n){var a=new S(t);a.childNodes=[];this._currentFragment.push(a);if(n){return}this._stack.push(this._currentFragment);this._currentFragment=a.childNodes}},{key:"onEndElement",value:function e(t){this._currentFragment=this._stack.pop()||[];var r=this._currentFragment[this._currentFragment.length-1];if(!r){return}for(var n=0,a=r.childNodes.length;n<a;n++){r.childNodes[n].parentNode=r}}},{key:"onError",value:function e(t){this._errorCode=t}}]);return t}(A);t.SimpleXMLParser=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFDataTransportStream=void 0;var n=i(r(180));var a=r(1);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,u,"next",e)}function u(e){o(i,n,a,s,u,"throw",e)}s(undefined)})}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function c(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);return e}var f=function(){function e(t,r){var n=this;u(this,e);(0,a.assert)(r);this._queuedChunks=[];this._progressiveDone=t.progressiveDone||false;var i=t.initialData;if(i&&i.length>0){var o=new Uint8Array(i).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=r;this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._contentLength=t.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(e,t){n._onReceiveData({begin:e,chunk:t})});this._pdfDataRangeTransport.addProgressListener(function(e,t){n._onProgress({loaded:e,total:t})});this._pdfDataRangeTransport.addProgressiveReadListener(function(e){n._onReceiveData({chunk:e})});this._pdfDataRangeTransport.addProgressiveDoneListener(function(){n._onProgressiveDone()});this._pdfDataRangeTransport.transportReady()}c(e,[{key:"_onReceiveData",value:function e(t){var r=new Uint8Array(t.chunk).buffer;if(t.begin===undefined){if(this._fullRequestReader){this._fullRequestReader._enqueue(r)}else{this._queuedChunks.push(r)}}else{var n=this._rangeReaders.some(function(e){if(e._begin!==t.begin){return false}e._enqueue(r);return true});(0,a.assert)(n)}}},{key:"_onProgress",value:function e(t){if(t.total===undefined){var r=this._rangeReaders[0];if(r&&r.onProgress){r.onProgress({loaded:t.loaded})}}else{var n=this._fullRequestReader;if(n&&n.onProgress){n.onProgress({loaded:t.loaded,total:t.total})}}}},{key:"_onProgressiveDone",value:function e(){if(this._fullRequestReader){this._fullRequestReader.progressiveDone()}this._progressiveDone=true}},{key:"_removeRangeReader",value:function e(t){var r=this._rangeReaders.indexOf(t);if(r>=0){this._rangeReaders.splice(r,1)}}},{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);var t=this._queuedChunks;this._queuedChunks=null;return new h(this,t,this._progressiveDone)}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=new d(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeReaders.slice(0);r.forEach(function(e){e.cancel(t)});this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function e(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return e}();t.PDFDataTransportStream=f;var h=function(){function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;u(this,e);this._stream=t;this._done=n||false;this._filename=null;this._queuedChunks=r||[];this._loaded=0;var a=true;var i=false;var o=undefined;try{for(var s=this._queuedChunks[Symbol.iterator](),l;!(a=(l=s.next()).done);a=true){var c=l.value;this._loaded+=c.byteLength}}catch(e){i=true;o=e}finally{try{if(!a&&s["return"]!=null){s["return"]()}}finally{if(i){throw o}}}this._requests=[];this._headersReady=Promise.resolve();t._fullRequestReader=this;this.onProgress=null}c(e,[{key:"_enqueue",value:function e(t){if(this._done){return}if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t,done:false})}else{this._queuedChunks.push(t)}this._loaded+=t.byteLength}},{key:"read",value:function(){var e=s(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this._queuedChunks.length>0)){n.next=3;break}t=this._queuedChunks.shift();return n.abrupt("return",{value:t,done:false});case 3:if(!this._done){n.next=5;break}return n.abrupt("return",{value:undefined,done:true});case 5:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 8:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}},{key:"progressiveDone",value:function e(){if(this._done){return}this._done=true}},{key:"headersReady",get:function e(){return this._headersReady}},{key:"filename",get:function e(){return this._filename}},{key:"isRangeSupported",get:function e(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function e(){return this._stream._contentLength}}]);return e}();var d=function(){function e(t,r,n){u(this,e);this._stream=t;this._begin=r;this._end=n;this._queuedChunk=null;this._requests=[];this._done=false;this.onProgress=null}c(e,[{key:"_enqueue",value:function e(t){if(this._done){return}if(this._requests.length===0){this._queuedChunk=t}else{var r=this._requests.shift();r.resolve({value:t,done:false});this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}this._done=true;this._stream._removeRangeReader(this)}},{key:"read",value:function(){var e=s(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!this._queuedChunk){n.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return n.abrupt("return",{value:t,done:false});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:undefined,done:true});case 6:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 9:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function e(){return false}}]);return e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WebGLContext=void 0;var n=r(1);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}var s=function(){function e(t){var r=t.enable,n=r===void 0?false:r;a(this,e);this._enabled=n===true}o(e,[{key:"composeSMask",value:function e(t){var r=t.layer,n=t.mask,a=t.properties;return u.composeSMask(r,n,a)}},{key:"drawFigures",value:function e(t){var r=t.width,n=t.height,a=t.backgroundColor,i=t.figures,o=t.context;return u.drawFigures(r,n,a,i,o)}},{key:"clear",value:function e(){u.cleanup()}},{key:"isEnabled",get:function e(){var t=this._enabled;if(t){t=u.tryInitGL()}return(0,n.shadow)(this,"isEnabled",t)}}]);return e}();t.WebGLContext=s;var u=function e(){function t(e,t,r){var n=e.createShader(r);e.shaderSource(n,t);e.compileShader(n);var a=e.getShaderParameter(n,e.COMPILE_STATUS);if(!a){var i=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+i)}return n}function r(e,r){return t(e,r,e.VERTEX_SHADER)}function n(e,r){return t(e,r,e.FRAGMENT_SHADER)}function a(e,t){var r=e.createProgram();for(var n=0,a=t.length;n<a;++n){e.attachShader(r,t[n])}e.linkProgram(r);var i=e.getProgramParameter(r,e.LINK_STATUS);if(!i){var o=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+o)}return r}function i(e,t,r){e.activeTexture(r);var n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);return n}var o,s;function u(){if(o){return}s=document.createElement("canvas");o=s.getContext("webgl",{premultipliedalpha:false})}var l="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ";var c="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ";var f=null;function h(){var e,t;u();e=s;s=null;t=o;o=null;var i=r(t,l);var h=n(t,c);var d=a(t,[i,h]);t.useProgram(d);var v={};v.gl=t;v.canvas=e;v.resolutionLocation=t.getUniformLocation(d,"u_resolution");v.positionLocation=t.getAttribLocation(d,"a_position");v.backdropLocation=t.getUniformLocation(d,"u_backdrop");v.subtypeLocation=t.getUniformLocation(d,"u_subtype");var p=t.getAttribLocation(d,"a_texCoord");var g=t.getUniformLocation(d,"u_image");var m=t.getUniformLocation(d,"u_mask");var y=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,y);t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);t.enableVertexAttribArray(p);t.vertexAttribPointer(p,2,t.FLOAT,false,0,0);t.uniform1i(g,0);t.uniform1i(m,1);f=v}function d(e,t,r){var n=e.width,a=e.height;if(!f){h()}var o=f,s=o.canvas,u=o.gl;s.width=n;s.height=a;u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight);u.uniform2f(o.resolutionLocation,n,a);if(r.backdrop){u.uniform4f(o.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1)}else{u.uniform4f(o.resolutionLocation,0,0,0,0)}u.uniform1i(o.subtypeLocation,r.subtype==="Luminosity"?1:0);var l=i(u,e,u.TEXTURE0);var c=i(u,t,u.TEXTURE1);var d=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,d);u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,a,0,a,n,0,n,a]),u.STATIC_DRAW);u.enableVertexAttribArray(o.positionLocation);u.vertexAttribPointer(o.positionLocation,2,u.FLOAT,false,0,0);u.clearColor(0,0,0,0);u.enable(u.BLEND);u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA);u.clear(u.COLOR_BUFFER_BIT);u.drawArrays(u.TRIANGLES,0,6);u.flush();u.deleteTexture(l);u.deleteTexture(c);u.deleteBuffer(d);return s}var v="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ";var p="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ";var g=null;function m(){var e,t;u();e=s;s=null;t=o;o=null;var i=r(t,v);var l=n(t,p);var c=a(t,[i,l]);t.useProgram(c);var f={};f.gl=t;f.canvas=e;f.resolutionLocation=t.getUniformLocation(c,"u_resolution");f.scaleLocation=t.getUniformLocation(c,"u_scale");f.offsetLocation=t.getUniformLocation(c,"u_offset");f.positionLocation=t.getAttribLocation(c,"a_position");f.colorLocation=t.getAttribLocation(c,"a_color");g=f}function y(e,t,r,n,a){if(!g){m()}var i=g,o=i.canvas,s=i.gl;o.width=e;o.height=t;s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight);s.uniform2f(i.resolutionLocation,e,t);var u=0;var l,c,f;for(l=0,c=n.length;l<c;l++){switch(n[l].type){case"lattice":f=n[l].coords.length/n[l].verticesPerRow|0;u+=(f-1)*(n[l].verticesPerRow-1)*6;break;case"triangles":u+=n[l].coords.length;break}}var h=new Float32Array(u*2);var d=new Uint8Array(u*3);var v=a.coords,p=a.colors;var y=0,b=0;for(l=0,c=n.length;l<c;l++){var _=n[l],A=_.coords,S=_.colors;switch(_.type){case"lattice":var w=_.verticesPerRow;f=A.length/w|0;for(var k=1;k<f;k++){var x=k*w+1;for(var C=1;C<w;C++,x++){h[y]=v[A[x-w-1]];h[y+1]=v[A[x-w-1]+1];h[y+2]=v[A[x-w]];h[y+3]=v[A[x-w]+1];h[y+4]=v[A[x-1]];h[y+5]=v[A[x-1]+1];d[b]=p[S[x-w-1]];d[b+1]=p[S[x-w-1]+1];d[b+2]=p[S[x-w-1]+2];d[b+3]=p[S[x-w]];d[b+4]=p[S[x-w]+1];d[b+5]=p[S[x-w]+2];d[b+6]=p[S[x-1]];d[b+7]=p[S[x-1]+1];d[b+8]=p[S[x-1]+2];h[y+6]=h[y+2];h[y+7]=h[y+3];h[y+8]=h[y+4];h[y+9]=h[y+5];h[y+10]=v[A[x]];h[y+11]=v[A[x]+1];d[b+9]=d[b+3];d[b+10]=d[b+4];d[b+11]=d[b+5];d[b+12]=d[b+6];d[b+13]=d[b+7];d[b+14]=d[b+8];d[b+15]=p[S[x]];d[b+16]=p[S[x]+1];d[b+17]=p[S[x]+2];y+=12;b+=18}}break;case"triangles":for(var P=0,R=A.length;P<R;P++){h[y]=v[A[P]];h[y+1]=v[A[P]+1];d[b]=p[S[P]];d[b+1]=p[S[P]+1];d[b+2]=p[S[P]+2];y+=2;b+=3}break}}if(r){s.clearColor(r[0]/255,r[1]/255,r[2]/255,1)}else{s.clearColor(0,0,0,0)}s.clear(s.COLOR_BUFFER_BIT);var E=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,E);s.bufferData(s.ARRAY_BUFFER,h,s.STATIC_DRAW);s.enableVertexAttribArray(i.positionLocation);s.vertexAttribPointer(i.positionLocation,2,s.FLOAT,false,0,0);var T=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,T);s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW);s.enableVertexAttribArray(i.colorLocation);s.vertexAttribPointer(i.colorLocation,3,s.UNSIGNED_BYTE,false,0,0);s.uniform2f(i.scaleLocation,a.scaleX,a.scaleY);s.uniform2f(i.offsetLocation,a.offsetX,a.offsetY);s.drawArrays(s.TRIANGLES,0,u);s.flush();s.deleteBuffer(E);s.deleteBuffer(T);return o}return{tryInitGL:function e(){try{u();return!!o}catch(e){}return false},composeSMask:d,drawFigures:y,cleanup:function e(){if(f&&f.canvas){f.canvas.width=0;f.canvas.height=0}if(g&&g.canvas){g.canvas.width=0;g.canvas.height=0}f=null;g=null}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.renderTextLayer=void 0;var n=r(1);var a=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}var o=function e(){var t=1e5;var r=/\S/;function i(e){return!r.test(e)}function o(e,t,r){var a=document.createElement("span");var o={angle:0,canvasWidth:0,isWhitespace:false,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};e._textDivs.push(a);if(i(t.str)){o.isWhitespace=true;e._textDivProperties.set(a,o);return}var s=n.Util.transform(e._viewport.transform,t.transform);var u=Math.atan2(s[1],s[0]);var l=r[t.fontName];if(l.vertical){u+=Math.PI/2}var c=Math.sqrt(s[2]*s[2]+s[3]*s[3]);var f=c;if(l.ascent){f=l.ascent*f}else if(l.descent){f=(1+l.descent)*f}var h,d;if(u===0){h=s[4];d=s[5]-f}else{h=s[4]+f*Math.sin(u);d=s[5]-f*Math.cos(u)}a.style.left="".concat(h,"px");a.style.top="".concat(d,"px");a.style.fontSize="".concat(c,"px");a.style.fontFamily=l.fontFamily;a.textContent=t.str;if(e._fontInspectorEnabled){a.dataset.fontName=t.fontName}if(u!==0){o.angle=u*(180/Math.PI)}if(t.str.length>1){if(l.vertical){o.canvasWidth=t.height*e._viewport.scale}else{o.canvasWidth=t.width*e._viewport.scale}}e._textDivProperties.set(a,o);if(e._textContentStream){e._layoutText(a)}if(e._enhanceTextSelection){var v=1,p=0;if(u!==0){v=Math.cos(u);p=Math.sin(u)}var g=(l.vertical?t.height:t.width)*e._viewport.scale;var m=c;var y,b;if(u!==0){y=[v,p,-p,v,h,d];b=n.Util.getAxialAlignedBoundingBox([0,0,g,m],y)}else{b=[h,d,h+g,d+m]}e._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:a,size:[g,m],m:y})}}function s(e){if(e._canceled){return}var r=e._textDivs;var n=e._capability;var a=r.length;if(a>t){e._renderingDone=true;n.resolve();return}if(!e._textContentStream){for(var i=0;i<a;i++){e._layoutText(r[i])}}e._renderingDone=true;n.resolve()}function u(e){var t=e._bounds;var r=e._viewport;var a=l(r.width,r.height,t);for(var i=0;i<a.length;i++){var o=t[i].div;var s=e._textDivProperties.get(o);if(s.angle===0){s.paddingLeft=t[i].left-a[i].left;s.paddingTop=t[i].top-a[i].top;s.paddingRight=a[i].right-t[i].right;s.paddingBottom=a[i].bottom-t[i].bottom;e._textDivProperties.set(o,s);continue}var u=a[i],c=t[i];var f=c.m,h=f[0],d=f[1];var v=[[0,0],[0,c.size[1]],[c.size[0],0],c.size];var p=new Float64Array(64);v.forEach(function(e,t){var r=n.Util.applyTransform(e,f);p[t+0]=h&&(u.left-r[0])/h;p[t+4]=d&&(u.top-r[1])/d;p[t+8]=h&&(u.right-r[0])/h;p[t+12]=d&&(u.bottom-r[1])/d;p[t+16]=d&&(u.left-r[0])/-d;p[t+20]=h&&(u.top-r[1])/h;p[t+24]=d&&(u.right-r[0])/-d;p[t+28]=h&&(u.bottom-r[1])/h;p[t+32]=h&&(u.left-r[0])/-h;p[t+36]=d&&(u.top-r[1])/-d;p[t+40]=h&&(u.right-r[0])/-h;p[t+44]=d&&(u.bottom-r[1])/-d;p[t+48]=d&&(u.left-r[0])/d;p[t+52]=h&&(u.top-r[1])/-h;p[t+56]=d&&(u.right-r[0])/d;p[t+60]=h&&(u.bottom-r[1])/-h});var g=function e(t,r,n){var a=0;for(var i=0;i<n;i++){var o=t[r++];if(o>0){a=a?Math.min(o,a):o}}return a};var m=1+Math.min(Math.abs(h),Math.abs(d));s.paddingLeft=g(p,32,16)/m;s.paddingTop=g(p,48,16)/m;s.paddingRight=g(p,0,16)/m;s.paddingBottom=g(p,16,16)/m;e._textDivProperties.set(o,s)}}function l(e,t,r){var n=r.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:undefined,x2New:undefined}});c(e,n);var a=new Array(r.length);n.forEach(function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}});r.map(function(t,r){var i=a[r],o=n[r];o.x1=t.top;o.y1=e-i.right;o.x2=t.bottom;o.y2=e-i.left;o.index=r;o.x1New=undefined;o.x2New=undefined});c(t,n);n.forEach(function(e){var t=e.index;a[t].top=e.x1New;a[t].bottom=e.x2New});return a}function c(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var r={x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0};var n=[{start:-Infinity,end:Infinity,boundary:r}];t.forEach(function(e){var t=0;while(t<n.length&&n[t].end<=e.y1){t++}var r=n.length-1;while(r>=0&&n[r].start>=e.y2){r--}var a,i;var o,s,u=-Infinity;for(o=t;o<=r;o++){a=n[o];i=a.boundary;var l;if(i.x2>e.x1){l=i.index>e.index?i.x1New:e.x1}else if(i.x2New===undefined){l=(i.x2+e.x1)/2}else{l=i.x2New}if(l>u){u=l}}e.x1New=u;for(o=t;o<=r;o++){a=n[o];i=a.boundary;if(i.x2New===undefined){if(i.x2>e.x1){if(i.index>e.index){i.x2New=i.x2}}else{i.x2New=u}}else if(i.x2New>u){i.x2New=Math.max(u,i.x2)}}var c=[],f=null;for(o=t;o<=r;o++){a=n[o];i=a.boundary;var h=i.x2>e.x2?i:e;if(f===h){c[c.length-1].end=a.end}else{c.push({start:a.start,end:a.end,boundary:h});f=h}}if(n[t].start<e.y1){c[0].start=e.y1;c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})}if(e.y2<n[r].end){c[c.length-1].end=e.y2;c.push({start:e.y2,end:n[r].end,boundary:n[r].boundary})}for(o=t;o<=r;o++){a=n[o];i=a.boundary;if(i.x2New!==undefined){continue}var d=false;for(s=t-1;!d&&s>=0&&n[s].start>=i.y1;s--){d=n[s].boundary===i}for(s=r+1;!d&&s<n.length&&n[s].end<=i.y2;s++){d=n[s].boundary===i}for(s=0;!d&&s<c.length;s++){d=c[s].boundary===i}if(!d){i.x2New=u}}Array.prototype.splice.apply(n,[t,r-t+1].concat(c))});n.forEach(function(t){var r=t.boundary;if(r.x2New===undefined){r.x2New=Math.max(e,r.x2)}})}function f(e){var t=this;var r=e.textContent,i=e.textContentStream,o=e.container,s=e.viewport,u=e.textDivs,l=e.textContentItemsStr,c=e.enhanceTextSelection;this._textContent=r;this._textContentStream=i;this._container=o;this._viewport=s;this._textDivs=u||[];this._textContentItemsStr=l||[];this._enhanceTextSelection=!!c;this._fontInspectorEnabled=!!(a["default"].FontInspector&&a["default"].FontInspector.enabled);this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=false;this._canceled=false;this._capability=(0,n.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise["finally"](function(){if(t._layoutTextCtx){t._layoutTextCtx.canvas.width=0;t._layoutTextCtx.canvas.height=0;t._layoutTextCtx=null}})["catch"](function(){})}f.prototype={get promise(){return this._capability.promise},cancel:function e(){this._canceled=true;if(this._reader){this._reader.cancel(new n.AbortException("TextLayer task cancelled."));this._reader=null}if(this._renderTimer!==null){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function e(t,r){for(var n=0,a=t.length;n<a;n++){this._textContentItemsStr.push(t[n].str);o(this,t[n],r)}},_layoutText:function e(t){var r=this._textDivProperties.get(t);if(r.isWhitespace){return}var n="";if(r.canvasWidth!==0){var a=t.style,i=a.fontSize,o=a.fontFamily;if(i!==this._layoutTextLastFontSize||o!==this._layoutTextLastFontFamily){this._layoutTextCtx.font="".concat(i," ").concat(o);this._layoutTextLastFontSize=i;this._layoutTextLastFontFamily=o}var s=this._layoutTextCtx.measureText(t.textContent),u=s.width;if(u>0){r.scale=r.canvasWidth/u;n="scaleX(".concat(r.scale,")")}}if(r.angle!==0){n="rotate(".concat(r.angle,"deg) ").concat(n)}if(n.length>0){if(this._enhanceTextSelection){r.originalTransform=n}t.style.transform=n}this._textDivProperties.set(t,r);this._container.appendChild(t)},_render:function e(t){var r=this;var a=(0,n.createPromiseCapability)();var i=Object.create(null);var o=document.createElement("canvas");o.mozOpaque=true;this._layoutTextCtx=o.getContext("2d",{alpha:false});if(this._textContent){var u=this._textContent.items;var l=this._textContent.styles;this._processItems(u,l);a.resolve()}else if(this._textContentStream){var c=function e(){r._reader.read().then(function(t){var n=t.value,o=t.done;if(o){a.resolve();return}Object.assign(i,n.styles);r._processItems(n.items,i);e()},a.reject)};this._reader=this._textContentStream.getReader();c()}else{throw new Error('Neither "textContent" nor "textContentStream"'+" parameters specified.")}a.promise.then(function(){i=null;if(!t){s(r)}else{r._renderTimer=setTimeout(function(){s(r);r._renderTimer=null},t)}},this._capability.reject)},expandTextDivs:function e(t){if(!this._enhanceTextSelection||!this._renderingDone){return}if(this._bounds!==null){u(this);this._bounds=null}var r="0 0 0 0";var n=[],a=[];for(var i=0,o=this._textDivs.length;i<o;i++){var s=this._textDivs[i];var l=this._textDivProperties.get(s);if(l.isWhitespace){continue}if(t){n.length=0;a.length=0;if(l.originalTransform){n.push(l.originalTransform)}if(l.paddingTop>0){a.push("".concat(l.paddingTop,"px"));n.push("translateY(".concat(-l.paddingTop,"px)"))}else{a.push(0)}if(l.paddingRight>0){a.push("".concat(l.paddingRight/l.scale,"px"))}else{a.push(0)}if(l.paddingBottom>0){a.push("".concat(l.paddingBottom,"px"))}else{a.push(0)}if(l.paddingLeft>0){a.push("".concat(l.paddingLeft/l.scale,"px"));n.push("translateX(".concat(-l.paddingLeft/l.scale,"px)"))}else{a.push(0)}var c=a.join(" ");if(c!==r){s.style.padding=c}if(n.length){s.style.transform=n.join(" ")}}else{s.style.padding=null;s.style.transform=l.originalTransform}}}};function h(e){var t=new f({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});t._render(e.timeout);return t}return h}();t.renderTextLayer=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AnnotationLayer=void 0;var n=r(183);var a=r(1);function i(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){i=Reflect.get}else{i=function e(t,r,n){var a=o(t,r);if(!a)return;var i=Object.getOwnPropertyDescriptor(a,r);if(i.get){return i.get.call(n)}return i.value}}return i(e,t,r||e)}function o(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=c(e);if(e===null)break}return e}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function u(e,t){if(t&&(s(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}var g=function(){function e(){d(this,e)}p(e,null,[{key:"create",value:function e(t){var r=t.data.annotationType;switch(r){case a.AnnotationType.LINK:return new y(t);case a.AnnotationType.TEXT:return new b(t);case a.AnnotationType.WIDGET:var n=t.data.fieldType;switch(n){case"Tx":return new A(t);case"Btn":if(t.data.radioButton){return new w(t)}else if(t.data.checkBox){return new S(t)}return new k(t);case"Ch":return new x(t)}return new _(t);case a.AnnotationType.POPUP:return new C(t);case a.AnnotationType.FREETEXT:return new R(t);case a.AnnotationType.LINE:return new E(t);case a.AnnotationType.SQUARE:return new T(t);case a.AnnotationType.CIRCLE:return new O(t);case a.AnnotationType.POLYLINE:return new L(t);case a.AnnotationType.CARET:return new I(t);case a.AnnotationType.INK:return new j(t);case a.AnnotationType.POLYGON:return new F(t);case a.AnnotationType.HIGHLIGHT:return new M(t);case a.AnnotationType.UNDERLINE:return new N(t);case a.AnnotationType.SQUIGGLY:return new D(t);case a.AnnotationType.STRIKEOUT:return new q(t);case a.AnnotationType.STAMP:return new U(t);case a.AnnotationType.FILEATTACHMENT:return new W(t);default:return new m(t)}}}]);return e}();var m=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;d(this,e);this.isRenderable=r;this.data=t.data;this.layer=t.layer;this.page=t.page;this.viewport=t.viewport;this.linkService=t.linkService;this.downloadManager=t.downloadManager;this.imageResourcesPath=t.imageResourcesPath;this.renderInteractiveForms=t.renderInteractiveForms;this.svgFactory=t.svgFactory;if(r){this.container=this._createContainer(n)}}p(e,[{key:"_createContainer",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.data,n=this.page,i=this.viewport;var o=document.createElement("section");var s=r.rect[2]-r.rect[0];var u=r.rect[3]-r.rect[1];o.setAttribute("data-annotation-id",r.id);var l=a.Util.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]);o.style.transform="matrix(".concat(i.transform.join(","),")");o.style.transformOrigin="-".concat(l[0],"px -").concat(l[1],"px");if(!t&&r.borderStyle.width>0){o.style.borderWidth="".concat(r.borderStyle.width,"px");if(r.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE){s=s-2*r.borderStyle.width;u=u-2*r.borderStyle.width}var c=r.borderStyle.horizontalCornerRadius;var f=r.borderStyle.verticalCornerRadius;if(c>0||f>0){var h="".concat(c,"px / ").concat(f,"px");o.style.borderRadius=h}switch(r.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid";break;default:break}if(r.color){o.style.borderColor=a.Util.makeCssRgb(r.color[0]|0,r.color[1]|0,r.color[2]|0)}else{o.style.borderWidth=0}}o.style.left="".concat(l[0],"px");o.style.top="".concat(l[1],"px");o.style.width="".concat(s,"px");o.style.height="".concat(u,"px");return o}},{key:"_createPopup",value:function e(t,r,n){if(!r){r=document.createElement("div");r.style.height=t.style.height;r.style.width=t.style.width;t.appendChild(r)}var a=new P({container:t,trigger:r,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:true});var i=a.render();i.style.left=t.style.width;t.appendChild(i)}},{key:"render",value:function e(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return e}();var y=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.url||e.data.dest||e.data.action);return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){this.container.className="linkAnnotation";var t=this.data,r=this.linkService;var a=document.createElement("a");if(t.url){(0,n.addLinkAttributes)(a,{url:t.url,target:t.newWindow?n.LinkTarget.BLANK:r.externalLinkTarget,rel:r.externalLinkRel,enabled:r.externalLinkEnabled})}else if(t.action){this._bindNamedAction(a,t.action)}else{this._bindLink(a,t.dest)}this.container.appendChild(a);return this.container}},{key:"_bindLink",value:function e(t,r){var n=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){if(r){n.linkService.navigateTo(r)}return false};if(r){t.className="internalLink"}}},{key:"_bindNamedAction",value:function e(t,r){var n=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){n.linkService.executeNamedAction(r);return false};t.className="internalLink"}}]);return t}(m);var b=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){this.container.className="textAnnotation";var t=document.createElement("img");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.alt="[{{type}} Annotation]";t.dataset.l10nId="text_annotation_type";t.dataset.l10nArgs=JSON.stringify({type:this.data.name});if(!this.data.hasPopup){this._createPopup(this.container,t,this.data)}this.container.appendChild(t);return this.container}}]);return t}(m);var _=function(e){f(t,e);function t(){d(this,t);return u(this,c(t).apply(this,arguments))}p(t,[{key:"render",value:function e(){return this.container}}]);return t}(m);var A=function(e){f(t,e);function t(e){d(this,t);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){var t=["left","center","right"];this.container.className="textWidgetAnnotation";var r=null;if(this.renderInteractiveForms){if(this.data.multiLine){r=document.createElement("textarea");r.textContent=this.data.fieldValue}else{r=document.createElement("input");r.type="text";r.setAttribute("value",this.data.fieldValue)}r.disabled=this.data.readOnly;if(this.data.maxLen!==null){r.maxLength=this.data.maxLen}if(this.data.comb){var n=this.data.rect[2]-this.data.rect[0];var a=n/this.data.maxLen;r.classList.add("comb");r.style.letterSpacing="calc(".concat(a,"px - 1ch)")}}else{r=document.createElement("div");r.textContent=this.data.fieldValue;r.style.verticalAlign="middle";r.style.display="table-cell";var i=null;if(this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)){i=this.page.commonObjs.get(this.data.fontRefName)}this._setTextStyle(r,i)}if(this.data.textAlignment!==null){r.style.textAlign=t[this.data.textAlignment]}this.container.appendChild(r);return this.container}},{key:"_setTextStyle",value:function e(t,r){var n=t.style;n.fontSize="".concat(this.data.fontSize,"px");n.direction=this.data.fontDirection<0?"rtl":"ltr";if(!r){return}n.fontWeight=r.black?r.bold?"900":"bold":r.bold?"bold":"normal";n.fontStyle=r.italic?"italic":"normal";var a=r.loadedName?'"'.concat(r.loadedName,'", '):"";var i=r.fallbackName||"Helvetica, sans-serif";n.fontFamily=a+i}}]);return t}(_);var S=function(e){f(t,e);function t(e){d(this,t);return u(this,c(t).call(this,e,e.renderInteractiveForms))}p(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation checkBox";var t=document.createElement("input");t.disabled=this.data.readOnly;t.type="checkbox";if(this.data.fieldValue&&this.data.fieldValue!=="Off"){t.setAttribute("checked",true)}this.container.appendChild(t);return this.container}}]);return t}(_);var w=function(e){f(t,e);function t(e){d(this,t);return u(this,c(t).call(this,e,e.renderInteractiveForms))}p(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation radioButton";var t=document.createElement("input");t.disabled=this.data.readOnly;t.type="radio";t.name=this.data.fieldName;if(this.data.fieldValue===this.data.buttonValue){t.setAttribute("checked",true)}this.container.appendChild(t);return this.container}}]);return t}(_);var k=function(e){f(t,e);function t(){d(this,t);return u(this,c(t).apply(this,arguments))}p(t,[{key:"render",value:function e(){var r=i(c(t.prototype),"render",this).call(this);r.className="buttonWidgetAnnotation pushButton";return r}}]);return t}(y);var x=function(e){f(t,e);function t(e){d(this,t);return u(this,c(t).call(this,e,e.renderInteractiveForms))}p(t,[{key:"render",value:function e(){this.container.className="choiceWidgetAnnotation";var t=document.createElement("select");t.disabled=this.data.readOnly;if(!this.data.combo){t.size=this.data.options.length;if(this.data.multiSelect){t.multiple=true}}var r=true;var n=false;var a=undefined;try{for(var i=this.data.options[Symbol.iterator](),o;!(r=(o=i.next()).done);r=true){var s=o.value;var u=document.createElement("option");u.textContent=s.displayValue;u.value=s.exportValue;if(this.data.fieldValue.includes(s.displayValue)){u.setAttribute("selected",true)}t.appendChild(u)}}catch(e){n=true;a=e}finally{try{if(!r&&i["return"]!=null){i["return"]()}}finally{if(n){throw a}}}this.container.appendChild(t);return this.container}}]);return t}(_);var C=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.title||e.data.contents);return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){var t=["Line","Square","Circle","PolyLine","Polygon","Ink"];this.container.className="popupAnnotation";if(t.includes(this.data.parentType)){return this.container}var r='[data-annotation-id="'.concat(this.data.parentId,'"]');var n=this.layer.querySelector(r);if(!n){return this.container}var a=new P({container:this.container,trigger:n,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents});var i=parseFloat(n.style.left);var o=parseFloat(n.style.width);this.container.style.transformOrigin="-".concat(i+o,"px -").concat(n.style.top);this.container.style.left="".concat(i+o,"px");this.container.appendChild(a.render());return this.container}}]);return t}(m);var P=function(){function e(t){d(this,e);this.container=t.container;this.trigger=t.trigger;this.color=t.color;this.title=t.title;this.modificationDate=t.modificationDate;this.contents=t.contents;this.hideWrapper=t.hideWrapper||false;this.pinned=false}p(e,[{key:"render",value:function e(){var t=.7;var r=document.createElement("div");r.className="popupWrapper";this.hideElement=this.hideWrapper?r:this.container;this.hideElement.setAttribute("hidden",true);var i=document.createElement("div");i.className="popup";var o=this.color;if(o){var s=t*(255-o[0])+o[0];var u=t*(255-o[1])+o[1];var l=t*(255-o[2])+o[2];i.style.backgroundColor=a.Util.makeCssRgb(s|0,u|0,l|0)}var c=document.createElement("h1");c.textContent=this.title;i.appendChild(c);var f=n.PDFDateString.toDateObject(this.modificationDate);if(f){var h=document.createElement("span");h.textContent="{{date}}, {{time}}";h.dataset.l10nId="annotation_date_string";h.dataset.l10nArgs=JSON.stringify({date:f.toLocaleDateString(),time:f.toLocaleTimeString()});i.appendChild(h)}var d=this._formatContents(this.contents);i.appendChild(d);this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,false));this.trigger.addEventListener("mouseout",this._hide.bind(this,false));i.addEventListener("click",this._hide.bind(this,true));r.appendChild(i);return r}},{key:"_formatContents",value:function e(t){var r=document.createElement("p");var n=t.split(/(?:\r\n?|\n)/);for(var a=0,i=n.length;a<i;++a){var o=n[a];r.appendChild(document.createTextNode(o));if(a<i-1){r.appendChild(document.createElement("br"))}}return r}},{key:"_toggle",value:function e(){if(this.pinned){this._hide(true)}else{this._show(true)}}},{key:"_show",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){this.pinned=true}if(this.hideElement.hasAttribute("hidden")){this.hideElement.removeAttribute("hidden");this.container.style.zIndex+=1}}},{key:"_hide",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t){this.pinned=false}if(!this.hideElement.hasAttribute("hidden")&&!this.pinned){this.hideElement.setAttribute("hidden",true);this.container.style.zIndex-=1}}}]);return e}();var R=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="freeTextAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var E=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="lineAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=this.svgFactory.createElement("svg:line");i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);i.setAttribute("stroke-width",t.borderStyle.width);i.setAttribute("stroke","transparent");a.appendChild(i);this.container.append(a);this._createPopup(this.container,i,t);return this.container}}]);return t}(m);var T=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="squareAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var o=this.svgFactory.createElement("svg:rect");o.setAttribute("x",i/2);o.setAttribute("y",i/2);o.setAttribute("width",r-i);o.setAttribute("height",n-i);o.setAttribute("stroke-width",i);o.setAttribute("stroke","transparent");o.setAttribute("fill","none");a.appendChild(o);this.container.append(a);this._createPopup(this.container,o,t);return this.container}}]);return t}(m);var O=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="circleAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var o=this.svgFactory.createElement("svg:ellipse");o.setAttribute("cx",r/2);o.setAttribute("cy",n/2);o.setAttribute("rx",r/2-i/2);o.setAttribute("ry",n/2-i/2);o.setAttribute("stroke-width",i);o.setAttribute("stroke","transparent");o.setAttribute("fill","none");a.appendChild(o);this.container.append(a);this._createPopup(this.container,o,t);return this.container}}]);return t}(m);var L=function(e){f(t,e);function t(e){var r;d(this,t);var n=!!(e.data.hasPopup||e.data.title||e.data.contents);r=u(this,c(t).call(this,e,n,true));r.containerClassName="polylineAnnotation";r.svgElementName="svg:polyline";return r}p(t,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=[];var o=true;var s=false;var u=undefined;try{for(var l=t.vertices[Symbol.iterator](),c;!(o=(c=l.next()).done);o=true){var f=c.value;var h=f.x-t.rect[0];var d=t.rect[3]-f.y;i.push(h+","+d)}}catch(e){s=true;u=e}finally{try{if(!o&&l["return"]!=null){l["return"]()}}finally{if(s){throw u}}}i=i.join(" ");var v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",i);v.setAttribute("stroke-width",t.borderStyle.width);v.setAttribute("stroke","transparent");v.setAttribute("fill","none");a.appendChild(v);this.container.append(a);this._createPopup(this.container,v,t);return this.container}}]);return t}(m);var F=function(e){f(t,e);function t(e){var r;d(this,t);r=u(this,c(t).call(this,e));r.containerClassName="polygonAnnotation";r.svgElementName="svg:polygon";return r}return t}(L);var I=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="caretAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var j=function(e){f(t,e);function t(e){var r;d(this,t);var n=!!(e.data.hasPopup||e.data.title||e.data.contents);r=u(this,c(t).call(this,e,n,true));r.containerClassName="inkAnnotation";r.svgElementName="svg:polyline";return r}p(t,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=true;var o=false;var s=undefined;try{for(var u=t.inkLists[Symbol.iterator](),l;!(i=(l=u.next()).done);i=true){var c=l.value;var f=[];var h=true;var d=false;var v=undefined;try{for(var p=c[Symbol.iterator](),g;!(h=(g=p.next()).done);h=true){var m=g.value;var y=m.x-t.rect[0];var b=t.rect[3]-m.y;f.push("".concat(y,",").concat(b))}}catch(e){d=true;v=e}finally{try{if(!h&&p["return"]!=null){p["return"]()}}finally{if(d){throw v}}}f=f.join(" ");var _=this.svgFactory.createElement(this.svgElementName);_.setAttribute("points",f);_.setAttribute("stroke-width",t.borderStyle.width);_.setAttribute("stroke","transparent");_.setAttribute("fill","none");this._createPopup(this.container,_,t);a.appendChild(_)}}catch(e){o=true;s=e}finally{try{if(!i&&u["return"]!=null){u["return"]()}}finally{if(o){throw s}}}this.container.append(a);return this.container}}]);return t}(m);var M=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="highlightAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var N=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="underlineAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var D=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="squigglyAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var q=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="strikeoutAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var U=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="stampAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var W=function(e){f(t,e);function t(e){var r;d(this,t);r=u(this,c(t).call(this,e,true));var i=r.data.file,o=i.filename,s=i.content;r.filename=(0,n.getFilenameFromUrl)(o);r.content=s;if(r.linkService.eventBus){r.linkService.eventBus.dispatch("fileattachmentannotation",{source:l(r),id:(0,a.stringToPDFString)(o),filename:o,content:s})}return r}p(t,[{key:"render",value:function e(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.addEventListener("dblclick",this._download.bind(this));if(!this.data.hasPopup&&(this.data.title||this.data.contents)){this._createPopup(this.container,t,this.data)}this.container.appendChild(t);return this.container}},{key:"_download",value:function e(){if(!this.downloadManager){(0,a.warn)("Download cannot be started due to unavailable download manager");return}this.downloadManager.downloadData(this.content,this.filename,"")}}]);return t}(m);var B=function(){function e(){d(this,e)}p(e,null,[{key:"render",value:function e(t){var r=true;var a=false;var i=undefined;try{for(var o=t.annotations[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=s.value;if(!u){continue}var l=g.create({data:u,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:t.renderInteractiveForms||false,svgFactory:new n.DOMSVGFactory});if(l.isRenderable){t.div.appendChild(l.render())}}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"update",value:function e(t){var r=true;var n=false;var a=undefined;try{for(var i=t.annotations[Symbol.iterator](),o;!(r=(o=i.next()).done);r=true){var s=o.value;var u=t.div.querySelector('[data-annotation-id="'.concat(s.id,'"]'));if(u){u.style.transform="matrix(".concat(t.viewport.transform.join(","),")")}}}catch(e){n=true;a=e}finally{try{if(!r&&i["return"]!=null){i["return"]()}}finally{if(n){throw a}}}t.div.removeAttribute("hidden")}}]);return e}();t.AnnotationLayer=B},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SVGGraphics=void 0;var n=r(1);var a=r(183);var i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return c(e)||l(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function f(e,t){return v(e)||d(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function v(e){if(Array.isArray(e))return e}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var y=function e(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=y;{var b=function e(t){var r=[];var n=[];var a=true;var i=false;var o=undefined;try{for(var s=t[Symbol.iterator](),u;!(a=(u=s.next()).done);a=true){var l=u.value;if(l.fn==="save"){r.push({fnId:92,fn:"group",items:[]});n.push(r);r=r[r.length-1].items;continue}if(l.fn==="restore"){r=n.pop()}else{r.push(l)}}}catch(e){i=true;o=e}finally{try{if(!a&&s["return"]!=null){s["return"]()}}finally{if(i){throw o}}}return r};var _=function e(t){if(Number.isInteger(t)){return t.toString()}var r=t.toFixed(10);var n=r.length-1;if(r[n]!=="0"){return r}do{n--}while(r[n]==="0");return r.substring(0,r[n]==="."?n:n+1)};var A=function e(t){if(t[4]===0&&t[5]===0){if(t[1]===0&&t[2]===0){if(t[0]===1&&t[3]===1){return""}return"scale(".concat(_(t[0])," ").concat(_(t[3]),")")}if(t[0]===t[3]&&t[1]===-t[2]){var r=Math.acos(t[0])*180/Math.PI;return"rotate(".concat(_(r),")")}}else{if(t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1){return"translate(".concat(_(t[4])," ").concat(_(t[5]),")")}}return"matrix(".concat(_(t[0])," ").concat(_(t[1])," ").concat(_(t[2])," ").concat(_(t[3])," ").concat(_(t[4])," ")+"".concat(_(t[5]),")")};var S={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"};var w="http://www.w3.org/XML/1998/namespace";var k="http://www.w3.org/1999/xlink";var x=["butt","round","square"];var C=["miter","round","bevel"];var P=function(){var e=new Uint8Array([137,80,78,71,13,10,26,10]);var t=12;var r=new Int32Array(256);for(var a=0;a<256;a++){var o=a;for(var s=0;s<8;s++){if(o&1){o=3988292384^o>>1&2147483647}else{o=o>>1&2147483647}}r[a]=o}function u(e,t,n){var a=-1;for(var i=t;i<n;i++){var o=(a^e[i])&255;var s=r[o];a=a>>>8^s}return a^-1}function l(e,t,r,n){var a=n;var i=t.length;r[a]=i>>24&255;r[a+1]=i>>16&255;r[a+2]=i>>8&255;r[a+3]=i&255;a+=4;r[a]=e.charCodeAt(0)&255;r[a+1]=e.charCodeAt(1)&255;r[a+2]=e.charCodeAt(2)&255;r[a+3]=e.charCodeAt(3)&255;a+=4;r.set(t,a);a+=t.length;var o=u(r,n+4,a);r[a]=o>>24&255;r[a+1]=o>>16&255;r[a+2]=o>>8&255;r[a+3]=o&255}function c(e,t,r){var n=1;var a=0;for(var i=t;i<r;++i){n=(n+(e[i]&255))%65521;a=(a+n)%65521}return a<<16|n}function f(e){if(!(0,i["default"])()){return h(e)}try{var t;if(parseInt(process.versions.node)>=8){t=e}else{t=new Buffer(e)}var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return h(e)}function h(e){var t=e.length;var r=65535;var n=Math.ceil(t/r);var a=new Uint8Array(2+t+n*5+4);var i=0;a[i++]=120;a[i++]=156;var o=0;while(t>r){a[i++]=0;a[i++]=255;a[i++]=255;a[i++]=0;a[i++]=0;a.set(e.subarray(o,o+r),i);i+=r;o+=r;t-=r}a[i++]=1;a[i++]=t&255;a[i++]=t>>8&255;a[i++]=~t&65535&255;a[i++]=(~t&65535)>>8&255;a.set(e.subarray(o),i);i+=e.length-o;var s=c(e,0,e.length);a[i++]=s>>24&255;a[i++]=s>>16&255;a[i++]=s>>8&255;a[i++]=s&255;return a}function d(r,a,i,o){var s=r.width;var u=r.height;var c,h,d;var v=r.data;switch(a){case n.ImageKind.GRAYSCALE_1BPP:h=0;c=1;d=s+7>>3;break;case n.ImageKind.RGB_24BPP:h=2;c=8;d=s*3;break;case n.ImageKind.RGBA_32BPP:h=6;c=8;d=s*4;break;default:throw new Error("invalid format")}var p=new Uint8Array((1+d)*u);var g=0,m=0;for(var y=0;y<u;++y){p[g++]=0;p.set(v.subarray(m,m+d),g);m+=d;g+=d}if(a===n.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(var b=0;b<u;b++){g++;for(var _=0;_<d;_++){p[g++]^=255}}}var A=new Uint8Array([s>>24&255,s>>16&255,s>>8&255,s&255,u>>24&255,u>>16&255,u>>8&255,u&255,c,h,0,0,0]);var S=f(p);var w=e.length+t*3+A.length+S.length;var k=new Uint8Array(w);var x=0;k.set(e,x);x+=e.length;l("IHDR",A,k,x);x+=t+A.length;l("IDATA",S,k,x);x+=t+S.length;l("IEND",new Uint8Array(0),k,x);return(0,n.createObjectURL)(k,"image/png",i)}return function e(t,r,a){var i=t.kind===undefined?n.ImageKind.GRAYSCALE_1BPP:t.kind;return d(t,i,r,a)}}();var R=function(){function e(){p(this,e);this.fontSizeScale=1;this.fontWeight=S.fontWeight;this.fontSize=0;this.textMatrix=n.IDENTITY_MATRIX;this.fontMatrix=n.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=n.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=S.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}m(e,[{key:"clone",value:function e(){return Object.create(this)}},{key:"setCurrentPoint",value:function e(t,r){this.x=t;this.y=r}}]);return e}();var E=0;var T=0;var O=0;t.SVGGraphics=y=function(){function e(t,r,i){p(this,e);this.svgFactory=new a.DOMSVGFactory;this.current=new R;this.transformMatrix=n.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=t;this.objs=r;this.pendingClip=null;this.pendingEOFill=false;this.embedFonts=false;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!i;this._operatorIdMapping=[];for(var o in n.OPS){this._operatorIdMapping[n.OPS[o]]=o}}m(e,[{key:"save",value:function e(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t);this.current=t.clone()}},{key:"restore",value:function e(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null}},{key:"group",value:function e(t){this.save();this.executeOpTree(t);this.restore()}},{key:"loadDependencies",value:function e(t){var r=this;var a=t.fnArray;var i=t.argsArray;for(var o=0,s=a.length;o<s;o++){if(a[o]!==n.OPS.dependency){continue}var u=true;var l=false;var c=undefined;try{var f=function e(){var t=d.value;var n=t.startsWith("g_")?r.commonObjs:r.objs;var a=new Promise(function(e){n.get(t,e)});r.current.dependencies.push(a)};for(var h=i[o][Symbol.iterator](),d;!(u=(d=h.next()).done);u=true){f()}}catch(e){l=true;c=e}finally{try{if(!u&&h["return"]!=null){h["return"]()}}finally{if(l){throw c}}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function e(t,r,a,i,o,s){var u=[t,r,a,i,o,s];this.transformMatrix=n.Util.transform(this.transformMatrix,u);this.tgrp=null}},{key:"getSVG",value:function e(t,r){var a=this;this.viewport=r;var i=this._initialize(r);return this.loadDependencies(t).then(function(){a.transformMatrix=n.IDENTITY_MATRIX;a.executeOpTree(a.convertOpList(t));return i})}},{key:"convertOpList",value:function e(t){var r=this._operatorIdMapping;var n=t.argsArray;var a=t.fnArray;var i=[];for(var o=0,s=a.length;o<s;o++){var u=a[o];i.push({fnId:u,fn:r[u],args:n[o]})}return b(i)}},{key:"executeOpTree",value:function e(t){var r=true;var a=false;var i=undefined;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=s.value;var l=u.fn;var c=u.fnId;var f=u.args;switch(c|0){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(f);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case n.OPS.setFont:this.setFont(f);break;case n.OPS.showText:this.showText(f[0]);break;case n.OPS.showSpacedText:this.showText(f[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(f[0],f[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case n.OPS.setHScale:this.setHScale(f[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case n.OPS.setTextRise:this.setTextRise(f[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case n.OPS.setLineWidth:this.setLineWidth(f[0]);break;case n.OPS.setLineJoin:this.setLineJoin(f[0]);break;case n.OPS.setLineCap:this.setLineCap(f[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case n.OPS.setFillColorN:this.setFillColorN(f);break;case n.OPS.shadingFill:this.shadingFill(f[0]);break;case n.OPS.setDash:this.setDash(f[0],f[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(f[0]);break;case n.OPS.setFlatness:this.setFlatness(f[0]);break;case n.OPS.setGState:this.setGState(f[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case n.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case n.OPS.constructPath:this.constructPath(f[0],f[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,n.warn)("Unimplemented operator ".concat(l));break}}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"setWordSpacing",value:function e(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function e(t){this.current.charSpacing=t}},{key:"nextLine",value:function e(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function e(t,r,n,a,i,o){var s=this.current;s.textMatrix=s.lineMatrix=[t,r,n,a,i,o];s.textMatrixScale=Math.sqrt(t*t+r*r);s.x=s.lineX=0;s.y=s.lineY=0;s.xcoords=[];s.tspan=this.svgFactory.createElement("svg:tspan");s.tspan.setAttributeNS(null,"font-family",s.fontFamily);s.tspan.setAttributeNS(null,"font-size","".concat(_(s.fontSize),"px"));s.tspan.setAttributeNS(null,"y",_(-s.y));s.txtElement=this.svgFactory.createElement("svg:text");s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function e(){var t=this.current;t.x=t.lineX=0;t.y=t.lineY=0;t.textMatrix=n.IDENTITY_MATRIX;t.lineMatrix=n.IDENTITY_MATRIX;t.textMatrixScale=1;t.tspan=this.svgFactory.createElement("svg:tspan");t.txtElement=this.svgFactory.createElement("svg:text");t.txtgrp=this.svgFactory.createElement("svg:g");t.xcoords=[]}},{key:"moveText",value:function e(t,r){var n=this.current;n.x=n.lineX+=t;n.y=n.lineY+=r;n.xcoords=[];n.tspan=this.svgFactory.createElement("svg:tspan");n.tspan.setAttributeNS(null,"font-family",n.fontFamily);n.tspan.setAttributeNS(null,"font-size","".concat(_(n.fontSize),"px"));n.tspan.setAttributeNS(null,"y",_(-n.y))}},{key:"showText",value:function e(t){var r=this.current;var a=r.font;var i=r.fontSize;if(i===0){return}var o=r.charSpacing;var s=r.wordSpacing;var u=r.fontDirection;var l=r.textHScale*u;var c=a.vertical;var f=i*r.fontMatrix[0];var h=0;var d=true;var v=false;var p=undefined;try{for(var g=t[Symbol.iterator](),m;!(d=(m=g.next()).done);d=true){var y=m.value;if(y===null){h+=u*s;continue}else if((0,n.isNum)(y)){h+=-y*i*.001;continue}var b=y.width;var k=y.fontChar;var x=(y.isSpace?s:0)+o;var C=b*f+x*u;if(!y.isInFont&&!a.missingFile){h+=C;continue}r.xcoords.push(r.x+h*l);r.tspan.textContent+=k;h+=C}}catch(e){v=true;p=e}finally{try{if(!d&&g["return"]!=null){g["return"]()}}finally{if(v){throw p}}}if(c){r.y-=h*l}else{r.x+=h*l}r.tspan.setAttributeNS(null,"x",r.xcoords.map(_).join(" "));r.tspan.setAttributeNS(null,"y",_(-r.y));r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size","".concat(_(r.fontSize),"px"));if(r.fontStyle!==S.fontStyle){r.tspan.setAttributeNS(null,"font-style",r.fontStyle)}if(r.fontWeight!==S.fontWeight){r.tspan.setAttributeNS(null,"font-weight",r.fontWeight)}var P=r.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(P===n.TextRenderingMode.FILL||P===n.TextRenderingMode.FILL_STROKE){if(r.fillColor!==S.fillColor){r.tspan.setAttributeNS(null,"fill",r.fillColor)}if(r.fillAlpha<1){r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)}}else if(r.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH){r.tspan.setAttributeNS(null,"fill","transparent")}else{r.tspan.setAttributeNS(null,"fill","none")}if(P===n.TextRenderingMode.STROKE||P===n.TextRenderingMode.FILL_STROKE){var R=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,R)}var E=r.textMatrix;if(r.textRise!==0){E=E.slice();E[5]+=r.textRise}r.txtElement.setAttributeNS(null,"transform","".concat(A(E)," scale(1, -1)"));r.txtElement.setAttributeNS(w,"xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)}},{key:"setLeadingMoveText",value:function e(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"addFontStyle",value:function e(t){if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}var r=(0,n.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(r,"); }\n")}},{key:"setFont",value:function e(t){var r=this.current;var a=this.commonObjs.get(t[0]);var i=t[1];r.font=a;if(this.embedFonts&&a.data&&!this.embeddedFonts[a.loadedName]){this.addFontStyle(a);this.embeddedFonts[a.loadedName]=a}r.fontMatrix=a.fontMatrix?a.fontMatrix:n.FONT_IDENTITY_MATRIX;var o=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal";var s=a.italic?"italic":"normal";if(i<0){i=-i;r.fontDirection=-1}else{r.fontDirection=1}r.fontSize=i;r.fontFamily=a.loadedName;r.fontWeight=o;r.fontStyle=s;r.tspan=this.svgFactory.createElement("svg:tspan");r.tspan.setAttributeNS(null,"y",_(-r.y));r.xcoords=[]}},{key:"endText",value:function e(){var t=this.current;if(t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()){t.element=t.txtElement;this.clip("nonzero");this.endPath()}}},{key:"setLineWidth",value:function e(t){if(t>0){this.current.lineWidth=t}}},{key:"setLineCap",value:function e(t){this.current.lineCap=x[t]}},{key:"setLineJoin",value:function e(t){this.current.lineJoin=C[t]}},{key:"setMiterLimit",value:function e(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function e(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function e(t,r,a){this.current.strokeColor=n.Util.makeCssRgb(t,r,a)}},{key:"setFillAlpha",value:function e(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function e(t,r,a){this.current.fillColor=n.Util.makeCssRgb(t,r,a);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]}},{key:"setStrokeColorN",value:function e(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function e(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function e(t){var r=this.viewport.width;var a=this.viewport.height;var i=n.Util.inverseTransform(this.transformMatrix);var o=n.Util.applyTransform([0,0],i);var s=n.Util.applyTransform([0,a],i);var u=n.Util.applyTransform([r,0],i);var l=n.Util.applyTransform([r,a],i);var c=Math.min(o[0],s[0],u[0],l[0]);var f=Math.min(o[1],s[1],u[1],l[1]);var h=Math.max(o[0],s[0],u[0],l[0]);var d=Math.max(o[1],s[1],u[1],l[1]);var v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",c);v.setAttributeNS(null,"y",f);v.setAttributeNS(null,"width",h-c);v.setAttributeNS(null,"height",d-f);v.setAttributeNS(null,"fill",this._makeShadingPattern(t));this._ensureTransformGroup().appendChild(v)}},{key:"_makeColorN_Pattern",value:function e(t){if(t[0]==="TilingPattern"){return this._makeTilingPattern(t)}return this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function e(t){var r=t[1];var a=t[2];var i=t[3]||n.IDENTITY_MATRIX;var o=f(t[4],4),u=o[0],l=o[1],c=o[2],h=o[3];var d=t[5];var v=t[6];var p=t[7];var g="shading".concat(O++);var m=n.Util.applyTransform([u,l],i),y=f(m,2),b=y[0],_=y[1];var A=n.Util.applyTransform([c,h],i),S=f(A,2),w=S[0],k=S[1];var x=n.Util.singularValueDecompose2dScale(i),C=f(x,2),P=C[0],R=C[1];var E=d*P;var T=v*R;var L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",g);L.setAttributeNS(null,"patternUnits","userSpaceOnUse");L.setAttributeNS(null,"width",E);L.setAttributeNS(null,"height",T);L.setAttributeNS(null,"x","".concat(b));L.setAttributeNS(null,"y","".concat(_));var F=this.svg;var I=this.transformMatrix;var j=this.current.fillColor;var M=this.current.strokeColor;var N=this.svgFactory.create(w-b,k-_);this.svg=N;this.transformMatrix=i;if(p===2){var D=n.Util.makeCssRgb.apply(n.Util,s(r));this.current.fillColor=D;this.current.strokeColor=D}this.executeOpTree(this.convertOpList(a));this.svg=F;this.transformMatrix=I;this.current.fillColor=j;this.current.strokeColor=M;L.appendChild(N.childNodes[0]);this.defs.appendChild(L);return"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function e(t){switch(t[0]){case"RadialAxial":var r="shading".concat(O++);var a=t[2];var i;switch(t[1]){case"axial":var o=t[3];var s=t[4];i=this.svgFactory.createElement("svg:linearGradient");i.setAttributeNS(null,"id",r);i.setAttributeNS(null,"gradientUnits","userSpaceOnUse");i.setAttributeNS(null,"x1",o[0]);i.setAttributeNS(null,"y1",o[1]);i.setAttributeNS(null,"x2",s[0]);i.setAttributeNS(null,"y2",s[1]);break;case"radial":var u=t[3];var l=t[4];var c=t[5];var f=t[6];i=this.svgFactory.createElement("svg:radialGradient");i.setAttributeNS(null,"id",r);i.setAttributeNS(null,"gradientUnits","userSpaceOnUse");i.setAttributeNS(null,"cx",l[0]);i.setAttributeNS(null,"cy",l[1]);i.setAttributeNS(null,"r",f);i.setAttributeNS(null,"fx",u[0]);i.setAttributeNS(null,"fy",u[1]);i.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var h=true;var d=false;var v=undefined;try{for(var p=a[Symbol.iterator](),g;!(h=(g=p.next()).done);h=true){var m=g.value;var y=this.svgFactory.createElement("svg:stop");y.setAttributeNS(null,"offset",m[0]);y.setAttributeNS(null,"stop-color",m[1]);i.appendChild(y)}}catch(e){d=true;v=e}finally{try{if(!h&&p["return"]!=null){p["return"]()}}finally{if(d){throw v}}}this.defs.appendChild(i);return"url(#".concat(r,")");case"Mesh":(0,n.warn)("Unimplemented pattern Mesh");return null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function e(t,r){this.current.dashArray=t;this.current.dashPhase=r}},{key:"constructPath",value:function e(t,r){var a=this.current;var i=a.x,o=a.y;var s=[];var u=0;var l=true;var c=false;var f=undefined;try{for(var h=t[Symbol.iterator](),d;!(l=(d=h.next()).done);l=true){var v=d.value;switch(v|0){case n.OPS.rectangle:i=r[u++];o=r[u++];var p=r[u++];var g=r[u++];var m=i+p;var y=o+g;s.push("M",_(i),_(o),"L",_(m),_(o),"L",_(m),_(y),"L",_(i),_(y),"Z");break;case n.OPS.moveTo:i=r[u++];o=r[u++];s.push("M",_(i),_(o));break;case n.OPS.lineTo:i=r[u++];o=r[u++];s.push("L",_(i),_(o));break;case n.OPS.curveTo:i=r[u+4];o=r[u+5];s.push("C",_(r[u]),_(r[u+1]),_(r[u+2]),_(r[u+3]),_(i),_(o));u+=6;break;case n.OPS.curveTo2:i=r[u+2];o=r[u+3];s.push("C",_(i),_(o),_(r[u]),_(r[u+1]),_(r[u+2]),_(r[u+3]));u+=4;break;case n.OPS.curveTo3:i=r[u+2];o=r[u+3];s.push("C",_(r[u]),_(r[u+1]),_(i),_(o),_(i),_(o));u+=4;break;case n.OPS.closePath:s.push("Z");break}}}catch(e){c=true;f=e}finally{try{if(!l&&h["return"]!=null){h["return"]()}}finally{if(c){throw f}}}s=s.join(" ");if(a.path&&t.length>0&&t[0]!==n.OPS.rectangle&&t[0]!==n.OPS.moveTo){s=a.path.getAttributeNS(null,"d")+s}else{a.path=this.svgFactory.createElement("svg:path");this._ensureTransformGroup().appendChild(a.path)}a.path.setAttributeNS(null,"d",s);a.path.setAttributeNS(null,"fill","none");a.element=a.path;a.setCurrentPoint(i,o)}},{key:"endPath",value:function e(){var t=this.current;t.path=null;if(!this.pendingClip){return}if(!t.element){this.pendingClip=null;return}var r="clippath".concat(E++);var n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",r);n.setAttributeNS(null,"transform",A(this.transformMatrix));var a=t.element.cloneNode(true);if(this.pendingClip==="evenodd"){a.setAttributeNS(null,"clip-rule","evenodd")}else{a.setAttributeNS(null,"clip-rule","nonzero")}this.pendingClip=null;n.appendChild(a);this.defs.appendChild(n);if(t.activeClipUrl){t.clipGroup=null;this.extraStack.forEach(function(e){e.clipGroup=null});n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(r,")");this.tgrp=null}},{key:"clip",value:function e(t){this.pendingClip=t}},{key:"closePath",value:function e(){var t=this.current;if(t.path){var r="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",r)}}},{key:"setLeading",value:function e(t){this.current.leading=-t}},{key:"setTextRise",value:function e(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function e(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function e(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function e(t){}},{key:"setFlatness",value:function e(t){}},{key:"setGState",value:function e(t){var r=true;var a=false;var i=undefined;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=f(s.value,2),l=u[0],c=u[1];switch(l){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,n.warn)("Unimplemented graphic state operator ".concat(l));break}}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"fill",value:function e(){var t=this.current;if(t.element){t.element.setAttributeNS(null,"fill",t.fillColor);t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha);this.endPath()}}},{key:"stroke",value:function e(){var t=this.current;if(t.element){this._setStrokeAttributes(t.element);t.element.setAttributeNS(null,"fill","none");this.endPath()}}},{key:"_setStrokeAttributes",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this.current;var a=n.dashArray;if(r!==1&&a.length>0){a=a.map(function(e){return r*e})}t.setAttributeNS(null,"stroke",n.strokeColor);t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha);t.setAttributeNS(null,"stroke-miterlimit",_(n.miterLimit));t.setAttributeNS(null,"stroke-linecap",n.lineCap);t.setAttributeNS(null,"stroke-linejoin",n.lineJoin);t.setAttributeNS(null,"stroke-width",_(r*n.lineWidth)+"px");t.setAttributeNS(null,"stroke-dasharray",a.map(_).join(" "));t.setAttributeNS(null,"stroke-dashoffset",_(r*n.dashPhase)+"px")}},{key:"eoFill",value:function e(){if(this.current.element){this.current.element.setAttributeNS(null,"fill-rule","evenodd")}this.fill()}},{key:"fillStroke",value:function e(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function e(){if(this.current.element){this.current.element.setAttributeNS(null,"fill-rule","evenodd")}this.fillStroke()}},{key:"closeStroke",value:function e(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function e(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function e(){this.closePath();this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function e(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0");t.setAttributeNS(null,"y","0");t.setAttributeNS(null,"width","1px");t.setAttributeNS(null,"height","1px");t.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(t)}},{key:"paintJpegXObject",value:function e(t,r,n){var a=this.objs.get(t);var i=this.svgFactory.createElement("svg:image");i.setAttributeNS(k,"xlink:href",a.src);i.setAttributeNS(null,"width",_(r));i.setAttributeNS(null,"height",_(n));i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y",_(-n));i.setAttributeNS(null,"transform","scale(".concat(_(1/r)," ").concat(_(-1/n),")"));this._ensureTransformGroup().appendChild(i)}},{key:"paintImageXObject",value:function e(t){var r=this.objs.get(t);if(!r){(0,n.warn)("Dependent image with object ID ".concat(t," is not ready yet"));return}this.paintInlineImageXObject(r)}},{key:"paintInlineImageXObject",value:function e(t,r){var n=t.width;var a=t.height;var i=P(t,this.forceDataSchema,!!r);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0");o.setAttributeNS(null,"y","0");o.setAttributeNS(null,"width",_(n));o.setAttributeNS(null,"height",_(a));this.current.element=o;this.clip("nonzero");var s=this.svgFactory.createElement("svg:image");s.setAttributeNS(k,"xlink:href",i);s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y",_(-a));s.setAttributeNS(null,"width",_(n)+"px");s.setAttributeNS(null,"height",_(a)+"px");s.setAttributeNS(null,"transform","scale(".concat(_(1/n)," ").concat(_(-1/a),")"));if(r){r.appendChild(s)}else{this._ensureTransformGroup().appendChild(s)}}},{key:"paintImageMaskXObject",value:function e(t){var r=this.current;var n=t.width;var a=t.height;var i=r.fillColor;r.maskId="mask".concat(T++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",r.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y","0");s.setAttributeNS(null,"width",_(n));s.setAttributeNS(null,"height",_(a));s.setAttributeNS(null,"fill",i);s.setAttributeNS(null,"mask","url(#".concat(r.maskId,")"));this.defs.appendChild(o);this._ensureTransformGroup().appendChild(s);this.paintInlineImageXObject(t,o)}},{key:"paintFormXObjectBegin",value:function e(t,r){if(Array.isArray(t)&&t.length===6){this.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(r){var n=r[2]-r[0];var a=r[3]-r[1];var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",r[0]);i.setAttributeNS(null,"y",r[1]);i.setAttributeNS(null,"width",_(n));i.setAttributeNS(null,"height",_(a));this.current.element=i;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function e(){}},{key:"_initialize",value:function e(t){var r=this.svgFactory.create(t.width,t.height);var n=this.svgFactory.createElement("svg:defs");r.appendChild(n);this.defs=n;var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"transform",A(t.transform));r.appendChild(a);this.svg=a;return r}},{key:"_ensureClipGroup",value:function e(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(t);this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function e(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix));if(this.current.activeClipUrl){this._ensureClipGroup().appendChild(this.tgrp)}else{this.svg.appendChild(this.tgrp)}}return this.tgrp}}]);return e}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFNodeStream=void 0;var n=o(r(180));var a=r(1);var i=r(198);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function u(e,t){if(t&&(s(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function d(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){d(i,n,a,o,s,"next",e)}function s(e){d(i,n,a,o,s,"throw",e)}o(undefined)})}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var y=require("fs");var b=require("http");var _=require("https");var A=require("url");var S=/^file:\/\/\/[a-zA-Z]:\//;function w(e){var t=A.parse(e);if(t.protocol==="file:"||t.host){return t}if(/^[a-z]:[/\\]/i.test(e)){return A.parse("file:///".concat(e))}if(!t.host){t.protocol="file:"}return t}var k=function(){function e(t){p(this,e);this.source=t;this.url=w(t.url);this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:";this.isFsUrl=this.url.protocol==="file:";this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}m(e,[{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=this.isFsUrl?new T(this):new R(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=this.isFsUrl?new O(this,t,r):new E(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}},{key:"_progressiveDataLength",get:function e(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return e}();t.PDFNodeStream=k;var x=function(){function e(t){p(this,e);this._url=t.url;this._done=false;this._storedError=null;this.onProgress=null;var r=t.source;this._contentLength=r.length;this._loaded=0;this._filename=null;this._disableRange=r.disableRange||false;this._rangeChunkSize=r.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=!r.disableStream;this._isRangeSupported=!r.disableRange;this._readableStream=null;this._readCapability=(0,a.createPromiseCapability)();this._headersCapability=(0,a.createPromiseCapability)()}m(e,[{key:"read",value:function(){var e=v(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._readCapability.promise;case 2:if(!this._done){n.next=4;break}return n.abrupt("return",{value:undefined,done:true});case 4:if(!this._storedError){n.next=6;break}throw this._storedError;case 6:t=this._readableStream.read();if(!(t===null)){n.next=10;break}this._readCapability=(0,a.createPromiseCapability)();return n.abrupt("return",this.read());case 10:this._loaded+=t.length;if(this.onProgress){this.onProgress({loaded:this._loaded,total:this._contentLength})}r=new Uint8Array(t).buffer;return n.abrupt("return",{value:r,done:false});case 14:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(!this._isStreamingSupported&&this._isRangeSupported){this._error(new a.AbortException("streaming is disabled"))}if(this._storedError){this._readableStream.destroy(this._storedError)}}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}();var C=function(){function e(t){p(this,e);this._url=t.url;this._done=false;this._storedError=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,a.createPromiseCapability)();var r=t.source;this._isStreamingSupported=!r.disableStream}m(e,[{key:"read",value:function(){var e=v(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._readCapability.promise;case 2:if(!this._done){n.next=4;break}return n.abrupt("return",{value:undefined,done:true});case 4:if(!this._storedError){n.next=6;break}throw this._storedError;case 6:t=this._readableStream.read();if(!(t===null)){n.next=10;break}this._readCapability=(0,a.createPromiseCapability)();return n.abrupt("return",this.read());case 10:this._loaded+=t.length;if(this.onProgress){this.onProgress({loaded:this._loaded})}r=new Uint8Array(t).buffer;return n.abrupt("return",{value:r,done:false});case 14:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(this._storedError){this._readableStream.destroy(this._storedError)}}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}();function P(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var R=function(e){f(t,e);function t(e){var r;p(this,t);r=u(this,c(t).call(this,e));var n=function t(n){if(n.statusCode===404){var o=new a.MissingPDFException('Missing PDF "'.concat(r._url,'".'));r._storedError=o;r._headersCapability.reject(o);return}r._headersCapability.resolve();r._setReadableStream(n);var s=function e(t){return r._readableStream.headers[t.toLowerCase()]};var u=(0,i.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=u.allowRangeRequests,c=u.suggestedLength;r._isRangeSupported=l;r._contentLength=c||r._contentLength;r._filename=(0,i.extractFilenameFromHeader)(s)};r._request=null;if(r._url.protocol==="http:"){r._request=b.request(P(r._url,e.httpHeaders),n)}else{r._request=_.request(P(r._url,e.httpHeaders),n)}r._request.on("error",function(e){r._storedError=e;r._headersCapability.reject(e)});r._request.end();return r}return t}(x);var E=function(e){f(t,e);function t(e,r,n){var i;p(this,t);i=u(this,c(t).call(this,e));i._httpHeaders={};for(var o in e.httpHeaders){var s=e.httpHeaders[o];if(typeof s==="undefined"){continue}i._httpHeaders[o]=s}i._httpHeaders["Range"]="bytes=".concat(r,"-").concat(n-1);var l=function e(t){if(t.statusCode===404){var r=new a.MissingPDFException('Missing PDF "'.concat(i._url,'".'));i._storedError=r;return}i._setReadableStream(t)};i._request=null;if(i._url.protocol==="http:"){i._request=b.request(P(i._url,i._httpHeaders),l)}else{i._request=_.request(P(i._url,i._httpHeaders),l)}i._request.on("error",function(e){i._storedError=e});i._request.end();return i}return t}(C);var T=function(e){f(t,e);function t(e){var r;p(this,t);r=u(this,c(t).call(this,e));var n=decodeURIComponent(r._url.path);if(S.test(r._url.href)){n=n.replace(/^\//,"")}y.lstat(n,function(e,t){if(e){if(e.code==="ENOENT"){e=new a.MissingPDFException('Missing PDF "'.concat(n,'".'))}r._storedError=e;r._headersCapability.reject(e);return}r._contentLength=t.size;r._setReadableStream(y.createReadStream(n));r._headersCapability.resolve()});return r}return t}(x);var O=function(e){f(t,e);function t(e,r,n){var a;p(this,t);a=u(this,c(t).call(this,e));var i=decodeURIComponent(a._url.path);if(S.test(a._url.href)){i=i.replace(/^\//,"")}a._setReadableStream(y.createReadStream(i,{start:r,end:n-1}));return a}return t}(C)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createResponseStatusError=s;t.extractFilenameFromHeader=o;t.validateRangeRequestCapabilities=i;t.validateResponseStatus=u;var n=r(1);var a=r(199);function i(e){var t=e.getResponseHeader,r=e.isHttp,a=e.rangeChunkSize,i=e.disableRange;(0,n.assert)(a>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:false,suggestedLength:undefined};var s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s)){return o}o.suggestedLength=s;if(s<=2*a){return o}if(i||!r){return o}if(t("Accept-Ranges")!=="bytes"){return o}var u=t("Content-Encoding")||"identity";if(u!=="identity"){return o}o.allowRangeRequests=true;return o}function o(e){var t=e("Content-Disposition");if(t){var r=(0,a.getFilenameFromContentDispositionHeader)(t);if(r.includes("%")){try{r=decodeURIComponent(r)}catch(e){}}if(/\.pdf$/i.test(r)){return r}}return null}function s(e,t){if(e===404||e===0&&/^file:/.test(t)){return new n.MissingPDFException('Missing PDF "'+t+'".')}return new n.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)}function u(e){return e===200||e===206}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFilenameFromContentDispositionHeader=s;function n(e,t){return o(e)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function o(e){if(Array.isArray(e))return e}function s(e){var t=true;var r=s("filename\\*","i").exec(e);if(r){r=r[1];var a=f(r);a=unescape(a);a=h(a);a=d(a);return l(a)}r=c(e);if(r){var i=d(r);return l(i)}r=s("filename","i").exec(e);if(r){r=r[1];var o=f(r);o=d(o);return l(o)}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+"\\s*=\\s*"+"("+'[^";\\s][^;\\s]*'+"|"+'"(?:[^"\\\\]|\\\\"?)+"?'+")",t)}function u(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r)){return r}try{var n=new TextDecoder(e,{fatal:true});var a=Array.from(r,function(e){return e.charCodeAt(0)&255});r=n.decode(new Uint8Array(a));t=false}catch(n){if(/^utf-?8$/i.test(e)){try{r=decodeURIComponent(escape(r));t=false}catch(e){}}}}return r}function l(e){if(t&&/[\x80-\xff]/.test(e)){e=u("utf-8",e);if(t){e=u("iso-8859-1",e)}}return e}function c(e){var t=[],r;var a=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while((r=a.exec(e))!==null){var i=r,o=n(i,4),u=o[1],l=o[2],c=o[3];u=parseInt(u,10);if(u in t){if(u===0){break}continue}t[u]=[l,c]}var d=[];for(var u=0;u<t.length;++u){if(!(u in t)){break}var v=n(t[u],2),l=v[0],c=v[1];c=f(c);if(l){c=unescape(c);if(u===0){c=h(c)}}d.push(c)}return d.join("")}function f(e){if(e.startsWith('"')){var t=e.slice(1).split('\\"');for(var r=0;r<t.length;++r){var n=t[r].indexOf('"');if(n!==-1){t[r]=t[r].slice(0,n);t.length=r+1}t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function h(e){var t=e.indexOf("'");if(t===-1){return e}var r=e.slice(0,t);var n=e.slice(t+1);var a=n.replace(/^[^']*'/,"");return u(r,a)}function d(e){if(!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)){return e}return e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if(r==="q"||r==="Q"){n=n.replace(/_/g," ");n=n.replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))});return u(t,n)}try{n=atob(n)}catch(e){}return u(t,n)})}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFNetworkStream=void 0;var n=o(r(180));var a=r(1);var i=r(198);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,u,"next",e)}function u(e){s(i,n,a,o,u,"throw",e)}o(undefined)})}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}var h=200;var d=206;function v(e){var t=e.response;if(typeof t!=="string"){return t}var r=(0,a.stringToBytes)(t);return r.buffer}var p=function(){function e(t,r){l(this,e);this.url=t;r=r||{};this.isHttp=/^https?:/i.test(t);this.httpHeaders=this.isHttp&&r.httpHeaders||{};this.withCredentials=r.withCredentials||false;this.getXhr=r.getXhr||function e(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}f(e,[{key:"requestRange",value:function e(t,r,n){var a={begin:t,end:r};for(var i in n){a[i]=n[i]}return this.request(a)}},{key:"requestFull",value:function e(t){return this.request(t)}},{key:"request",value:function e(t){var r=this.getXhr();var n=this.currXhrId++;var a=this.pendingRequests[n]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var i in this.httpHeaders){var o=this.httpHeaders[i];if(typeof o==="undefined"){continue}r.setRequestHeader(i,o)}if(this.isHttp&&"begin"in t&&"end"in t){r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1));a.expectedStatus=d}else{a.expectedStatus=h}r.responseType="arraybuffer";if(t.onError){r.onerror=function(e){t.onError(r.status)}}r.onreadystatechange=this.onStateChange.bind(this,n);r.onprogress=this.onProgress.bind(this,n);a.onHeadersReceived=t.onHeadersReceived;a.onDone=t.onDone;a.onError=t.onError;a.onProgress=t.onProgress;r.send(null);return n}},{key:"onProgress",value:function e(t,r){var n=this.pendingRequests[t];if(!n){return}if(n.onProgress){n.onProgress(r)}}},{key:"onStateChange",value:function e(t,r){var n=this.pendingRequests[t];if(!n){return}var a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived){n.onHeadersReceived();delete n.onHeadersReceived}if(a.readyState!==4){return}if(!(t in this.pendingRequests)){return}delete this.pendingRequests[t];if(a.status===0&&this.isHttp){if(n.onError){n.onError(a.status)}return}var i=a.status||h;var o=i===h&&n.expectedStatus===d;if(!o&&i!==n.expectedStatus){if(n.onError){n.onError(a.status)}return}var s=v(a);if(i===d){var u=a.getResponseHeader("Content-Range");var l=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(l[1],10),chunk:s})}else if(s){n.onDone({begin:0,chunk:s})}else if(n.onError){n.onError(a.status)}}},{key:"hasPendingRequests",value:function e(){for(var t in this.pendingRequests){return true}return false}},{key:"getRequestXhr",value:function e(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function e(t){return t in this.pendingRequests}},{key:"abortAllRequests",value:function e(){for(var t in this.pendingRequests){this.abortRequest(t|0)}}},{key:"abortRequest",value:function e(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}}]);return e}();var g=function(){function e(t){l(this,e);this._source=t;this._manager=new p(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials});this._rangeChunkSize=t.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}f(e,[{key:"_onRangeRequestReaderClosed",value:function e(t){var r=this._rangeRequestReaders.indexOf(t);if(r>=0){this._rangeRequestReaders.splice(r,1)}}},{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=new m(this._manager,this._source);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){var n=new y(this._manager,t,r);n.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}}]);return e}();t.PDFNetworkStream=g;var m=function(){function e(t,r){l(this,e);this._manager=t;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url;this._fullRequestId=t.requestFull(n);this._headersReceivedCapability=(0,a.createPromiseCapability)();this._disableRange=r.disableRange||false;this._contentLength=r.length;this._rangeChunkSize=r.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=false;this._isRangeSupported=false;this._cachedChunks=[];this._requests=[];this._done=false;this._storedError=undefined;this._filename=null;this.onProgress=null}f(e,[{key:"_onHeadersReceived",value:function e(){var t=this._fullRequestId;var r=this._manager.getRequestXhr(t);var n=function e(t){return r.getResponseHeader(t)};var a=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),o=a.allowRangeRequests,s=a.suggestedLength;if(o){this._isRangeSupported=true}this._contentLength=s||this._contentLength;this._filename=(0,i.extractFilenameFromHeader)(n);if(this._isRangeSupported){this._manager.abortRequest(t)}this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function e(t){if(t){if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t.chunk,done:false})}else{this._cachedChunks.push(t.chunk)}}this._done=true;if(this._cachedChunks.length>0){return}this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}},{key:"_onError",value:function e(t){var r=this._url;var n=(0,i.createResponseStatusError)(t,r);this._storedError=n;this._headersReceivedCapability.reject(n);this._requests.forEach(function(e){e.reject(n)});this._requests=[];this._cachedChunks=[]}},{key:"_onProgress",value:function e(t){if(this.onProgress){this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}}},{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!this._storedError){n.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){n.next=5;break}t=this._cachedChunks.shift();return n.abrupt("return",{value:t,done:false});case 5:if(!this._done){n.next=7;break}return n.abrupt("return",{value:undefined,done:true});case 7:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 10:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._headersReceivedCapability.reject(t);this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];if(this._manager.isPendingRequest(this._fullRequestId)){this._manager.abortRequest(this._fullRequestId)}this._fullRequestReader=null}},{key:"filename",get:function e(){return this._filename}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"headersReady",get:function e(){return this._headersReceivedCapability.promise}}]);return e}();var y=function(){function e(t,r,n){l(this,e);this._manager=t;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(r,n,a);this._requests=[];this._queuedChunk=null;this._done=false;this.onProgress=null;this.onClosed=null}f(e,[{key:"_close",value:function e(){if(this.onClosed){this.onClosed(this)}}},{key:"_onDone",value:function e(t){var r=t.chunk;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:r,done:false})}else{this._queuedChunk=r}this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];this._close()}},{key:"_onProgress",value:function e(t){if(!this.isStreamingSupported&&this.onProgress){this.onProgress({loaded:t.loaded})}}},{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this._queuedChunk!==null)){n.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return n.abrupt("return",{value:t,done:false});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:undefined,done:true});case 6:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 9:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];if(this._manager.isPendingRequest(this._requestId)){this._manager.abortRequest(this._requestId)}this._close()}},{key:"isStreamingSupported",get:function e(){return false}}]);return e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFFetchStream=void 0;var n=o(r(180));var a=r(1);var i=r(198);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,u,"next",e)}function u(e){s(i,n,a,o,u,"throw",e)}o(undefined)})}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function h(e,t,r){return{method:"GET",headers:e,signal:r&&r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}var d=function(){function e(t){l(this,e);this.source=t;this.isHttp=/^https?:/i.test(t.url);this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}f(e,[{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=new v(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=new p(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}},{key:"_progressiveDataLength",get:function e(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return e}();t.PDFFetchStream=d;var v=function(){function e(t){var r=this;l(this,e);this._stream=t;this._reader=null;this._loaded=0;this._filename=null;var n=t.source;this._withCredentials=n.withCredentials||false;this._contentLength=n.length;this._headersCapability=(0,a.createPromiseCapability)();this._disableRange=n.disableRange||false;this._rangeChunkSize=n.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}if(typeof AbortController!=="undefined"){this._abortController=new AbortController}this._isStreamingSupported=!n.disableStream;this._isRangeSupported=!n.disableRange;this._headers=new Headers;for(var o in this._stream.httpHeaders){var s=this._stream.httpHeaders[o];if(typeof s==="undefined"){continue}this._headers.append(o,s)}var u=n.url;fetch(u,h(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,i.validateResponseStatus)(e.status)){throw(0,i.createResponseStatusError)(e.status,u)}r._reader=e.body.getReader();r._headersCapability.resolve();var t=function t(r){return e.headers.get(r)};var n=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),o=n.allowRangeRequests,s=n.suggestedLength;r._isRangeSupported=o;r._contentLength=s||r._contentLength;r._filename=(0,i.extractFilenameFromHeader)(t);if(!r._isStreamingSupported&&r._isRangeSupported){r.cancel(new a.AbortException("Streaming is disabled."))}})["catch"](this._headersCapability.reject);this.onProgress=null}f(e,[{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r,a,i;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._headersCapability.promise;case 2:n.next=4;return this._reader.read();case 4:t=n.sent;r=t.value;a=t.done;if(!a){n.next=9;break}return n.abrupt("return",{value:r,done:a});case 9:this._loaded+=r.byteLength;if(this.onProgress){this.onProgress({loaded:this._loaded,total:this._contentLength})}i=new Uint8Array(r).buffer;return n.abrupt("return",{value:i,done:false});case 13:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}if(this._abortController){this._abortController.abort()}}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}();var p=function(){function e(t,r,n){var o=this;l(this,e);this._stream=t;this._reader=null;this._loaded=0;var s=t.source;this._withCredentials=s.withCredentials||false;this._readCapability=(0,a.createPromiseCapability)();this._isStreamingSupported=!s.disableStream;if(typeof AbortController!=="undefined"){this._abortController=new AbortController}this._headers=new Headers;for(var u in this._stream.httpHeaders){var c=this._stream.httpHeaders[u];if(typeof c==="undefined"){continue}this._headers.append(u,c)}this._headers.append("Range","bytes=".concat(r,"-").concat(n-1));var f=s.url;fetch(f,h(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,i.validateResponseStatus)(e.status)){throw(0,i.createResponseStatusError)(e.status,f)}o._readCapability.resolve();o._reader=e.body.getReader()});this.onProgress=null}f(e,[{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r,a,i;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._readCapability.promise;case 2:n.next=4;return this._reader.read();case 4:t=n.sent;r=t.value;a=t.done;if(!a){n.next=9;break}return n.abrupt("return",{value:r,done:a});case 9:this._loaded+=r.byteLength;if(this.onProgress){this.onProgress({loaded:this._loaded})}i=new Uint8Array(r).buffer;return n.abrupt("return",{value:i,done:false});case 13:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}if(this._abortController){this._abortController.abort()}}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}()}])});